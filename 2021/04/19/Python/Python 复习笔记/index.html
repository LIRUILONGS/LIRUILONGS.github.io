<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Python 复习笔记 - 山河已无恙</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="山河已无恙"><meta name="msapplication-TileImage" content="https://cdn.jsdelivr.net/gh/removeif/removeif-demo@latest/img/favicon.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="山河已无恙"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta description="python陆续的学了好几次，大学时便开始学，都是学点皮面之后没有坚持来，基本语法，正则，Socket，爬虫都接触过。做java比较多，平常基本不用，所以一直没有一篇系统的笔记来供自己温习，这里整理一篇较基础的，供自己温习。原来资源是小伙伴分享的学习笔记，这里自己稍作整理汇总。生活加油"><meta property="og:type" content="blog"><meta property="og:title" content="山河已无恙"><meta property="og:url" content="https://liruilong.blog.csdn.net/?t=1&amp;type=blog"><meta property="og:site_name" content="山河已无恙"><meta property="og:description" content="python陆续的学了好几次，大学时便开始学，都是学点皮面之后没有坚持来，基本语法，正则，Socket，爬虫都接触过。做java比较多，平常基本不用，所以一直没有一篇系统的笔记来供自己温习，这里整理一篇较基础的，供自己温习。原来资源是小伙伴分享的学习笔记，这里自己稍作整理汇总。生活加油"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://liruilong.blog.csdn.net/img/头像.jpg"><meta property="article:published_time" content="2021-04-19T04:00:00.000Z"><meta property="article:modified_time" content="2023-06-21T11:25:59.104Z"><meta property="article:author" content="LIRUILONGS"><meta property="article:tag" content="Python"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/头像.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://liruilongs.github.io/2021/04/19/Python/Python%20%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/"},"headline":"山河已无恙","image":[],"datePublished":"2021-04-19T04:00:00.000Z","dateModified":"2023-06-21T11:25:59.104Z","author":{"@type":"Person","name":"山河已无恙"},"description":"python陆续的学了好几次，大学时便开始学，都是学点皮面之后没有坚持来，基本语法，正则，Socket，爬虫都接触过。做java比较多，平常基本不用，所以一直没有一篇系统的笔记来供自己温习，这里整理一篇较基础的，供自己温习。原来资源是小伙伴分享的学习笔记，这里自己稍作整理汇总。生活加油"}</script><link rel="canonical" href="https://liruilongs.github.io/2021/04/19/Python/Python%20%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/"><link rel="alternate" href="/path/to/atom.xml" title="山河已无恙" type="application/atom+xml"><link rel="icon" href="https://cdn.jsdelivr.net/gh/removeif/removeif-demo@latest/img/favicon.png"><meta name="referrer" content="no-referrer-when-downgrade"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Ubuntu:400,600|Source+Code+Pro|Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;amp;subset=latin,latin-ext|Inconsolata|Itim|Lobster.css"><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="/js/globalUtils.js"></script><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?3f06f2b732a5b1034c989f74e28d0eea";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css"><script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script><meta name="generator" content="Hexo 5.4.2"></head><body class="is-3-column has-navbar-fixed-top"><nav class="navbar navbar-main is-fixed-top"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="山河已无恙" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/media">影音</a><a class="navbar-item" href="/album">相册</a><a class="navbar-item" href="/friend">友链</a><a class="navbar-item" href="/self-talking">生活小记</a><a class="navbar-item" href="/message">留言墙</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Gitee" href="https://gitee.com/liruilonger"><i class="fab fa-git-square fa-1x"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="GitHub" href="https://github.com/LIRUILONGS"><i class="fab fa-github fa-1x"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul fa-1x"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search fa-1x"></i></a><a class="navbar-item" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon fa-1x" id="night-icon"></i></a></div></div></div></nav><script type="text/javascript" src="/js/theme-setting.js"></script><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><!--!--><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><i class="far fa-calendar-plus"> </i>2021-04-19  <a class="commentCountImg" href="/2021/04/19/Python/Python%20%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/#comment-container"><span class="display-none-class">778231c84bdcc4a54ea3091f5ef4df25</span><i class="far fa-comment-dots"></i> <span class="commentCount" id="778231c84bdcc4a54ea3091f5ef4df25">99+</span>  </a><span class="level-item"><i class="far fa-clock"> </i>6 小时  <i class="fas fa-pencil-alt"> </i>53.4 k</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">Python 复习笔记</h1><div class="content"><p>python陆续的学了好几次，大学时便开始学，都是学点皮面之后没有坚持来，基本语法，正则，Socket，爬虫都接触过。做java比较多，平常基本不用，所以一直没有一篇系统的笔记来供自己温习，这里整理一篇较基础的，供自己温习。原来资源是小伙伴分享的学习笔记，这里自己稍作整理汇总。生活加油</p>
<span id="more"></span>


<h3 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h3><hr>
<p>python陆续的学了好几次，大学时便开始学，都是学点皮面之后没有坚持来，基本语法，正则，Socket，爬虫都接触过。做java比较多，平常基本不用，所以一直没有一篇系统的笔记来供自己温习，这里整理一篇较基础的，供自己温习。原来资源是小伙伴分享的学习笔记，这里自己稍作整理汇总。生活加油</p>
<hr>
<h3 id="Python-基础入门"><a href="#Python-基础入门" class="headerlink" title="Python 基础入门"></a>Python 基础入门</h3><ul>
<li>Google开源机器学习框架：TensorFlow</li>
<li>开源社区主推学习框架：Scikit-learn</li>
<li>百度开源深度学习框架：Paddle<br><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/Python/407313?fr=aladdin"> Python发展历史：</a></li>
</ul>
<h4 id="Python版本"><a href="#Python版本" class="headerlink" title="Python版本"></a>Python版本</h4><ul>
<li>Python 2.X</li>
<li>Python 3.X<ul>
<li>Python 3.5</li>
<li>Python 3.6</li>
<li>Python 3.7</li>
</ul>
</li>
</ul>
<h4 id="Python解释器的作用"><a href="#Python解释器的作用" class="headerlink" title="Python解释器的作用"></a>Python解释器的作用</h4><p><code>Python解释器作用：运行文件</code></p>
<ul>
<li><code>Python解释器种类</code><ul>
<li><code>CPython</code>，C语言开发的解释器[官方]，应用广泛的解释器。</li>
<li><code>IPython</code>，基于CPython的一种交互式解释器。</li>
<li><code>其他解释器</code><ul>
<li><code>PyPy</code>，基于Python语言开发的解释器。</li>
<li><code>Jython</code>，运行在Java平台的解释器，直接把Python代码编译成Java字节码执行。</li>
<li><code>IronPython</code>，运行在微软.Net平台上的Python解释器，可以直接把Python代码编译成.Net的字节码。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="linxu上编码"><a href="#linxu上编码" class="headerlink" title="linxu上编码"></a>linxu上编码</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">[root@liruilong ~]# python3</span><br><span class="line">-bash: python3: command not found</span><br><span class="line">[root@liruilong ~]# yum -y install python3</span><br><span class="line">Loaded plugins: fastestmirror, product-id, search-disabled-repos, subscription-manager</span><br><span class="line"></span><br><span class="line">This system is not registered with an entitlement server. You can use subscription-manager to register.</span><br><span class="line"></span><br><span class="line">Repository epel is listed more than once in the configuration</span><br><span class="line">Repository epel-debuginfo is listed more than once in the configuration</span><br><span class="line">Repository epel-source is listed more than once in the configuration</span><br><span class="line">Determining fastest mirrors</span><br><span class="line">Downloading packages:</span><br><span class="line">(1/5): libtirpc-0.2.4-0.16.el7.x86_64.rpm                                                                                     |  89 kB  00:00:00     </span><br><span class="line">(2/5): python3-3.6.8-18.el7.x86_64.rpm                                                                                        |  70 kB  00:00:00     </span><br><span class="line">(3/5): python3-setuptools-39.2.0-10.el7.noarch.rpm                                                                            | 629 kB  00:00:00     </span><br><span class="line">(4/5): python3-pip-9.0.3-8.el7.noarch.rpm                                                                                     | 1.6 MB  00:00:00     </span><br><span class="line">(5/5): python3-libs-3.6.8-18.el7.x86_64.rpm                                                                                   | 6.9 MB  00:00:00     </span><br><span class="line">-----------------------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">Total                                                                                                                 16 MB/s | 9.3 MB  00:00:00     </span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction test</span><br><span class="line">Transaction test succeeded</span><br><span class="line">Running transaction</span><br><span class="line">  Installing : libtirpc-0.2.4-0.16.el7.x86_64                                                                                                    1/5 </span><br><span class="line">  Installing : python3-setuptools-39.2.0-10.el7.noarch                                                                                           2/5 </span><br><span class="line">  Installing : python3-pip-9.0.3-8.el7.noarch                                                                                                    3/5 </span><br><span class="line">  Installing : python3-3.6.8-18.el7.x86_64                                                                                                       4/5 </span><br><span class="line">  Installing : python3-libs-3.6.8-18.el7.x86_64                                                                                                  5/5 </span><br><span class="line">  Verifying  : libtirpc-0.2.4-0.16.el7.x86_64                                                                                                    1/5 </span><br><span class="line">  Verifying  : python3-setuptools-39.2.0-10.el7.noarch                                                                                           2/5 </span><br><span class="line">  Verifying  : python3-libs-3.6.8-18.el7.x86_64                                                                                                  3/5 </span><br><span class="line">  Verifying  : python3-3.6.8-18.el7.x86_64                                                                                                       4/5 </span><br><span class="line">  Verifying  : python3-pip-9.0.3-8.el7.noarch                                                                                                    5/5 </span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">  python3.x86_64 0:3.6.8-18.el7                                                                                                                      </span><br><span class="line"></span><br><span class="line">Dependency Installed:</span><br><span class="line">  libtirpc.x86_64 0:0.2.4-0.16.el7  python3-libs.x86_64 0:3.6.8-18.el7  python3-pip.noarch 0:9.0.3-8.el7  python3-setuptools.noarch 0:39.2.0-10.el7 </span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line">[root@liruilong ~]# python3</span><br><span class="line">Python 3.6.8 (default, Nov 16 2020, 16:55:22) </span><br><span class="line">[GCC 4.8.5 20150623 (Red Hat 4.8.5-44)] on linux</span><br><span class="line">Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;</span> </span><br></pre></td></tr></table></figure>

<h4 id="PyCharm的作用"><a href="#PyCharm的作用" class="headerlink" title="PyCharm的作用"></a>PyCharm的作用</h4><p>PyCharm是一种Python &#x3D;&#x3D;IDE&#x3D;&#x3D;(集成开发环境)，带有一整套可以帮助用户在使用Python语言开发时&#x3D;&#x3D;提高其效率的工具&#x3D;&#x3D;，内部集成的功能如下：</p>
<blockquote>
<p>PythonCharm分为专业版(professional)和社区版(community)</p>
</blockquote>
<h4 id="PyCharm基本使用"><a href="#PyCharm基本使用" class="headerlink" title="PyCharm基本使用"></a>PyCharm基本使用</h4><ul>
<li><p>新建项目:打开PyCharm – [Create New Project] – 选择项目根目录和解释器版本 – [Create]，即可完成新建一个项目。</p>
</li>
<li><p>新建文件并书写代码:项目根目录或根目录内部任意位置 — 右键 – [New] – [Python File] – 输入文件名 – [OK]</p>
<blockquote>
<p>如果是将来要上传到服务器的文件，那么文件名切记不能用中文。</p>
</blockquote>
</li>
</ul>
<p>双击打开文件，并书写一个最简单的Python代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>运行文件:文件打开状态 – 空白位置 — 右键 – Run – 即可调出Pycharm的控制台输出程序结果。</li>
</ul>
<h4 id="注释的分类及语法"><a href="#注释的分类及语法" class="headerlink" title="注释的分类及语法"></a>注释的分类及语法</h4><p>注释分为两类：&#x3D;&#x3D;单行注释&#x3D;&#x3D; 和 &#x3D;&#x3D;多行注释&#x3D;&#x3D;。快捷键： &#x3D;&#x3D;ctrl + &#x2F;&#x3D;&#x3D;   ,解释器不执行任何的注释内容。</p>
<ul>
<li><code>单行注释</code>:只能注释一行内容，语法如下：<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 注释内容</span></span><br><span class="line"><span class="comment"># 输出hello world</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;hello world&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;hello Python&#x27;</span>)  <span class="comment"># 输出(简单的说明可以放到一行代码的后面，一般习惯代码后面添加两个空格再书写注释文字)</span></span><br></pre></td></tr></table></figure></li>
<li><code>多行注释</code>:可以注释多行内容，一般用在注释一段代码的情况， 语法如下：<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">	第一行注释</span></span><br><span class="line"><span class="string">	第二行注释</span></span><br><span class="line"><span class="string">	第三行注释</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    下面三行都是输出的作用，输出内容分别是：</span></span><br><span class="line"><span class="string">    hello Python</span></span><br><span class="line"><span class="string">    hello itcast</span></span><br><span class="line"><span class="string">    hello itheima</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;hello Python&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;hello itcast&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;hello itheima&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">	注释1</span></span><br><span class="line"><span class="string">	注释2</span></span><br><span class="line"><span class="string">	注释3</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    下面三行都是输出的作用，输出内容分别是：</span></span><br><span class="line"><span class="string">    hello Python</span></span><br><span class="line"><span class="string">    hello itcast</span></span><br><span class="line"><span class="string">    hello itheima</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;hello Python&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;hello itcast&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;hello itheima&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h4><blockquote>
<p>举例体验：我们去图书馆读书，怎么样快速找到自己想要的书籍呢？是不是管理员提前将书放到固定位置，并把这个位置进行了编号，我们只需要在图书馆中按照这个编号查找指定的位置就能找到想要的书籍。这个编号其实就是把书籍存放的书架位置起了一个名字，方便后期查找和使用。<br>程序中，数据都是临时存储在内存中，为了更快速的查找或使用这个数据，通常我们把这个数据在内存中存储之后定义一个名称，这个名称就是变量。</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/20210406224456770.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Nhbmhld3V5YW5n,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<blockquote>
<p>变量就是一个存储数据的的时候当前数据所在的内存地址的名字而已。</p>
</blockquote>
<h4 id="定义变量"><a href="#定义变量" class="headerlink" title="定义变量"></a>定义变量</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">变量名 = 值</span><br></pre></td></tr></table></figure>
<blockquote>
<p>变量名自定义，要满足&#x3D;&#x3D;标识符&#x3D;&#x3D;命名规则。</p>
</blockquote>
<h5 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h5><p>标识符命名规则是Python中定义各种名字的时候的统一规范，具体如下：</p>
<ul>
<li>由数字、字母、下划线组成</li>
<li>不能数字开头</li>
<li>不能使用内置关键字</li>
<li>严格区分大小写</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">False</span>     <span class="literal">None</span>    <span class="literal">True</span>   <span class="keyword">and</span>      <span class="keyword">as</span>       <span class="keyword">assert</span>   <span class="keyword">break</span>     <span class="class"><span class="keyword">class</span>  </span></span><br><span class="line"><span class="class"><span class="title">continue</span>  <span class="title">def</span>     <span class="title">del</span>    <span class="title">elif</span>     <span class="title">else</span>     <span class="title">except</span>   <span class="title">finally</span>   <span class="title">for</span></span></span><br><span class="line"><span class="class"><span class="title">from</span>      <span class="title">global</span>  <span class="title">if</span>     <span class="title">import</span>   <span class="title">in</span>       <span class="title">is</span>       <span class="title">lambda</span>    <span class="title">nonlocal</span></span></span><br><span class="line"><span class="class"><span class="title">not</span>       <span class="title">or</span>      <span class="title">pass</span>   <span class="title">raise</span>    <span class="title">return</span>   <span class="title">try</span>      <span class="title">while</span>     <span class="title">with</span>  </span></span><br><span class="line"><span class="class"><span class="title">yield</span></span></span><br></pre></td></tr></table></figure>
<h5 id="命名习惯"><a href="#命名习惯" class="headerlink" title="命名习惯"></a>命名习惯</h5><ul>
<li>见名知义。</li>
<li>大驼峰：即每个单词首字母都大写，例如：<code>MyName</code>。</li>
<li>小驼峰：第二个(含)以后的单词首字母大写，例如：<code>myName</code>。</li>
<li>下划线：例如：<code>my_name</code>。</li>
</ul>
<h5 id="使用变量"><a href="#使用变量" class="headerlink" title="使用变量"></a>使用变量</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">my_name = <span class="string">&#x27;TOM&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(my_name)</span><br><span class="line"></span><br><span class="line">schoolName = <span class="string">&#x27;程序员&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(schoolName)</span><br></pre></td></tr></table></figure>
<h5 id="认识bug"><a href="#认识bug" class="headerlink" title="认识bug"></a>认识bug</h5><p>所谓bug，就是程序中的错误。如果程序有错误，需要程序员排查问题，纠正错误。</p>
<h4 id="Debug工具"><a href="#Debug工具" class="headerlink" title="Debug工具"></a>Debug工具</h4><p>Debug工具是PyCharm IDE中集成的用来调试程序的工具，在这里程序员可以查看程序的执行细节和流程或者调解bug。Debug工具使用步骤：</p>
<ol>
<li>打断点</li>
<li>Debug调试</li>
</ol>
<h5 id="打断点"><a href="#打断点" class="headerlink" title="打断点"></a>打断点</h5><ul>
<li>断点位置:目标要调试的代码块的第一行代码即可，即一个断点即可。</li>
<li>打断点的方法:单击目标代码的行号右侧空白位置。</li>
</ul>
<h5 id="Debug调试"><a href="#Debug调试" class="headerlink" title="Debug调试"></a>Debug调试</h5><p>打成功断点后，在文件内部任意位置 — 右键 – Debug’文件名’ — 即可调出Debug工具面板 – 单击Step Over&#x2F;F8，即可按步执行代码。</p>
<h6 id="Debug输出面板分类"><a href="#Debug输出面板分类" class="headerlink" title="Debug输出面板分类"></a>Debug输出面板分类</h6><ul>
<li>Debugger:显示变量和变量的细节</li>
<li>Console:输出内容</li>
</ul>
<h4 id="认识数据类型"><a href="#认识数据类型" class="headerlink" title="认识数据类型"></a>认识数据类型</h4><p><strong>在 Python 里为了应对不同的业务需求，也把数据分为不同的类型。</strong><br><img src="https://img-blog.csdnimg.cn/20210407204133288.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Nhbmhld3V5YW5n,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<blockquote>
<p>检测数据类型的方法：<code>type()</code></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a))  <span class="comment"># &lt;class &#x27;int&#x27;&gt; -- 整型</span></span><br><span class="line"></span><br><span class="line">b = <span class="number">1.1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(b))  <span class="comment"># &lt;class &#x27;float&#x27;&gt; -- 浮点型</span></span><br><span class="line"></span><br><span class="line">c = <span class="literal">True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(c))  <span class="comment"># &lt;class &#x27;bool&#x27;&gt; -- 布尔型</span></span><br><span class="line"></span><br><span class="line">d = <span class="string">&#x27;12345&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(d))  <span class="comment"># &lt;class &#x27;str&#x27;&gt; -- 字符串</span></span><br><span class="line"></span><br><span class="line">e = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(e))  <span class="comment"># &lt;class &#x27;list&#x27;&gt; -- 列表</span></span><br><span class="line"></span><br><span class="line">f = (<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(f))  <span class="comment"># &lt;class &#x27;tuple&#x27;&gt; -- 元组</span></span><br><span class="line"></span><br><span class="line">h = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(h))  <span class="comment"># &lt;class &#x27;set&#x27;&gt; -- 集合</span></span><br><span class="line"></span><br><span class="line">g = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;TOM&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(g))  <span class="comment"># &lt;class &#x27;dict&#x27;&gt; -- 字典</span></span><br></pre></td></tr></table></figure>
<h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><p>作用：程序输出内容给用户<br> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;hello Python&#x27;</span>) </span><br><span class="line">age = <span class="number">18</span></span><br><span class="line"><span class="built_in">print</span>(age)</span><br><span class="line"> <span class="comment">##  需求：输出“今年我的年龄是18岁”</span></span><br></pre></td></tr></table></figure></p>
<h4 id="格式化输出"><a href="#格式化输出" class="headerlink" title="格式化输出"></a>格式化输出</h4><p>所谓的格式化输出即按照一定的格式输出内容。</p>
<h4 id="格式化符号"><a href="#格式化符号" class="headerlink" title="格式化符号"></a>格式化符号</h4><table>
<thead>
<tr>
<th align="center">格式符号</th>
<th align="center">转换</th>
</tr>
</thead>
<tbody><tr>
<td align="center">&#x3D;&#x3D;%s&#x3D;&#x3D;</td>
<td align="center">字符串</td>
</tr>
<tr>
<td align="center">&#x3D;&#x3D;%d&#x3D;&#x3D;</td>
<td align="center">有符号的十进制整数</td>
</tr>
<tr>
<td align="center">&#x3D;&#x3D;%f&#x3D;&#x3D;</td>
<td align="center">浮点数</td>
</tr>
<tr>
<td align="center">%c</td>
<td align="center">字符</td>
</tr>
<tr>
<td align="center">%u</td>
<td align="center">无符号十进制整数</td>
</tr>
<tr>
<td align="center">%o</td>
<td align="center">八进制整数</td>
</tr>
<tr>
<td align="center">%x</td>
<td align="center">十六进制整数(小写ox)</td>
</tr>
<tr>
<td align="center">%X</td>
<td align="center">十六进制整数(大写OX)</td>
</tr>
<tr>
<td align="center">%e</td>
<td align="center">科学计数法(小写’e’)</td>
</tr>
<tr>
<td align="center">%E</td>
<td align="center">科学计数法(大写’E’)</td>
</tr>
<tr>
<td align="center">%g</td>
<td align="center">%f和%e的简写</td>
</tr>
<tr>
<td align="center">%G</td>
<td align="center">%f和%E的简写</td>
</tr>
</tbody></table>
<blockquote>
<p>技巧</p>
</blockquote>
<ul>
<li><code>%06d，表示输出的整数显示位数，不足以0补全，超出当前位数则原样输出</code></li>
<li><code>%.2f，表示小数点后显示的小数位数。</code></li>
</ul>
<p>格式化字符串除了<code>%s</code>，还可以写为<code>f&#39;&#123;表达式&#125;&#39;</code><br> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">18</span> </span><br><span class="line">name = <span class="string">&#x27;TOM&#x27;</span></span><br><span class="line">weight = <span class="number">75.5</span></span><br><span class="line">student_id = <span class="number">1</span></span><br><span class="line"> <span class="comment">##  我的名字是TOM</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我的名字是%s&#x27;</span> % name)</span><br><span class="line"> <span class="comment">##  我的学号是0001</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我的学号是%4d&#x27;</span> % student_id)</span><br><span class="line"> <span class="comment">##  我的体重是75.50公斤</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我的体重是%.2f公斤&#x27;</span> % weight)</span><br><span class="line"> <span class="comment">##  我的名字是TOM，今年18岁了</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我的名字是%s，今年%d岁了&#x27;</span> % (name, age))</span><br><span class="line"> <span class="comment">##  我的名字是TOM，明年19岁了</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我的名字是%s，明年%d岁了&#x27;</span> % (name, age + <span class="number">1</span>))</span><br><span class="line"> <span class="comment">##  我的名字是TOM，明年19岁了</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;我的名字是<span class="subst">&#123;name&#125;</span>, 明年<span class="subst">&#123;age + <span class="number">1</span>&#125;</span>岁了&#x27;</span>)</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><code>f-格式化字符串是Python3.6中新增的格式化方法</code>，该方法更简单易读。</p>
</blockquote>
<h5 id="转义字符"><a href="#转义字符" class="headerlink" title="转义字符"></a>转义字符</h5><ul>
<li><code>\n</code>：换行。</li>
<li><code>\t</code>：制表符，一个tab键(4个空格)的距离。</li>
</ul>
<h4 id="结束符"><a href="#结束符" class="headerlink" title="结束符"></a>结束符</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;输出的内容&#x27;</span>, end=<span class="string">&quot;\n&quot;</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>在Python中，print()， 默认自带<code>end=&quot;\n&quot;</code>这个换行结束符，所以导致每两个<code>print</code>直接会换行展示，用户可以按需求更改结束符。</p>
</blockquote>
<h4 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h4><p>在Python中，程序接收用户输入的数据的功能即是输入。</p>
<h5 id="输入的语法"><a href="#输入的语法" class="headerlink" title="输入的语法"></a>输入的语法</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">input</span>(<span class="string">&quot;提示信息&quot;</span>)</span><br></pre></td></tr></table></figure>
<h5 id="输入的特点"><a href="#输入的特点" class="headerlink" title="输入的特点"></a>输入的特点</h5><ul>
<li>当程序执行到<code>input</code>，等待用户输入，输入完成之后才继续向下执行。</li>
<li>在Python中，<code>input</code>接收用户输入后，一般存储到变量，方便使用。</li>
<li>在Python中，<code>input</code>会把接收到的任意用户输入的数据都当做字符串处理。 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">password = <span class="built_in">input</span>(<span class="string">&#x27;请输入您的密码：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;您输入的密码是<span class="subst">&#123;password&#125;</span>&#x27;</span>)</span><br><span class="line"> <span class="comment">## &lt;class &#x27;str&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(password))</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="转换数据类型的作用"><a href="#转换数据类型的作用" class="headerlink" title="转换数据类型的作用"></a>转换数据类型的作用</h4><p>问：input()接收用户输入的数据都是字符串类型，如果用户输入1，想得到整型该如何操作？<br>答：转换数据类型即可，即将字符串类型转换成整型。</p>
<h4 id="转换数据类型的函数"><a href="#转换数据类型的函数" class="headerlink" title="转换数据类型的函数"></a>转换数据类型的函数</h4><table>
<thead>
<tr>
<th align="center">函数</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">&#x3D;&#x3D;int(x [,base ])&#x3D;&#x3D;</td>
<td align="center">将x转换为一个整数</td>
</tr>
<tr>
<td align="center">&#x3D;&#x3D;float(x )&#x3D;&#x3D;</td>
<td align="center">将x转换为一个浮点数</td>
</tr>
<tr>
<td align="center">complex(real [,imag ])</td>
<td align="center">创建一个复数，real为实部，imag为虚部</td>
</tr>
<tr>
<td align="center">&#x3D;&#x3D;str(x )&#x3D;&#x3D;</td>
<td align="center">将对象 x 转换为字符串</td>
</tr>
<tr>
<td align="center">repr(x )</td>
<td align="center">将对象 x 转换为表达式字符串</td>
</tr>
<tr>
<td align="center">&#x3D;&#x3D;eval(str )&#x3D;&#x3D;</td>
<td align="center">用来计算在字符串中的有效Python表达式,并返回一个对象</td>
</tr>
<tr>
<td align="center">&#x3D;&#x3D;tuple(s )&#x3D;&#x3D;</td>
<td align="center">将序列 s 转换为一个元组</td>
</tr>
<tr>
<td align="center">&#x3D;&#x3D;list(s )&#x3D;&#x3D;</td>
<td align="center">将序列 s 转换为一个列表</td>
</tr>
<tr>
<td align="center">chr(x )</td>
<td align="center">将一个整数转换为一个Unicode字符</td>
</tr>
<tr>
<td align="center">ord(x )</td>
<td align="center">将一个字符转换为它的ASCII整数值</td>
</tr>
<tr>
<td align="center">hex(x )</td>
<td align="center">将一个整数转换为一个十六进制字符串</td>
</tr>
<tr>
<td align="center">oct(x )</td>
<td align="center">将一个整数转换为一个八进制字符串</td>
</tr>
<tr>
<td align="center">bin(x )</td>
<td align="center">将一个整数转换为一个二进制字符串</td>
</tr>
</tbody></table>
<h4 id="快速体验"><a href="#快速体验" class="headerlink" title="快速体验"></a>快速体验</h4><p>需求：input接收用户输入，用户输入“1”，将这个数据1转换成整型。<br> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">## 1. 接收用户输入</span></span><br><span class="line">num = <span class="built_in">input</span>(<span class="string">&#x27;请输入您的幸运数字：&#x27;</span>)</span><br><span class="line"> <span class="comment">##  2. 打印结果</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;您的幸运数字是<span class="subst">&#123;num&#125;</span>&quot;</span>)</span><br><span class="line"> <span class="comment">##  3. 检测接收到的用户输入的数据类型 -- str类型</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(num))</span><br><span class="line"> <span class="comment">##  4. 转换数据类型为整型 -- int类型</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">int</span>(num)))</span><br></pre></td></tr></table></figure></p>
<h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">## 1. `float() -- 转换成浮点型`</span></span><br><span class="line">num1 = <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(num1))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">float</span>(num1)))</span><br><span class="line"> <span class="comment">##  2. str() -- 转换成字符串类型</span></span><br><span class="line">num2 = <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">str</span>(num2)))</span><br><span class="line"> <span class="comment">##  3. tuple() -- 将一个序列转换成元组</span></span><br><span class="line">list1 = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">tuple</span>(list1))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">tuple</span>(list1)))</span><br><span class="line"> <span class="comment">##  4. list() -- 将一个序列转换成列表</span></span><br><span class="line">t1 = (<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(t1))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">list</span>(t1)))</span><br><span class="line"> <span class="comment">##  5. eval() -- 将字符串中的数据转换成Python表达式原本类型</span></span><br><span class="line">str1 = <span class="string">&#x27;10&#x27;</span></span><br><span class="line">str2 = <span class="string">&#x27;[1, 2, 3]&#x27;</span></span><br><span class="line">str3 = <span class="string">&#x27;(1000, 2000, 3000)&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">eval</span>(str1)))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">eval</span>(str2)))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">eval</span>(str3)))</span><br></pre></td></tr></table></figure>
<h4 id="运算符的分类"><a href="#运算符的分类" class="headerlink" title="运算符的分类"></a>运算符的分类</h4><ul>
<li>算数运算符</li>
<li>赋值运算符</li>
<li>复合赋值运算符</li>
<li>比较运算符</li>
<li>逻辑运算符</li>
</ul>
<h4 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h4><table>
<thead>
<tr>
<th align="center">运算符</th>
<th align="center">描述</th>
<th>实例</th>
</tr>
</thead>
<tbody><tr>
<td align="center">+</td>
<td align="center">加</td>
<td>1 + 1 输出结果为 2</td>
</tr>
<tr>
<td align="center">-</td>
<td align="center">减</td>
<td>1-1 输出结果为 0</td>
</tr>
<tr>
<td align="center">*</td>
<td align="center">乘</td>
<td>2 * 2 输出结果为 4</td>
</tr>
<tr>
<td align="center">&#x2F;</td>
<td align="center">除</td>
<td>10 &#x2F; 2 输出结果为 5</td>
</tr>
<tr>
<td align="center">&#x2F;&#x2F;</td>
<td align="center">整除</td>
<td>9 &#x2F;&#x2F; 4 输出结果为2</td>
</tr>
<tr>
<td align="center">%</td>
<td align="center">取余</td>
<td>9 % 4 输出结果为 1</td>
</tr>
<tr>
<td align="center">**</td>
<td align="center">指数</td>
<td>2 ** 4 输出结果为 16，即 2 * 2 * 2 * 2</td>
</tr>
<tr>
<td align="center">()</td>
<td align="center">小括号</td>
<td>小括号用来提高运算优先级，即 (1 + 2) * 3 输出结果为 9</td>
</tr>
</tbody></table>
<blockquote>
<p>注意：- 混合运算优先级顺序：<code>()</code>高于 <code>**</code> 高于 <code>*</code> <code>/</code> <code>//</code> <code>%</code> 高于 <code>+</code> <code>-</code></p>
</blockquote>
<h4 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h4><table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;</td>
<td>赋值</td>
<td>将<code>=</code>右侧的结果赋值给等号左侧的变量</td>
</tr>
</tbody></table>
<ul>
<li><code>单个变量赋值</code> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(num)</span><br></pre></td></tr></table></figure></li>
<li><code>多个变量赋值</code> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">num1, float1, str1 = <span class="number">10</span>, <span class="number">0.5</span>, <span class="string">&#x27;hello world&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(num1)</span><br><span class="line"><span class="built_in">print</span>(float1)</span><br><span class="line"><span class="built_in">print</span>(str1)</span><br></pre></td></tr></table></figure></li>
<li><code>多变量赋相同值</code> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = b = <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="复合赋值运算符"><a href="#复合赋值运算符" class="headerlink" title="复合赋值运算符"></a>复合赋值运算符</h4><table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody><tr>
<td>+&#x3D;</td>
<td>加法赋值运算符</td>
<td>c +&#x3D; a 等价于 c &#x3D; c + a</td>
</tr>
<tr>
<td>-&#x3D;</td>
<td>减法赋值运算符</td>
<td>c -&#x3D; a 等价于 c &#x3D; c- a</td>
</tr>
<tr>
<td>*&#x3D;</td>
<td>乘法赋值运算符</td>
<td>c *&#x3D; a 等价于 c &#x3D; c * a</td>
</tr>
<tr>
<td>&#x2F;&#x3D;</td>
<td>除法赋值运算符</td>
<td>c &#x2F;&#x3D; a 等价于 c &#x3D; c &#x2F; a</td>
</tr>
<tr>
<td>&#x2F;&#x2F;&#x3D;</td>
<td>整除赋值运算符</td>
<td>c &#x2F;&#x2F;&#x3D; a 等价于 c &#x3D; c &#x2F;&#x2F; a</td>
</tr>
<tr>
<td>%&#x3D;</td>
<td>取余赋值运算符</td>
<td>c %&#x3D; a 等价于 c &#x3D; c % a</td>
</tr>
<tr>
<td>**&#x3D;</td>
<td>幂赋值运算符</td>
<td>c ** &#x3D; a 等价于 c &#x3D; c ** a</td>
</tr>
<tr>
<td><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">100</span></span><br><span class="line">a += <span class="number">1</span></span><br><span class="line"> <span class="comment">## 输出101  a = a + 1,最终a = 100 + 1</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line">b = <span class="number">2</span></span><br><span class="line">b *= <span class="number">3</span></span><br><span class="line"> <span class="comment">## 输出6  b = b * 3,最终b = 2 * 3</span></span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"></span><br><span class="line">c = <span class="number">10</span></span><br><span class="line">c += <span class="number">1</span> + <span class="number">2</span></span><br><span class="line"> <span class="comment">## 输出13, 先算运算符右侧1 + 2 = 3， c += 3 , 推导出c = 10 + 3</span></span><br><span class="line"><span class="built_in">print</span>(c)</span><br></pre></td></tr></table></figure></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h4><p>比较运算符也叫关系运算符， 通常用来判断。</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&#x3D;&#x3D;</td>
<td align="left">判断相等。如果两个操作数的结果相等，则条件结果为真(True)，否则条件结果为假(False)</td>
<td align="left">如a&#x3D;3,b&#x3D;3，则(a &#x3D;&#x3D; b) 为 True</td>
</tr>
<tr>
<td align="left">!&#x3D;</td>
<td align="left">不等于 。如果两个操作数的结果不相等，则条件为真(True)，否则条件结果为假(False)</td>
<td align="left">如a&#x3D;3,b&#x3D;3，则(a &#x3D;&#x3D; b) 为 True如a&#x3D;1,b&#x3D;3，则(a !&#x3D; b) 为 True</td>
</tr>
<tr>
<td align="left">&gt;</td>
<td align="left">运算符左侧操作数结果是否大于右侧操作数结果，如果大于，则条件为真，否则为假</td>
<td align="left">如a&#x3D;7,b&#x3D;3，则(a &gt; b) 为 True</td>
</tr>
<tr>
<td align="left">&lt;</td>
<td align="left">运算符左侧操作数结果是否小于右侧操作数结果，如果小于，则条件为真，否则为假</td>
<td align="left">如a&#x3D;7,b&#x3D;3，则(a &lt; b) 为 False</td>
</tr>
<tr>
<td align="left">&gt;&#x3D;</td>
<td align="left">运算符左侧操作数结果是否大于等于右侧操作数结果，如果大于，则条件为真，否则为假</td>
<td align="left">如a&#x3D;7,b&#x3D;3，则(a &lt; b) 为 False如a&#x3D;3,b&#x3D;3，则(a &gt;&#x3D; b) 为 True</td>
</tr>
<tr>
<td align="left">&lt;&#x3D;</td>
<td align="left">运算符左侧操作数结果是否小于等于右侧操作数结果，如果小于，则条件为真，否则为假</td>
<td align="left">如a&#x3D;3,b&#x3D;3，则(a &lt;&#x3D; b) 为 True</td>
</tr>
<tr>
<td align="left"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">7</span></span><br><span class="line">b = <span class="number">5</span></span><br><span class="line"><span class="built_in">print</span>(a == b)  <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(a != b)  <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(a &lt; b)   <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(a &gt; b)   <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(a &lt;= b)  <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(a &gt;= b)  <span class="comment"># True</span></span><br></pre></td></tr></table></figure></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h4 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h4><table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">逻辑表达式</th>
<th align="left">描述</th>
<th align="left">实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">and</td>
<td align="left">x and y</td>
<td align="left">布尔”与”：如果 x 为 False，x and y 返回 False，否则它返回 y 的值。</td>
<td align="left">True and False， 返回 False。</td>
</tr>
<tr>
<td align="left">or</td>
<td align="left">x or y</td>
<td align="left">布尔”或”：如果 x 是 True，它返回 True，否则它返回 y 的值。</td>
<td align="left">False or True， 返回 True。</td>
</tr>
<tr>
<td align="left">not</td>
<td align="left">not x</td>
<td align="left">布尔”非”：如果 x 为 True，返回 False 。如果 x 为 False，它返回 True。</td>
<td align="left">not True 返回 False, not False 返回 True</td>
</tr>
<tr>
<td align="left"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line">b = <span class="number">2</span></span><br><span class="line">c = <span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>((a &lt; b) <span class="keyword">and</span> (b &lt; c))  <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>((a &gt; b) <span class="keyword">and</span> (b &lt; c))  <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>((a &gt; b) <span class="keyword">or</span> (b &lt; c))   <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="keyword">not</span> (a &gt; b))          <span class="comment"># True</span></span><br></pre></td></tr></table></figure></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h4 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h4><p>数字之间的逻辑运算<br> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">0</span></span><br><span class="line">b = <span class="number">1</span></span><br><span class="line">c = <span class="number">2</span></span><br><span class="line"> <span class="comment">##  and运算符，二进制位只要有一个值为0，则结果为0，否则结果为最后一个非0数字</span></span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">and</span> b)  <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(b <span class="keyword">and</span> a)  <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">and</span> c)  <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(c <span class="keyword">and</span> a)  <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(b <span class="keyword">and</span> c)  <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(c <span class="keyword">and</span> b)  <span class="comment"># 1</span></span><br><span class="line"> <span class="comment">##  or运算符，只有所有值为0结果才为0，否则结果为第一个非0数字</span></span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">or</span> b)  <span class="comment"># 1</span></span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">or</span> c)  <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(b <span class="keyword">or</span> c)  <span class="comment"># 1</span></span><br></pre></td></tr></table></figure></p>
<h3 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h3><h4 id="if-语法"><a href="#if-语法" class="headerlink" title="if 语法"></a>if 语法</h4><h5 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件:</span><br><span class="line">    条件成立执行的代码<span class="number">1</span></span><br><span class="line">    条件成立执行的代码<span class="number">2</span></span><br><span class="line">    ......</span><br></pre></td></tr></table></figure>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;条件成立执行的代码1&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;条件成立执行的代码2&#x27;</span>)</span><br><span class="line"> <span class="comment">##  下方的代码没有缩进到if语句块，所以和if条件无关</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我是无论条件是否成立都要执行的代码&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h5 id="实例：上网"><a href="#实例：上网" class="headerlink" title="实例：上网"></a>实例：上网</h5><p>需求分析：如果用户年龄大于等于18岁，即成年，输出”已经成年，可以上网”。<br> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">20</span></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;已经成年，可以上网&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;系统关闭&#x27;</span>)</span><br></pre></td></tr></table></figure></p>
<p>新增需求：用户可以输出自己的年龄，然后系统进行判断是否成年，成年则输出”您的年龄是’用户输入的年龄’，已经成年，可以上网”。<br> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">## input接受用户输入的数据是字符串类型，条件是age和整型18做判断，所以这里要int转换数据类型</span></span><br><span class="line">age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入您的年龄：&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;您的年龄是<span class="subst">&#123;age&#125;</span>,已经成年，可以上网&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;系统关闭&#x27;</span>)</span><br></pre></td></tr></table></figure></p>
<h4 id="if…else…"><a href="#if…else…" class="headerlink" title="if…else…"></a>if…else…</h4><p>作用：条件成立执行if下方的代码; 条件不成立执行else下方的代码。</p>
<blockquote>
<p>思考：网吧上网的实例，如果成年，允许上网，如果不成年呢？是不是应该回复用户不能上网？</p>
</blockquote>
<h5 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件:</span><br><span class="line">    条件成立执行的代码<span class="number">1</span></span><br><span class="line">    条件成立执行的代码<span class="number">2</span></span><br><span class="line">    ......</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    条件不成立执行的代码<span class="number">1</span></span><br><span class="line">    条件不成立执行的代码<span class="number">2</span></span><br><span class="line">    ......</span><br></pre></td></tr></table></figure>
<h5 id="实用版：网吧上网"><a href="#实用版：网吧上网" class="headerlink" title="实用版：网吧上网"></a>实用版：网吧上网</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入您的年龄：&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;您的年龄是<span class="subst">&#123;age&#125;</span>,已经成年，可以上网&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;您的年龄是<span class="subst">&#123;age&#125;</span>,未成年，请自行回家写作业&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;系统关闭&#x27;</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：如果条件成立执行了某些代码，那么其他的情况的代码将不会执行。</p>
</blockquote>
<h5 id="多重判断"><a href="#多重判断" class="headerlink" title="多重判断"></a>多重判断</h5><blockquote>
<p>思考：中国合法工作年龄为18-60岁，即如果年龄小于18的情况为童工，不合法；如果年龄在18-60岁之间为合法工龄；大于60岁为法定退休年龄。</p>
</blockquote>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件<span class="number">1</span>:</span><br><span class="line">    条件<span class="number">1</span>成立执行的代码<span class="number">1</span></span><br><span class="line">    条件<span class="number">1</span>成立执行的代码<span class="number">2</span></span><br><span class="line">    ......</span><br><span class="line"><span class="keyword">elif</span> 条件<span class="number">2</span>：</span><br><span class="line">	条件<span class="number">2</span>成立执行的代码<span class="number">1</span></span><br><span class="line">    条件<span class="number">2</span>成立执行的代码<span class="number">2</span></span><br><span class="line">    ......</span><br><span class="line">......</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    以上条件都不成立执行执行的代码</span><br></pre></td></tr></table></figure>
<blockquote>
<p>多重判断也可以和else配合使用。一般else放到整个if语句的最后，表示以上条件都不成立的时候执行的代码。</p>
</blockquote>
<h5 id="实例：工龄判断"><a href="#实例：工龄判断" class="headerlink" title="实例：工龄判断"></a>实例：工龄判断</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入您的年龄：&#x27;</span>))</span><br><span class="line"><span class="keyword">if</span> age &lt; <span class="number">18</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;您的年龄是<span class="subst">&#123;age&#125;</span>,童工一枚&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> (age &gt;= <span class="number">18</span>) <span class="keyword">and</span> (age &lt;= <span class="number">60</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;您的年龄是<span class="subst">&#123;age&#125;</span>,合法工龄&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> age &gt; <span class="number">60</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;您的年龄是<span class="subst">&#123;age&#125;</span>,可以退休&#x27;</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>拓展：<code>age &gt;= 18 and age &lt;= 60</code>可以化简为<code>18 &lt;= age &lt;= 60</code>。</p>
</blockquote>
<h4 id="if嵌套"><a href="#if嵌套" class="headerlink" title="if嵌套"></a>if嵌套</h4><blockquote>
<p>思考：坐公交：如果有钱可以上车，没钱不能上车；上车后如果有空座，则可以坐下；如果没空座，就要站着。怎么书写程序？</p>
</blockquote>
<h5 id="语法-2"><a href="#语法-2" class="headerlink" title="语法"></a>语法</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件<span class="number">1</span>：</span><br><span class="line">	条件<span class="number">1</span>成立执行的代码</span><br><span class="line">    条件<span class="number">1</span>成立执行的代码</span><br><span class="line">     <span class="keyword">if</span> 条件<span class="number">2</span>：</span><br><span class="line">    	条件<span class="number">2</span>成立执行的代码</span><br><span class="line">        条件<span class="number">2</span>成立执行的代码</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：条件2的if也是处于条件1成立执行的代码的缩进关系内部。</p>
</blockquote>
<h4 id="实例：坐公交"><a href="#实例：坐公交" class="headerlink" title="实例：坐公交"></a>实例：坐公交</h4><h5 id="判断是否能上车"><a href="#判断是否能上车" class="headerlink" title="判断是否能上车"></a>判断是否能上车</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">1. 如果有钱，则可以上车</span></span><br><span class="line"><span class="string">    2. 上车后，如果有空座，可以坐下</span></span><br><span class="line"><span class="string">    上车后，如果没有空座，则站着等空座位</span></span><br><span class="line"><span class="string">如果没钱，不能上车</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"> <span class="comment">## 假设用 money = 1 表示有钱, money = 0表示没有钱</span></span><br><span class="line">money = <span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> money == <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;土豪，不差钱，顺利上车&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;没钱，不能上车，追着公交车跑&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h5 id="判断是否能坐下"><a href="#判断是否能坐下" class="headerlink" title="判断是否能坐下"></a>判断是否能坐下</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">1. 如果有钱，则可以上车</span></span><br><span class="line"><span class="string">    2. 上车后，如果有空座，可以坐下</span></span><br><span class="line"><span class="string">    上车后，如果没有空座，则站着等空座位</span></span><br><span class="line"><span class="string">如果没钱，不能上车</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"> <span class="comment">## 假设用 money = 1 表示有钱, money = 0表示没有钱; seat = 1 表示有空座，seat = 0 表示没有空座</span></span><br><span class="line">money = <span class="number">1</span></span><br><span class="line">seat = <span class="number">0</span></span><br><span class="line"><span class="keyword">if</span> money == <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;土豪，不差钱，顺利上车&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> seat == <span class="number">1</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;有空座，可以坐下&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;没有空座，站等&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;没钱，不能上车，追着公交车跑&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="应用：猜拳游戏"><a href="#应用：猜拳游戏" class="headerlink" title="应用：猜拳游戏"></a>应用：猜拳游戏</h4><p>需求分析：</p>
<ul>
<li>参与游戏的角色<ul>
<li>玩家：手动出拳</li>
<li>电脑：随机出拳</li>
</ul>
</li>
<li>判断输赢<ul>
<li>玩家获胜</li>
<li>平局 ： 玩家出拳 和 电脑出拳相同</li>
<li>电脑获胜</li>
</ul>
</li>
</ul>
<p>随机做法：</p>
<ol>
<li>导出random模块</li>
<li>random.randint(开始,结束) <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">提示：0-石头，1-剪刀，2-布</span></span><br><span class="line"><span class="string">1. 出拳</span></span><br><span class="line"><span class="string">玩家输入出拳</span></span><br><span class="line"><span class="string">电脑随机出拳</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2. 判断输赢</span></span><br><span class="line"><span class="string">玩家获胜</span></span><br><span class="line"><span class="string">平局</span></span><br><span class="line"><span class="string">电脑获胜</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"> <span class="comment">##  导入random模块</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"> <span class="comment">##  计算电脑出拳的随机数字</span></span><br><span class="line">computer = random.randint(<span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(computer)</span><br><span class="line"></span><br><span class="line">player = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请出拳：0-石头，1-剪刀，2-布：&#x27;</span>))</span><br><span class="line"> <span class="comment">##  玩家胜利 p0:c1 或 p1:c2 或 p2:c0</span></span><br><span class="line"><span class="keyword">if</span> (player == <span class="number">0</span> <span class="keyword">and</span> computer == <span class="number">1</span>) <span class="keyword">or</span> (player == <span class="number">1</span> <span class="keyword">and</span> computer == <span class="number">2</span>) <span class="keyword">or</span> (player == <span class="number">2</span> <span class="keyword">and</span> computer == <span class="number">0</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;玩家获胜&#x27;</span>)</span><br><span class="line"> <span class="comment">##  平局：玩家 == 电脑</span></span><br><span class="line"><span class="keyword">elif</span> player == computer:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;平局&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;电脑获胜&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="三目运算符"><a href="#三目运算符" class="headerlink" title="三目运算符"></a>三目运算符</h4><p>三目运算符也叫三元运算符。语法如下：<br> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">值<span class="number">1</span> <span class="keyword">if</span> 条件 <span class="keyword">else</span> 值<span class="number">2</span></span><br></pre></td></tr></table></figure></p>
<p>快速体验：<br> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line">b = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">c = a <span class="keyword">if</span> a &gt; b <span class="keyword">else</span> b</span><br><span class="line"><span class="built_in">print</span>(c)</span><br></pre></td></tr></table></figure></p>
<h3 id="循环简介"><a href="#循环简介" class="headerlink" title="循环简介"></a>循环简介</h3><h5 id="循环的作用"><a href="#循环的作用" class="headerlink" title="循环的作用"></a>循环的作用</h5><blockquote>
<p>思考：假如我有个女朋友，有一天我们闹矛盾生气了，女朋友说：道歉，说100遍“媳妇儿，我错了”。这个时候程序员会怎么做？</p>
<p>答：100遍<code>print(&#39;媳妇儿，我错了&#39;)</code><br>思考：复制粘贴100次吗？</p>
<p>答：重复执行100次一样的代码，程序中循环即可</p>
</blockquote>
<p>循环的作用：让代码更高效的重复执行。</p>
<h5 id="循环的分类"><a href="#循环的分类" class="headerlink" title="循环的分类"></a>循环的分类</h5><p>在Python中，循环分为<code>while</code>和<code>for</code>两种，最终实现效果相同。</p>
<h4 id="while的语法"><a href="#while的语法" class="headerlink" title="while的语法"></a>while的语法</h4> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> 条件:</span><br><span class="line">    条件成立重复执行的代码<span class="number">1</span></span><br><span class="line">    条件成立重复执行的代码<span class="number">2</span></span><br><span class="line">    ......</span><br></pre></td></tr></table></figure>
<p>需求：复现重复执行100次<code>print(&#39;媳妇儿，我错了&#39;)</code>(输出更简洁一些，我们这里设置5次)。</p>
<p>分析：初始值是0次，终点是5次，重复做的事情输出“媳妇儿， 我错了”。<br> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">## 循环的计数器</span></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="number">5</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;媳妇儿，我错了&#x27;</span>)</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;任务结束&#x27;</span>)</span><br></pre></td></tr></table></figure></p>
<h4 id="while的应用"><a href="#while的应用" class="headerlink" title="while的应用"></a>while的应用</h4><h5 id="应用一：计算1-100累加和"><a href="#应用一：计算1-100累加和" class="headerlink" title="应用一：计算1-100累加和"></a>应用一：计算1-100累加和</h5><p>分析：1-100的累加和，即1 + 2 + 3 + 4 +….，即前两个数字的相加结果 + 下一个数字( 前一个数字 + 1)。<br> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line">result = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">100</span>:</span><br><span class="line">    result += i</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"> <span class="comment">##  输出5050</span></span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>注意：为了验证程序的准确性，可以先改小数值，验证结果正确后，再改成1-100做累加。</p>
</blockquote>
<h5 id="应用二：计算1-100偶数累加和"><a href="#应用二：计算1-100偶数累加和" class="headerlink" title="应用二：计算1-100偶数累加和"></a>应用二：计算1-100偶数累加和</h5><p>分析：1-100的偶数和，即 2 + 4 + 6 + 8….，得到偶数的方法如下：</p>
<ul>
<li>偶数即是和2取余结果为0的数字，可以加入条件语句判断是否为偶数，为偶数则累加</li>
<li>初始值为0 &#x2F; 2 , 计数器每次累加2</li>
</ul>
<h6 id="方法一：条件判断和2取余数则累加"><a href="#方法一：条件判断和2取余数则累加" class="headerlink" title="方法一：条件判断和2取余数则累加"></a>方法一：条件判断和2取余数则累加</h6> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">## 方法一：条件判断和2取余数为0则累加计算</span></span><br><span class="line">i = <span class="number">1</span></span><br><span class="line">result = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">100</span>:</span><br><span class="line">    <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        result += i</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"> <span class="comment">##  输出2550</span></span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>
<h6 id="方法二：计数器控制"><a href="#方法二：计数器控制" class="headerlink" title="方法二：计数器控制"></a>方法二：计数器控制</h6> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">## 方法二：计数器控制增量为2</span></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line">result = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">100</span>:</span><br><span class="line">    result += i</span><br><span class="line">    i += <span class="number">2</span></span><br><span class="line"> <span class="comment">##  输出2550</span></span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>
<h4 id="break和continue"><a href="#break和continue" class="headerlink" title="break和continue"></a>break和continue</h4><p>break和continue是循环中满足一定条件退出循环的两种不同方式。</p>
<h5 id="理解"><a href="#理解" class="headerlink" title="理解"></a>理解</h5><p>举例：一共吃5个苹果，吃完第一个，吃第二个…，这里”吃苹果”的动作是不是重复执行？</p>
<ul>
<li><p>情况一：如果吃的过程中，吃完第三个吃饱了，则不需要再吃第4个和第五个苹果，即是吃苹果的动作停止，这里就是break控制循环流程，即&#x3D;&#x3D;终止此循环&#x3D;&#x3D;。</p>
</li>
<li><p>情况二：如果吃的过程中，吃到第三个吃出一个大虫子…,是不是这个苹果就不吃了，开始吃第四个苹果，这里就是continue控制循环流程，即&#x3D;&#x3D;退出当前一次循环继而执行下一次循环代码&#x3D;&#x3D;。</p>
</li>
</ul>
<h5 id="情况一：break"><a href="#情况一：break" class="headerlink" title="情况一：break"></a>情况一：break</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">5</span>:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">4</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;吃饱了不吃了&#x27;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;吃了第<span class="subst">&#123;i&#125;</span>个苹果&#x27;</span>)</span><br><span class="line">    i += <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h5 id="情况二：continue"><a href="#情况二：continue" class="headerlink" title="情况二：continue"></a>情况二：continue</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">5</span>:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">3</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;大虫子，第<span class="subst">&#123;i&#125;</span>个不吃了&#x27;</span>)</span><br><span class="line">        <span class="comment"># 在continue之前一定要修改计数器，否则会陷入死循环</span></span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;吃了第<span class="subst">&#123;i&#125;</span>个苹果&#x27;</span>)</span><br><span class="line">    i += <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h4 id="while循环嵌套"><a href="#while循环嵌套" class="headerlink" title="while循环嵌套"></a>while循环嵌套</h4><h5 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h5><p>故事梗概：有天女朋友又生气了，惩罚：说3遍“媳妇儿， 我错了”，这个程序是不是循环即可？但如果女朋友说：还要刷今天晚饭的碗，这个程序怎么书写？<br> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> 条件:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;媳妇儿， 我错了&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;刷晚饭的碗&#x27;</span>)</span><br></pre></td></tr></table></figure></p>
<p>但如果女朋友还是生气，把这套惩罚要连续3天都执行，有如何书写程序？<br> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> 条件:</span><br><span class="line">    <span class="keyword">while</span> 条件:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;媳妇儿， 我错了&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;刷晚饭的碗&#x27;</span>)</span><br></pre></td></tr></table></figure></p>
<h5 id="语法-3"><a href="#语法-3" class="headerlink" title="语法"></a>语法</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> 条件<span class="number">1</span>:</span><br><span class="line">    条件<span class="number">1</span>成立执行的代码</span><br><span class="line">    ......</span><br><span class="line">    <span class="keyword">while</span> 条件<span class="number">2</span>:</span><br><span class="line">        条件<span class="number">2</span>成立执行的代码</span><br><span class="line">        ......</span><br></pre></td></tr></table></figure>
<blockquote>
<p>总结：所谓while循环嵌套，就是一个while里面嵌套一个while的写法，每个while和之前的基础语法是相同的。</p>
</blockquote>
<h5 id="快速体验：复现场景"><a href="#快速体验：复现场景" class="headerlink" title="快速体验：复现场景"></a>快速体验：复现场景</h5><h6 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h6> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">j = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> j &lt; <span class="number">3</span>:</span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; <span class="number">3</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;媳妇儿，我错了&#x27;</span>)</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;刷晚饭的碗&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;一套惩罚结束----------------&#x27;</span>)</span><br><span class="line">    j += <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h5 id="理解执行流程"><a href="#理解执行流程" class="headerlink" title="理解执行流程"></a>理解执行流程</h5><p>当内部循环执行完成之后，再执行下一次外部循环的条件判断。</p>
<h4 id="while循环嵌套应用"><a href="#while循环嵌套应用" class="headerlink" title="while循环嵌套应用"></a>while循环嵌套应用</h4><h5 id="应用一：打印星号-正方形"><a href="#应用一：打印星号-正方形" class="headerlink" title="应用一：打印星号(正方形)"></a>应用一：打印星号(正方形)</h5><h6 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h6> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*****</span><br><span class="line">*****</span><br><span class="line">*****</span><br><span class="line">*****</span><br><span class="line">*****</span><br></pre></td></tr></table></figure>
<h6 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h6> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">## 重复打印5行星星</span></span><br><span class="line">j = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> j &lt;= <span class="number">4</span>:</span><br><span class="line">    <span class="comment"># 一行星星的打印</span></span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= <span class="number">4</span>:</span><br><span class="line">        <span class="comment"># 一行内的星星不能换行，取消print默认结束符\n</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;*&#x27;</span>, end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="comment"># 每行结束要换行，这里借助一个空的print，利用print默认结束符换行</span></span><br><span class="line">    <span class="built_in">print</span>()</span><br><span class="line">    j += <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h5 id="应用二：打印星号-三角形"><a href="#应用二：打印星号-三角形" class="headerlink" title="应用二：打印星号(三角形)"></a>应用二：打印星号(三角形)</h5><h6 id="需求-1"><a href="#需求-1" class="headerlink" title="需求"></a>需求</h6> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*</span><br><span class="line">**</span><br><span class="line">***</span><br><span class="line">****</span><br><span class="line">*****</span><br></pre></td></tr></table></figure>
<h6 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h6><p>分析：&#x3D;&#x3D;一行输出星星的个数和行号是相等的&#x3D;&#x3D;，每行：重复打印行号数字个星号，将打印行星号的命令重复执行5次实现打印5行。<br> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">## 重复打印5行星星</span></span><br><span class="line"> <span class="comment">## j表示行号</span></span><br><span class="line">j = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> j &lt;= <span class="number">4</span>:</span><br><span class="line">    <span class="comment"># 一行星星的打印</span></span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="comment"># i表示每行里面星星的个数，这个数字要和行号相等所以i要和j联动</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= j:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;*&#x27;</span>, end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>()</span><br><span class="line">    j += <span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<h5 id="九九乘法表"><a href="#九九乘法表" class="headerlink" title="九九乘法表"></a>九九乘法表</h5><h5 id="代码-3"><a href="#代码-3" class="headerlink" title="代码"></a>代码</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">## 重复打印9行表达式</span></span><br><span class="line">j = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> j &lt;= <span class="number">9</span>:</span><br><span class="line">    <span class="comment"># 打印一行里面的表达式 a * b = a*b</span></span><br><span class="line">    i = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;= j:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;i&#125;</span>*<span class="subst">&#123;j&#125;</span>=<span class="subst">&#123;j*i&#125;</span>&#x27;</span>, end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>()</span><br><span class="line">    j += <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h4 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h4><h5 id="语法-4"><a href="#语法-4" class="headerlink" title="语法"></a>语法</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 临时变量 <span class="keyword">in</span> 序列:</span><br><span class="line">    重复执行的代码<span class="number">1</span></span><br><span class="line">    重复执行的代码<span class="number">2</span></span><br><span class="line">    ......</span><br></pre></td></tr></table></figure>
<h5 id="快速体验-1"><a href="#快速体验-1" class="headerlink" title="快速体验"></a>快速体验</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">&#x27;itheima&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> str1:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>

<h5 id="break"><a href="#break" class="headerlink" title="break"></a>break</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">&#x27;itheima&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> str1:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="string">&#x27;e&#x27;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;遇到e不打印&#x27;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>
<h5 id="continue"><a href="#continue" class="headerlink" title="continue"></a>continue</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">&#x27;itheima&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> str1:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="string">&#x27;e&#x27;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;遇到e不打印&#x27;</span>)</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>
<h4 id="else"><a href="#else" class="headerlink" title="else"></a>else</h4><p>循环可以和else配合使用，else下方缩进的代码指的是&#x3D;&#x3D;当循环正常结束之后要执行的代码&#x3D;&#x3D;。</p>
<h6 id="while…else"><a href="#while…else" class="headerlink" title="while…else"></a>while…else</h6><p>需求：女朋友生气了，要惩罚：连续说5遍“媳妇儿，我错了”，如果道歉正常完毕女朋友就原谅我了，这个程序怎么写？<br> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">5</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;媳妇儿，我错了&#x27;</span>)</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;媳妇儿原谅我了...&#x27;</span>)</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>思考： 这个print是不是没有循环也能执行？</p>
</blockquote>
<h6 id="语法-5"><a href="#语法-5" class="headerlink" title="语法"></a>语法</h6> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> 条件:</span><br><span class="line">    条件成立重复执行的代码</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    `循环正常结束之后要执行的代码`</span><br></pre></td></tr></table></figure>
<h6 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h6> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">5</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;媳妇儿，我错了&#x27;</span>)</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;媳妇原谅我了，真开心，哈哈哈哈&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h6 id="退出循环的方式"><a href="#退出循环的方式" class="headerlink" title="退出循环的方式 "></a><font color="red">退出循环的方式 </font></h6><p>需求：女朋友生气，要求道歉5遍：媳妇儿，我错了。道歉到第三遍的时候，媳妇埋怨这一遍说的不真诚，是不是就是要退出循环了？这个退出有两种可能性：</p>
<ul>
<li>更生气，不打算原谅，也不需要道歉了，程序如何书写？</li>
<li>只一遍不真诚，可以忍受，继续下一遍道歉，程序如何书写？</li>
</ul>
<p>1.<code> break</code><br> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">5</span>:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">3</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;这遍说的不真诚&#x27;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;媳妇儿，我错了&#x27;</span>)</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;媳妇原谅我了，真开心，哈哈哈哈&#x27;</span>)</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p> <code>所谓else指的是循环正常结束之后要执行的代码，即如果是break终止循环的情况，else下方缩进的代码将不执行。</code></p>
</blockquote>
<ol start="2">
<li><code>continue</code> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">5</span>:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">3</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;这遍说的不真诚&#x27;</span>)</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;媳妇儿，我错了&#x27;</span>)</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;媳妇原谅我了，真开心，哈哈哈哈&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p><code>因为continue是退出当前一次循环，继续下一次循环，所以该循环在continue控制下是可以正常结束的，当循环结束后，则执行了else缩进的代码。</code></p>
</blockquote>
<h5 id="for…else"><a href="#for…else" class="headerlink" title="for…else"></a>for…else</h5><h6 id="语法-6"><a href="#语法-6" class="headerlink" title="语法"></a>语法</h6> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 临时变量 <span class="keyword">in</span> 序列:</span><br><span class="line">    重复执行的代码</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    循环正常结束之后要执行的代码</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>所谓else指的是循环正常结束之后要执行的代码，即如果是break终止循环的情况，else下方缩进的代码将不执行。</code></p>
</blockquote>
<h6 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h6> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">&#x27;itheima&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> str1:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;循环正常结束之后执行的代码&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h6 id="退出循环的方式-1"><a href="#退出循环的方式-1" class="headerlink" title="退出循环的方式"></a>退出循环的方式</h6><ol>
<li>break终止循环 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">&#x27;itheima&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> str1:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="string">&#x27;e&#x27;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;遇到e不打印&#x27;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;循环正常结束之后执行的代码&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>没有执行else缩进的代码。</p>
</blockquote>
<ol start="2">
<li>continue控制循环 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">&#x27;itheima&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> str1:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="string">&#x27;e&#x27;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;遇到e不打印&#x27;</span>)</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;循环正常结束之后执行的代码&#x27;</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>因为continue是退出当前一次循环，继续下一次循环，所以该循环在continue控制下是可以正常结束的，当循环结束后，则执行了else缩进的代码。</p>
</blockquote>
</li>
</ol>
<h3 id="数据序列"><a href="#数据序列" class="headerlink" title="数据序列"></a>数据序列</h3><h4 id="认识字符串"><a href="#认识字符串" class="headerlink" title="认识字符串"></a><code>认识字符串</code></h4><p>字符串是 Python 中最常用的数据类型。我们一般使用引号来创建字符串。创建字符串很简单，只要为变量分配一个值即可。<br> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;hello world&#x27;</span></span><br><span class="line">b = <span class="string">&quot;abcdefg&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(b))</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>注意：控制台显示结果为<code>&lt;class &#39;str&#39;&gt;</code>， 即数据类型为str(字符串)。</p>
</blockquote>
<h4 id="字符串特征"><a href="#字符串特征" class="headerlink" title="字符串特征"></a>字符串特征</h4><ul>
<li>一对引号字符串 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name1 = <span class="string">&#x27;Tom&#x27;</span></span><br><span class="line">name2 = <span class="string">&quot;Rose&quot;</span></span><br></pre></td></tr></table></figure></li>
<li>三引号字符串 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">name3 = <span class="string">&#x27;&#x27;&#x27; Tom &#x27;&#x27;&#x27;</span></span><br><span class="line">name4 = <span class="string">&quot;&quot;&quot; Rose &quot;&quot;&quot;</span></span><br><span class="line">a = <span class="string">&#x27;&#x27;&#x27; i am Tom, </span></span><br><span class="line"><span class="string">        nice to meet you! &#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">b = <span class="string">&quot;&quot;&quot; i am Rose, </span></span><br><span class="line"><span class="string">        nice to meet you! &quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：三引号形式的字符串支持换行。<br>思考：如果创建一个字符串<code> I&#39;m Tom</code>?</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c = <span class="string">&quot;I&#x27;m Tom&quot;</span></span><br><span class="line">d = <span class="string">&#x27;I\&#x27;m Tom&#x27;</span></span><br></pre></td></tr></table></figure></blockquote>
</li>
</ul>
<h5 id="字符串输出"><a href="#字符串输出" class="headerlink" title="字符串输出"></a>字符串输出</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;hello world&#x27;</span>)</span><br><span class="line"></span><br><span class="line">name = <span class="string">&#x27;Tom&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;我的名字是%s&#x27;</span> % name)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;我的名字是<span class="subst">&#123;name&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h5 id="字符串输入"><a href="#字符串输入" class="headerlink" title="字符串输入"></a>字符串输入</h5><p>在Python中，使用<code>input()</code>接收用户输入。</p>
<ul>
<li>代码 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="built_in">input</span>(<span class="string">&#x27;请输入您的名字：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;您输入的名字是<span class="subst">&#123;name&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(name))</span><br><span class="line"></span><br><span class="line">password = <span class="built_in">input</span>(<span class="string">&#x27;请输入您的密码：&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;您输入的密码是<span class="subst">&#123;password&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(password))</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="下标"><a href="#下标" class="headerlink" title="下标"></a>下标</h5><p> <code>“下标”</code>又叫<code>“索引”</code>，就是编号。比如火车座位号，座位号的作用：按照编号快速找到对应的座位。同理，下标的作用即是通过下标快速找到对应的数据。</p>
<h5 id="快速体验-2"><a href="#快速体验-2" class="headerlink" title="快速体验"></a>快速体验</h5><p>需求：字符串<code>name = &quot;abcdef&quot;</code>，取到不同下标对应的数据。</p>
<ul>
<li>代码 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;abcdef&quot;</span></span><br><span class="line"><span class="built_in">print</span>(name[<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(name[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(name[<span class="number">2</span>])</span><br></pre></td></tr></table></figure></li>
<li>输出结果</li>
</ul>
<blockquote>
<p>注意：下标从&#x3D;&#x3D;0&#x3D;&#x3D;开始。</p>
</blockquote>
<h5 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h5><p>切片是指对操作的对象截取其中一部分的操作。<strong>字符串、列表、元组</strong>都支持切片操作。</p>
<h5 id="语法-7"><a href="#语法-7" class="headerlink" title="语法"></a>语法</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">序列[开始位置下标:结束位置下标:步长]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意<br>      1. 不包含结束位置下标对应的数据， 正负整数均可；<br>     2. 步长是选取间隔，正负整数均可，默认步长为1。</p>
</blockquote>
<h5 id="体验"><a href="#体验" class="headerlink" title="体验"></a>体验</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;abcdefg&quot;</span></span><br><span class="line"><span class="built_in">print</span>(name[<span class="number">2</span>:<span class="number">5</span>:<span class="number">1</span>])  <span class="comment"># cde</span></span><br><span class="line"><span class="built_in">print</span>(name[<span class="number">2</span>:<span class="number">5</span>])  <span class="comment"># cde</span></span><br><span class="line"><span class="built_in">print</span>(name[:<span class="number">5</span>])  <span class="comment"># abcde</span></span><br><span class="line"><span class="built_in">print</span>(name[<span class="number">1</span>:])  <span class="comment"># bcdefg</span></span><br><span class="line"><span class="built_in">print</span>(name[:])  <span class="comment"># abcdefg</span></span><br><span class="line"><span class="built_in">print</span>(name[::<span class="number">2</span>])  <span class="comment"># aceg</span></span><br><span class="line"><span class="built_in">print</span>(name[:-<span class="number">1</span>])  <span class="comment"># abcdef, 负1表示倒数第一个数据</span></span><br><span class="line"><span class="built_in">print</span>(name[-<span class="number">4</span>:-<span class="number">1</span>])  <span class="comment"># def</span></span><br><span class="line"><span class="built_in">print</span>(name[::-<span class="number">1</span>])  <span class="comment"># gfedcba</span></span><br></pre></td></tr></table></figure>
<h5 id="常用操作方法"><a href="#常用操作方法" class="headerlink" title="常用操作方法"></a>常用操作方法</h5><blockquote>
<p>字符串的常用操作方法有<code>查找、修改和判断</code>三大类。</p>
</blockquote>
<h5 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h5><p>所谓字符串查找方法即是查找子串在字符串中的位置或出现的次数。</p>
<ul>
<li>find()：检测某个子串是否包含在这个字符串中，如果在返回这个子串开始的位置下标，否则则返回-1。 语法: <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串序列.find(子串, 开始位置下标, 结束位置下标)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：开始和结束位置下标可以省略，表示在整个字符串序列中查找。</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and itcast and itheima and Python&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(mystr.find(<span class="string">&#x27;and&#x27;</span>))  <span class="comment"># 12</span></span><br><span class="line"><span class="built_in">print</span>(mystr.find(<span class="string">&#x27;and&#x27;</span>, <span class="number">15</span>, <span class="number">30</span>))  <span class="comment"># 23</span></span><br><span class="line"><span class="built_in">print</span>(mystr.find(<span class="string">&#x27;ands&#x27;</span>))  <span class="comment"># -1</span></span><br></pre></td></tr></table></figure></blockquote>
</li>
<li>index()：检测某个子串是否包含在这个字符串中，如果在返回这个子串开始的位置下标，否则则报异常。语法: <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串序列.index(子串, 开始位置下标, 结束位置下标)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：开始和结束位置下标可以省略，表示在整个字符串序列中查找。</p>
</blockquote>
</li>
</ul>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and itcast and itheima and Python&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(mystr.index(<span class="string">&#x27;and&#x27;</span>))  <span class="comment"># 12</span></span><br><span class="line"><span class="built_in">print</span>(mystr.index(<span class="string">&#x27;and&#x27;</span>, <span class="number">15</span>, <span class="number">30</span>))  <span class="comment"># 23</span></span><br><span class="line"><span class="built_in">print</span>(mystr.index(<span class="string">&#x27;ands&#x27;</span>))  <span class="comment"># 报错</span></span><br></pre></td></tr></table></figure>
<ul>
<li>rfind()： 和find()功能相同，但查找方向为&#x3D;&#x3D;右侧&#x3D;&#x3D;开始。</li>
<li>rindex()：和index()功能相同，但查找方向为&#x3D;&#x3D;右侧&#x3D;&#x3D;开始。</li>
<li>count()：返回某个子串在字符串中出现的次数, 语法: <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串序列.count(子串, 开始位置下标, 结束位置下标)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：开始和结束位置下标可以省略，表示在整个字符串序列中查找。</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and itcast and itheima and Python&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(mystr.count(<span class="string">&#x27;and&#x27;</span>))  <span class="comment"># 3</span></span><br><span class="line"><span class="built_in">print</span>(mystr.count(<span class="string">&#x27;ands&#x27;</span>))  <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(mystr.count(<span class="string">&#x27;and&#x27;</span>, <span class="number">0</span>, <span class="number">20</span>))  <span class="comment"># 1</span></span><br></pre></td></tr></table></figure></blockquote>
</li>
</ul>
<h5 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h5><p>所谓修改字符串，指的就是通过函数的形式修改字符串中的数据。</p>
<ul>
<li>replace()：替换, 语法: <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串序列.replace(旧子串, 新子串, 替换次数)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：替换次数如果查出子串出现次数，则替换次数为该子串出现次数。</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and itcast and itheima and Python&quot;</span></span><br><span class="line"> <span class="comment">##  结果：hello world he itcast he itheima he Python</span></span><br><span class="line"><span class="built_in">print</span>(mystr.replace(<span class="string">&#x27;and&#x27;</span>, <span class="string">&#x27;he&#x27;</span>))</span><br><span class="line"> <span class="comment">## 结果：hello world he itcast he itheima he Python</span></span><br><span class="line"><span class="built_in">print</span>(mystr.replace(<span class="string">&#x27;and&#x27;</span>, <span class="string">&#x27;he&#x27;</span>, <span class="number">10</span>))</span><br><span class="line"> <span class="comment">## 结果：hello world and itcast and itheima and Python</span></span><br><span class="line"><span class="built_in">print</span>(mystr)</span><br></pre></td></tr></table></figure>
<p>注意：数据按照是否能直接修改分为&#x3D;&#x3D;可变类型&#x3D;&#x3D;和&#x3D;&#x3D;不可变类型&#x3D;&#x3D;两种。<code>字符串类型的数据修改的时候不能改变原有字符串，属于不能直接修改数据的类型即是不可变类型。</code></p>
</blockquote>
</li>
<li>split()：按照指定字符分割字符串。 语法: <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串序列.split(分割字符, num)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：num表示的是分割字符出现的次数，即将来返回数据个数为num+1个。</p>
</blockquote>
</li>
</ul>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and itcast and itheima and Python&quot;</span></span><br><span class="line"> <span class="comment">##  结果：[&#x27;hello world &#x27;, &#x27; itcast &#x27;, &#x27; itheima &#x27;, &#x27; Python&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(mystr.split(<span class="string">&#x27;and&#x27;</span>))</span><br><span class="line"> <span class="comment">## 结果：[&#x27;hello world &#x27;, &#x27; itcast &#x27;, &#x27; itheima and Python&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(mystr.split(<span class="string">&#x27;and&#x27;</span>, <span class="number">2</span>))</span><br><span class="line"> <span class="comment">## 结果：[&#x27;hello&#x27;, &#x27;world&#x27;, &#x27;and&#x27;, &#x27;itcast&#x27;, &#x27;and&#x27;, &#x27;itheima&#x27;, &#x27;and&#x27;, &#x27;Python&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(mystr.split(<span class="string">&#x27; &#x27;</span>))</span><br><span class="line"> <span class="comment">## 结果：[&#x27;hello&#x27;, &#x27;world&#x27;, &#x27;and itcast and itheima and Python&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(mystr.split(<span class="string">&#x27; &#x27;</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：如果分割字符是原有字符串中的子串，分割后则丢失该子串。</p>
</blockquote>
<ul>
<li>join()：用一个字符或子串合并字符串，即是将多个字符串合并为一个新的字符串。 语法: <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符或子串.join(多字符串组成的序列)</span><br></pre></td></tr></table></figure>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="string">&#x27;chuan&#x27;</span>, <span class="string">&#x27;zhi&#x27;</span>, <span class="string">&#x27;bo&#x27;</span>, <span class="string">&#x27;ke&#x27;</span>]</span><br><span class="line">t1 = (<span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;cc&#x27;</span>, <span class="string">&#x27;ddd&#x27;</span>)</span><br><span class="line"> <span class="comment">## 结果：chuan_zhi_bo_ke</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;_&#x27;</span>.join(list1))</span><br><span class="line"> <span class="comment">## 结果：aa...b...cc...ddd</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;...&#x27;</span>.join(t1))</span><br></pre></td></tr></table></figure></li>
<li>capitalize()：将字符串第一个字符转换成大写。 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and itcast and itheima and Python&quot;</span></span><br><span class="line"> <span class="comment">##  结果：Hello world and itcast and itheima and python</span></span><br><span class="line"><span class="built_in">print</span>(mystr.capitalize())</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：capitalize()函数转换后，只字符串第一个字符大写，其他的字符全都小写。</p>
</blockquote>
</li>
<li>title()：将字符串每个单词首字母转换成大写。 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and itcast and itheima and Python&quot;</span></span><br><span class="line"> <span class="comment">##  结果：Hello World And Itcast And Itheima And Python</span></span><br><span class="line"><span class="built_in">print</span>(mystr.title())</span><br></pre></td></tr></table></figure></li>
<li>lower()：将字符串中大写转小写。 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and itcast and itheima and Python&quot;</span></span><br><span class="line"> <span class="comment">##  结果：hello world and itcast and itheima and python</span></span><br><span class="line"><span class="built_in">print</span>(mystr.lower())</span><br></pre></td></tr></table></figure></li>
<li>upper()：将字符串中小写转大写。 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and itcast and itheima and Python&quot;</span></span><br><span class="line"> <span class="comment">##  结果：HELLO WORLD AND ITCAST AND ITHEIMA AND PYTHON</span></span><br><span class="line"><span class="built_in">print</span>(mystr.upper())</span><br></pre></td></tr></table></figure></li>
<li>lstrip()：删除字符串左侧空白字符。</li>
<li>rstrip()：删除字符串右侧空白字符。</li>
<li>strip()：删除字符串两侧空白字符。</li>
</ul>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> &gt;&gt;&gt; <span class="built_in">print</span>(<span class="string">&quot; 24&quot;</span>.lstrip())</span><br><span class="line"><span class="number">24</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&quot; 24 &quot;</span>.rstrip())</span><br><span class="line">  <span class="number">24</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&quot; 24 &quot;</span>.strip())</span><br><span class="line"><span class="number">24</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ljust()：返回一个原字符串左对齐,并使用指定字符(默认空格)填充至对应长度 的新字符串。语法:</li>
<li>rjust()：返回一个原字符串右对齐,并使用指定字符(默认空格)填充至对应长度 的新字符串，语法和ljust()相同。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">字符串序列.ljust(长度, 填充字符)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&quot; 24 &quot;</span>.rjust(<span class="number">50</span>,<span class="string">&quot;0&quot;</span>))</span><br><span class="line"><span class="number">0000000000000000000000000000000000000000000000</span> <span class="number">24</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&quot; 24 &quot;</span>.ljust(<span class="number">50</span>,<span class="string">&quot;0&quot;</span>))</span><br><span class="line"> <span class="number">24</span> <span class="number">0000000000000000000000000000000000000000000000</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br></pre></td></tr></table></figure></li>
<li>center()：返回一个原字符串居中对齐,并使用指定字符(默认空格)填充至对应长度 的新字符串，语法和ljust()相同。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&quot; 24 &quot;</span>.center(<span class="number">50</span>))</span><br><span class="line">                        <span class="number">24</span>                        </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&quot; 24 &quot;</span>.center(<span class="number">50</span>,<span class="string">&quot;0&quot;</span>))</span><br><span class="line"><span class="number">00000000000000000000000</span> <span class="number">24</span> <span class="number">00000000000000000000000</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="判断"><a href="#判断" class="headerlink" title="判断"></a>判断</h5><p>所谓判断即是判断真假，返回的结果是布尔型数据类型：True 或 False。</p>
<ul>
<li>startswith()：检查字符串是否是以指定子串开头，是则返回 True，否则返回 False。如果设置开始和结束位置下标，则在指定范围内检查。语法: <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串序列.startswith(子串, 开始位置下标, 结束位置下标)</span><br></pre></td></tr></table></figure>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and itcast and itheima and Python   &quot;</span></span><br><span class="line"> <span class="comment">##  结果：True</span></span><br><span class="line"><span class="built_in">print</span>(mystr.startswith(<span class="string">&#x27;hello&#x27;</span>))</span><br><span class="line"> <span class="comment">##  结果False</span></span><br><span class="line"><span class="built_in">print</span>(mystr.startswith(<span class="string">&#x27;hello&#x27;</span>, <span class="number">5</span>, <span class="number">20</span>))</span><br></pre></td></tr></table></figure></li>
<li>endswith()：：检查字符串是否是以指定子串结尾，是则返回 True，否则返回 False。如果设置开始和结束位置下标，则在指定范围内检查。 语法 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串序列.endswith(子串, 开始位置下标, 结束位置下标)</span><br></pre></td></tr></table></figure>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mystr = <span class="string">&quot;hello world and itcast and itheima and Python&quot;</span></span><br><span class="line"> <span class="comment">##  结果：True</span></span><br><span class="line"><span class="built_in">print</span>(mystr.endswith(<span class="string">&#x27;Python&#x27;</span>))</span><br><span class="line"> <span class="comment">##  结果：False</span></span><br><span class="line"><span class="built_in">print</span>(mystr.endswith(<span class="string">&#x27;python&#x27;</span>))</span><br><span class="line"> <span class="comment">##  结果：False</span></span><br><span class="line"><span class="built_in">print</span>(mystr.endswith(<span class="string">&#x27;Python&#x27;</span>, <span class="number">2</span>, <span class="number">20</span>))</span><br></pre></td></tr></table></figure></li>
<li>isalpha()：如果字符串<code>至少有一个字符并且所有字符都是字母</code>则返回 True, 否则返回 False。 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">mystr1 = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line">mystr2 = <span class="string">&#x27;hello12345&#x27;</span></span><br><span class="line"> <span class="comment">##  结果：True</span></span><br><span class="line"><span class="built_in">print</span>(mystr1.isalpha())</span><br><span class="line"> <span class="comment">##  结果：False</span></span><br><span class="line"><span class="built_in">print</span>(mystr2.isalpha())</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&quot;234&quot;</span>.isalpha())</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&quot;lll&quot;</span>.isalpha())</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&quot;ty  &quot;</span>.isalpha())</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&quot;kkkk&quot;</span>.isalpha())</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&quot; k&quot;</span>.isalpha())</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&quot;k&quot;</span>.isalpha())</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>isdigit()：如果字符串只包含数字则返回 True 否则返回 False。 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mystr1 = <span class="string">&#x27;aaa12345&#x27;</span></span><br><span class="line">mystr2 = <span class="string">&#x27;12345&#x27;</span></span><br><span class="line"> <span class="comment">##  结果： False</span></span><br><span class="line"><span class="built_in">print</span>(mystr1.isdigit())</span><br><span class="line"> <span class="comment">##  结果：False</span></span><br><span class="line"><span class="built_in">print</span>(mystr2.isdigit())</span><br></pre></td></tr></table></figure></li>
<li>isalnum()：如果字符串至少有一个字符并且所有字符都是字母或数字则返 回 True,否则返回 False。 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mystr1 = <span class="string">&#x27;aaa12345&#x27;</span></span><br><span class="line">mystr2 = <span class="string">&#x27;12345-&#x27;</span></span><br><span class="line"> <span class="comment">##  结果：True</span></span><br><span class="line"><span class="built_in">print</span>(mystr1.isalnum())</span><br><span class="line"> <span class="comment">##  结果：False</span></span><br><span class="line"><span class="built_in">print</span>(mystr2.isalnum())</span><br></pre></td></tr></table></figure></li>
<li>isspace()：如果字符串中只包含空白，则返回 True，否则返回 False。 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mystr1 = <span class="string">&#x27;1 2 3 4 5&#x27;</span></span><br><span class="line">mystr2 = <span class="string">&#x27;     &#x27;</span></span><br><span class="line"> <span class="comment">##  结果：False</span></span><br><span class="line"><span class="built_in">print</span>(mystr1.isspace())</span><br><span class="line"> <span class="comment">##  结果：True</span></span><br><span class="line"><span class="built_in">print</span>(mystr2.isspace())</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h4><h5 id="列表的应用场景"><a href="#列表的应用场景" class="headerlink" title="列表的应用场景"></a>列表的应用场景</h5><p>思考：有一个人的姓名(TOM)怎么书写存储程序？答：变量。</p>
<p>思考：如果一个班级100位学生，每个人的姓名都要存储，应该如何书写程序？声明100个变量吗？答：列表即可， 列表一次性可以存储多个数据。</p>
<h5 id="列表的格式"><a href="#列表的格式" class="headerlink" title="列表的格式"></a>列表的格式</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[数据<span class="number">1</span>, 数据<span class="number">2</span>, 数据<span class="number">3</span>, 数据<span class="number">4.</span>.....]</span><br></pre></td></tr></table></figure>

<p><code>列表可以一次性存储多个数据，且可以为不同数据类型。</code></p>
<h5 id="列表的常用操作"><a href="#列表的常用操作" class="headerlink" title="列表的常用操作"></a>列表的常用操作</h5><p>列表的作用是一次性存储多个数据，程序员可以对这些数据进行的操作有：增、删、改、查。</p>
<h5 id="查找-1"><a href="#查找-1" class="headerlink" title="查找"></a>查找</h5><h6 id="下标-1"><a href="#下标-1" class="headerlink" title="下标"></a>下标</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(name_list[<span class="number">0</span>])  <span class="comment">##   Tom</span></span><br><span class="line"><span class="built_in">print</span>(name_list[<span class="number">1</span>])  <span class="comment">##   Lily</span></span><br><span class="line"><span class="built_in">print</span>(name_list[<span class="number">2</span>])  <span class="comment">##   Rose</span></span><br></pre></td></tr></table></figure>
<h6 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h6><ul>
<li>index()：返回指定数据所在<code>位置的下标</code> 。 语法<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">列表序列.index(数据, 开始位置下标, 结束位置下标)</span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(name_list.index(<span class="string">&#x27;Lily&#x27;</span>, <span class="number">0</span>, <span class="number">2</span>))  <span class="comment">##   1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：<font color="#ff4d4d">如果查找的数据不存在则报错。</font></p>
</blockquote>
<ul>
<li>count()：统计指定数据在当前列表中出现的次数。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(name_list.count(<span class="string">&#x27;Lily&#x27;</span>))  <span class="comment">##   1</span></span><br></pre></td></tr></table></figure></li>
<li>len()：访问列表长度，即列表中数据的个数。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(name_list))  <span class="comment">##   3</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h6 id="判断是否存在"><a href="#判断是否存在" class="headerlink" title="判断是否存在"></a>判断是否存在</h6><ul>
<li>in：判断指定数据在某个列表序列，如果在返回True，否则返回False<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"><span class="comment">##   结果：True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Lily&#x27;</span> <span class="keyword">in</span> name_list)</span><br><span class="line"><span class="comment">##   结果：False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Lilys&#x27;</span> <span class="keyword">in</span> name_list)</span><br></pre></td></tr></table></figure></li>
<li>not in：判断指定数据不在某个列表序列，如果不在返回True，否则返回False<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"><span class="comment">##   结果：False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Lily&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> name_list)</span><br><span class="line"><span class="comment">##   结果：True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Lilys&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> name_list)</span><br></pre></td></tr></table></figure></li>
</ul>
<p>需求：查找用户输入的名字是否已经存在。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line">name = <span class="built_in">input</span>(<span class="string">&#x27;请输入您要搜索的名字：&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> name <span class="keyword">in</span> name_list:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;您输入的名字是<span class="subst">&#123;name&#125;</span>, 名字已经存在&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;您输入的名字是<span class="subst">&#123;name&#125;</span>, 名字不存在&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h5 id="增加"><a href="#增加" class="headerlink" title="增加"></a>增加</h5><p>作用：增加指定数据到列表中。</p>
<ul>
<li>append()：列表结尾追加数据。语法:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">列表序列.append(数据)</span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line">name_list.append(<span class="string">&#x27;xiaoming&#x27;</span>)</span><br><span class="line"><span class="comment">##   结果：[&#x27;Tom&#x27;, &#x27;Lily&#x27;, &#x27;Rose&#x27;, &#x27;xiaoming&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(name_list)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>列表追加数据的时候，直接在原列表里面追加了指定数据，即修改了原列表，<code>故列表为可变类型数据。</code></p>
</blockquote>
<p>&#x3D;&#x3D;如果append()追加的数据是一个序列，则追加整个序列到列表&#x3D;&#x3D;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line">name_list.append([<span class="string">&#x27;xiaoming&#x27;</span>, <span class="string">&#x27;xiaohong&#x27;</span>])</span><br><span class="line"><span class="comment">##   结果：[&#x27;Tom&#x27;, &#x27;Lily&#x27;, &#x27;Rose&#x27;, [&#x27;xiaoming&#x27;, &#x27;xiaohong&#x27;]]</span></span><br><span class="line"><span class="built_in">print</span>(name_list)</span><br></pre></td></tr></table></figure>
<ul>
<li>extend()：列表结尾追加数据，如果数据是一个序列，<code>则将这个序列的数据逐一添加到列表。</code>. 语法<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">列表序列.extend(数据)</span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line">name_list.extend(<span class="string">&#x27;xiaoming&#x27;</span>)</span><br><span class="line"><span class="comment">##   结果：[&#x27;Tom&#x27;, &#x27;Lily&#x27;, &#x27;Rose&#x27;, &#x27;x&#x27;, &#x27;i&#x27;, &#x27;a&#x27;, &#x27;o&#x27;, &#x27;m&#x27;, &#x27;i&#x27;, &#x27;n&#x27;, &#x27;g&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(name_list)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line">name_list.extend([<span class="string">&#x27;xiaoming&#x27;</span>, <span class="string">&#x27;xiaohong&#x27;</span>])</span><br><span class="line"><span class="comment">##   结果：[&#x27;Tom&#x27;, &#x27;Lily&#x27;, &#x27;Rose&#x27;, &#x27;xiaoming&#x27;, &#x27;xiaohong&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(name_list)</span><br></pre></td></tr></table></figure>
<ul>
<li>insert()：指定位置新增数据。. 语法<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">列表序列.insert(位置下标, 数据)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line">name_list.insert(<span class="number">1</span>, <span class="string">&#x27;xiaoming&#x27;</span>)</span><br><span class="line"><span class="comment">##   结果：[&#x27;Tom&#x27;, &#x27;xiaoming&#x27;, &#x27;Lily&#x27;, &#x27;Rose&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(name_list)</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h5><ul>
<li>del    语法：<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">del</span> 目标</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li>删除列表<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"><span class="comment">##   结果：报错提示：name &#x27;name_list&#x27; is not defined</span></span><br><span class="line"><span class="keyword">del</span> name_list</span><br><span class="line"><span class="built_in">print</span>(name_list)</span><br></pre></td></tr></table></figure></li>
<li>删除指定数据<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> name_list[<span class="number">0</span>]</span><br><span class="line"><span class="comment">##   结果：[&#x27;Lily&#x27;, &#x27;Rose&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(name_list)</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li>pop()：删除指定下标的数据(默认为最后一个)，并返回该数据。. 语法<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">列表序列.pop(下标)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line">del_name = name_list.pop(<span class="number">1</span>)</span><br><span class="line"><span class="comment">##   结果：Lily</span></span><br><span class="line"><span class="built_in">print</span>(del_name)</span><br><span class="line"><span class="comment">##   结果：[&#x27;Tom&#x27;, &#x27;Rose&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(name_list)</span><br></pre></td></tr></table></figure></li>
<li>remove()：移除列表中某个数据的第一个匹配项。 语法<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">列表序列.remove(数据)</span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line">name_list.remove(<span class="string">&#x27;Rose&#x27;</span>)</span><br><span class="line"><span class="comment">##   结果：[&#x27;Tom&#x27;, &#x27;Lily&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(name_list)</span><br></pre></td></tr></table></figure>
<ul>
<li>clear()：清空列表<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line">name_list.clear()</span><br><span class="line"><span class="built_in">print</span>(name_list) <span class="comment">##   结果： []</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="修改-1"><a href="#修改-1" class="headerlink" title="修改"></a>修改</h5><ul>
<li>修改指定下标数据<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line">name_list[<span class="number">0</span>] = <span class="string">&#x27;aaa&#x27;</span></span><br><span class="line"><span class="comment">##   结果：[&#x27;aaa&#x27;, &#x27;Lily&#x27;, &#x27;Rose&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(name_list)</span><br></pre></td></tr></table></figure></li>
<li>逆置：reverse()<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">num_list = [<span class="number">1</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">8</span>]</span><br><span class="line"></span><br><span class="line">num_list.reverse()</span><br><span class="line"><span class="comment">##   结果：[8, 6, 3, 2, 5, 1]</span></span><br><span class="line"><span class="built_in">print</span>(num_list)</span><br></pre></td></tr></table></figure></li>
<li>排序：sort() 语法<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">列表序列.sort( key=<span class="literal">None</span>, reverse=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：reverse表示排序规则，<strong>reverse &#x3D; True</strong> 降序， <strong>reverse &#x3D; False</strong> 升序(默认)</p>
</blockquote>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">num_list = [<span class="number">1</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">8</span>]</span><br><span class="line"></span><br><span class="line">num_list.sort()</span><br><span class="line"><span class="comment">##   结果：[1, 2, 3, 5, 6, 8]</span></span><br><span class="line"><span class="built_in">print</span>(num_list)</span><br></pre></td></tr></table></figure>
<h5 id="复制"><a href="#复制" class="headerlink" title="复制"></a>复制</h5><p>函数：copy()</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line">name_li2 = name_list.copy()</span><br><span class="line"><span class="comment">##   结果：[&#x27;Tom&#x27;, &#x27;Lily&#x27;, &#x27;Rose&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(name_li2)</span><br></pre></td></tr></table></figure>
<h5 id="列表的循环遍历"><a href="#列表的循环遍历" class="headerlink" title="列表的循环遍历"></a>列表的循环遍历</h5><p>需求：依次打印列表中的各个数据。</p>
<h6 id="while"><a href="#while" class="headerlink" title="while"></a>while</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="built_in">len</span>(name_list):</span><br><span class="line">    <span class="built_in">print</span>(name_list[i])</span><br><span class="line">    i += <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h6 id="for"><a href="#for" class="headerlink" title="for"></a>for</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name_list = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> name_list:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>

<h5 id="列表嵌套"><a href="#列表嵌套" class="headerlink" title="列表嵌套"></a>列表嵌套</h5><p>所谓列表嵌套指的就是一个列表里面包含了其他的子列表。</p>
<p>应用场景：要存储班级一、二、三三个班级学生姓名，且每个班级的学生姓名在一个列表。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name_list = [[<span class="string">&#x27;小明&#x27;</span>, <span class="string">&#x27;小红&#x27;</span>, <span class="string">&#x27;小绿&#x27;</span>], [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>], [<span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;李四&#x27;</span>, <span class="string">&#x27;王五&#x27;</span>]]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>思考： 如何查找到数据”李四”？</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##   第一步：按下标查找到李四所在的列表</span></span><br><span class="line"><span class="built_in">print</span>(name_list[<span class="number">2</span>])</span><br><span class="line"><span class="comment">##   第二步：从李四所在的列表里面，再按下标找到数据李四</span></span><br><span class="line"><span class="built_in">print</span>(name_list[<span class="number">2</span>][<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<h4 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h4><h5 id="元组的应用场景"><a href="#元组的应用场景" class="headerlink" title="元组的应用场景"></a>元组的应用场景</h5><p>思考：如果想要存储多个数据，<code>但是这些数据是不能修改的数据</code>，怎么做？答：列表？列表可以一次性存储多个数据，但是列表中的数据允许更改。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">num_list = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line">num_list[<span class="number">0</span>] = <span class="number">100</span></span><br></pre></td></tr></table></figure>
<p>&#x3D;&#x3D;一个元组可以存储多个数据，元组内的数据是不能修改的。&#x3D;&#x3D;</p>
<h5 id="定义元组"><a href="#定义元组" class="headerlink" title="定义元组"></a>定义元组</h5><p>元组特点：定义元组使用&#x3D;&#x3D;小括号&#x3D;&#x3D;，且&#x3D;&#x3D;逗号&#x3D;&#x3D;隔开各个数据，数据可以是不同的数据类型。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 多个数据元组</span></span><br><span class="line">t1 = (<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>)</span><br><span class="line"><span class="comment">## 单个数据元组</span></span><br><span class="line">t2 = (<span class="number">10</span>,)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：<code>如果定义的元组只有一个数据，那么这个数据后面也好添加逗号</code>，否则数据类型为唯一的这个数据的数据类型</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">t2 = (<span class="number">10</span>,)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(t2))  <span class="comment">## tuple</span></span><br><span class="line"></span><br><span class="line">t3 = (<span class="number">20</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(t3))  <span class="comment">## int</span></span><br><span class="line"></span><br><span class="line">t4 = (<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(t4))  <span class="comment">## str</span></span><br></pre></td></tr></table></figure>
<h5 id="元组的常见操作"><a href="#元组的常见操作" class="headerlink" title="元组的常见操作"></a>元组的常见操作</h5><p>元组数据不支持修改，只支持查找，具体如下：</p>
<ul>
<li>按下标查找数据<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tuple1 = (<span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cc&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(tuple1[<span class="number">0</span>])  <span class="comment">## aa</span></span><br></pre></td></tr></table></figure></li>
<li>index()：查找某个数据，如果数据存在返回对应的下标，否则报错，语法和列表、字符串的index方法相同。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tuple1 = (<span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cc&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(tuple1.index(<span class="string">&#x27;aa&#x27;</span>))  <span class="comment">## 0</span></span><br></pre></td></tr></table></figure></li>
<li>count()：统计某个数据在当前元组出现的次数。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tuple1 = (<span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cc&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(tuple1.count(<span class="string">&#x27;bb&#x27;</span>))  <span class="comment">## 2</span></span><br></pre></td></tr></table></figure></li>
<li>len()：统计元组中数据的个数。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tuple1 = (<span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cc&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(tuple1))  <span class="comment">## 4</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：<code>元组内的直接数据如果修改则立即报错</code></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tuple1 = (<span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cc&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>)</span><br><span class="line">tuple1[<span class="number">0</span>] = <span class="string">&#x27;aaa&#x27;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>但是如果<code>元组里面有列表，修改列表里面的数据则是支持的</code>，故自觉很重要。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tuple2 = (<span class="number">10</span>, <span class="number">20</span>, [<span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cc&#x27;</span>], <span class="number">50</span>, <span class="number">30</span>)</span><br><span class="line"><span class="built_in">print</span>(tuple2[<span class="number">2</span>])  <span class="comment">## 访问到列表</span></span><br><span class="line"><span class="comment">## 结果：(10, 20, [&#x27;aaaaa&#x27;, &#x27;bb&#x27;, &#x27;cc&#x27;], 50, 30)</span></span><br><span class="line">tuple2[<span class="number">2</span>][<span class="number">0</span>] = <span class="string">&#x27;aaaaa&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(tuple2)</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h4><h5 id="字典的应用场景"><a href="#字典的应用场景" class="headerlink" title="字典的应用场景"></a>字典的应用场景</h5><p>思考1： 如果有多个数据，例如：’Tom’, ‘男’, 20，如何快速存储？答：列表</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="number">20</span>]</span><br></pre></td></tr></table></figure>

<p>思考2：如何查找到数据’Tom’？答：查找到下标为0的数据即可。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list1[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<p>思考3：如果将来数据顺序发生变化，如下所示，还能用<code>list1[0]</code>访问到数据’Tom’吗？。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="string">&#x27;男&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;Tom&#x27;</span>]</span><br></pre></td></tr></table></figure>
<p>答：不能，数据’Tom’此时下标为2。</p>
<p>思考4：数据顺序发生变化，每个数据的下标也会随之变化，如何保证数据顺序变化前后能使用同一的标准查找数据呢？<br>答：字典，字典里面的数据是以&#x3D;&#x3D;键值对&#x3D;&#x3D;形式出现，字典数据和数据顺序没有关系，即字典不支持下标，后期无论数据如何变化，只需要按照对应的键的名字查找数据即可。</p>
<h5 id="创建字典的语法"><a href="#创建字典的语法" class="headerlink" title="创建字典的语法"></a>创建字典的语法</h5><p>字典特点：</p>
<ul>
<li>符号为&#x3D;&#x3D;大括号&#x3D;&#x3D;</li>
<li>数据为&#x3D;&#x3D;键值对&#x3D;&#x3D;形式出现</li>
<li>各个键值对之间用&#x3D;&#x3D;逗号&#x3D;&#x3D;隔开</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 有数据字典</span></span><br><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">## 空字典</span></span><br><span class="line">dict2 = &#123;&#125;</span><br><span class="line"></span><br><span class="line">dict3 = <span class="built_in">dict</span>()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：一般称冒号前面的为键(key)，简称k；冒号后面的为值(value)，简称v。</p>
</blockquote>
<h5 id="字典常见操作"><a href="#字典常见操作" class="headerlink" title="字典常见操作"></a>字典常见操作</h5><h6 id="增"><a href="#增" class="headerlink" title="增"></a>增</h6><p>写法：&#x3D;&#x3D;字典序列[key] &#x3D; 值&#x3D;&#x3D;</p>
<blockquote>
<p>注意：如果key存在则修改这个key对应的值；如果key不存在则新增此键值对。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line">dict1[<span class="string">&#x27;name&#x27;</span>] = <span class="string">&#x27;Rose&#x27;</span></span><br><span class="line"><span class="comment">## 结果：&#123;&#x27;name&#x27;: &#x27;Rose&#x27;, &#x27;age&#x27;: 20, &#x27;gender&#x27;: &#x27;男&#x27;&#125;</span></span><br><span class="line"><span class="built_in">print</span>(dict1)</span><br><span class="line"></span><br><span class="line">dict1[<span class="string">&#x27;id&#x27;</span>] = <span class="number">110</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## &#123;&#x27;name&#x27;: &#x27;Rose&#x27;, &#x27;age&#x27;: 20, &#x27;gender&#x27;: &#x27;男&#x27;, &#x27;id&#x27;: 110&#125;</span></span><br><span class="line"><span class="built_in">print</span>(dict1)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：字典为可变类型。</p>
</blockquote>
<h6 id="删"><a href="#删" class="headerlink" title="删"></a>删</h6><ul>
<li>del() &#x2F; del：删除字典或删除字典中指定键值对。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> dict1[<span class="string">&#x27;gender&#x27;</span>]</span><br><span class="line"><span class="comment">## 结果：&#123;&#x27;name&#x27;: &#x27;Tom&#x27;, &#x27;age&#x27;: 20&#125;</span></span><br><span class="line"><span class="built_in">print</span>(dict1)</span><br></pre></td></tr></table></figure>
<ul>
<li>clear()：清空字典</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line">dict1.clear()</span><br><span class="line"><span class="built_in">print</span>(dict1)  <span class="comment"># &#123;&#125;</span></span><br></pre></td></tr></table></figure>
<h6 id="改"><a href="#改" class="headerlink" title="改"></a>改</h6><p>写法：&#x3D;&#x3D;字典序列[key] &#x3D; 值&#x3D;&#x3D;</p>
<blockquote>
<p>注意：如果key存在则修改这个key对应的值 ；如果key不存在则新增此键值对。</p>
</blockquote>
<h6 id="查"><a href="#查" class="headerlink" title="查"></a>查</h6><ul>
<li>key值查找<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(dict1[<span class="string">&#x27;name&#x27;</span>])  <span class="comment"># Tom</span></span><br><span class="line"><span class="built_in">print</span>(dict1[<span class="string">&#x27;id&#x27;</span>])  <span class="comment"># 报错</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果当前查找的key存在，则返回对应的值；否则则报错。</p>
</blockquote>
</li>
</ul>
<ul>
<li>get()   语法</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字典序列.get(key, 默认值)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：如果当前查找的key不存在则返回第二个参数(默认值)，如果省略第二个参数，则返回None。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(dict1.get(<span class="string">&#x27;name&#x27;</span>))  <span class="comment"># Tom</span></span><br><span class="line"><span class="built_in">print</span>(dict1.get(<span class="string">&#x27;id&#x27;</span>, <span class="number">110</span>))  <span class="comment"># 110</span></span><br><span class="line"><span class="built_in">print</span>(dict1.get(<span class="string">&#x27;id&#x27;</span>))  <span class="comment"># None</span></span><br></pre></td></tr></table></figure>
<ul>
<li>keys()<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(dict1.keys())  <span class="comment"># dict_keys([&#x27;name&#x27;, &#x27;age&#x27;, &#x27;gender&#x27;])</span></span><br></pre></td></tr></table></figure></li>
<li>values()<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(dict1.values())  <span class="comment"># dict_values([&#x27;Tom&#x27;, 20, &#x27;男&#x27;])</span></span><br></pre></td></tr></table></figure></li>
<li>items()<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(dict1.items())  <span class="comment"># dict_items([(&#x27;name&#x27;, &#x27;Tom&#x27;), (&#x27;age&#x27;, 20), (&#x27;gender&#x27;, &#x27;男&#x27;)])</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="字典的循环遍历"><a href="#字典的循环遍历" class="headerlink" title="字典的循环遍历"></a>字典的循环遍历</h5><h6 id="遍历字典的key"><a href="#遍历字典的key" class="headerlink" title="遍历字典的key"></a>遍历字典的key</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> dict1.keys():</span><br><span class="line">    <span class="built_in">print</span>(key)</span><br></pre></td></tr></table></figure>
<h6 id="遍历字典的value"><a href="#遍历字典的value" class="headerlink" title="遍历字典的value"></a>遍历字典的value</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> dict1.values():</span><br><span class="line">    <span class="built_in">print</span>(value)</span><br></pre></td></tr></table></figure>
<h6 id="遍历字典的元素"><a href="#遍历字典的元素" class="headerlink" title="遍历字典的元素"></a>遍历字典的元素</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> dict1.items():</span><br><span class="line">    <span class="built_in">print</span>(item)</span><br></pre></td></tr></table></figure>

<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-GyUf8MGo-1617796856463)(04-字典.assets&#x2F;image-20190212104046564.png)]</p>
<h6 id="遍历字典的键值"><a href="#遍历字典的键值" class="headerlink" title="遍历字典的键值"></a>遍历字典的键值</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;男&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> dict1.items():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;key&#125;</span> = <span class="subst">&#123;value&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h4><h5 id="创建集合"><a href="#创建集合" class="headerlink" title="创建集合"></a>创建集合</h5><p>创建集合使用<code>&#123;&#125;</code>或<code>set()</code>， 但是如果要创建空集合只能使用<code>set()</code>，因为<code>&#123;&#125;</code>用来创建空字典。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">s1 = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(s1)</span><br><span class="line"></span><br><span class="line">s2 = &#123;<span class="number">10</span>, <span class="number">30</span>, <span class="number">20</span>, <span class="number">10</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">30</span>, <span class="number">50</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(s2)</span><br><span class="line"></span><br><span class="line">s3 = <span class="built_in">set</span>(<span class="string">&#x27;abcdefg&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(s3)</span><br><span class="line"></span><br><span class="line">s4 = <span class="built_in">set</span>()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(s4))  <span class="comment">## set</span></span><br><span class="line"></span><br><span class="line">s5 = &#123;&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(s5))  <span class="comment">## dict</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>特点：</p>
<ol>
<li><code>集合可以去掉重复数据；·</code></li>
<li><code>集合数据是无序的，故不支持下标·</code></li>
</ol>
</blockquote>
<h5 id="集合常见操作方法"><a href="#集合常见操作方法" class="headerlink" title="集合常见操作方法"></a>集合常见操作方法</h5><h6 id="增加数据"><a href="#增加数据" class="headerlink" title="增加数据"></a>增加数据</h6><ul>
<li>add()<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s1 = &#123;<span class="number">10</span>, <span class="number">20</span>&#125;</span><br><span class="line">s1.add(<span class="number">100</span>)</span><br><span class="line">s1.add(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(s1)  <span class="comment">## &#123;100, 10, 20&#125;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>因为集合有去重功能，所以，当向集合内追加的数据是当前集合已有数据的话，则不进行任何操作。</p>
</blockquote>
</li>
<li>update(), <code>追加的数据是序列。</code><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s1 = &#123;<span class="number">10</span>, <span class="number">20</span>&#125;</span><br><span class="line"><span class="comment">## s1.update(100)  ## 报错</span></span><br><span class="line">s1.update([<span class="number">100</span>, <span class="number">200</span>])</span><br><span class="line">s1.update(<span class="string">&#x27;abc&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(s1)</span><br></pre></td></tr></table></figure></li>
</ul>
<h6 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h6><ul>
<li>remove()，删除集合中的指定数据，<code>如果数据不存在则报错。</code><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">s1 = &#123;<span class="number">10</span>, <span class="number">20</span>&#125;</span><br><span class="line"></span><br><span class="line">s1.remove(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(s1)</span><br><span class="line"></span><br><span class="line">s1.remove(<span class="number">10</span>)  <span class="comment">## 报错</span></span><br><span class="line"><span class="built_in">print</span>(s1)</span><br></pre></td></tr></table></figure></li>
<li>discard()，删除集合中的指定数据，<code>如果数据不存在也不会报错。</code><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">s1 = &#123;<span class="number">10</span>, <span class="number">20</span>&#125;</span><br><span class="line"></span><br><span class="line">s1.discard(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(s1)</span><br><span class="line"></span><br><span class="line">s1.discard(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(s1)</span><br></pre></td></tr></table></figure></li>
<li>pop()，随机删除集合中的某个数据，<code>并返回这个数据。</code><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s1 = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;</span><br><span class="line"></span><br><span class="line">del_num = s1.pop()</span><br><span class="line"><span class="built_in">print</span>(del_num)</span><br><span class="line"><span class="built_in">print</span>(s1)</span><br></pre></td></tr></table></figure></li>
</ul>
<h6 id="查找数据"><a href="#查找数据" class="headerlink" title="查找数据"></a>查找数据</h6><ul>
<li>in：判断数据在集合序列</li>
<li>not in：判断数据不在集合序列<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s1 = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="number">10</span> <span class="keyword">in</span> s1)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">10</span> <span class="keyword">not</span> <span class="keyword">in</span> s1)</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="公共操作"><a href="#公共操作" class="headerlink" title="公共操作"></a>公共操作</h4><h5 id="一-运算符"><a href="#一-运算符" class="headerlink" title="一. 运算符"></a>一. 运算符</h5><table>
<thead>
<tr>
<th align="center">运算符</th>
<th align="center">描述</th>
<th align="center">支持的容器类型</th>
</tr>
</thead>
<tbody><tr>
<td align="center">+</td>
<td align="center">合并</td>
<td align="center">字符串、列表、元组</td>
</tr>
<tr>
<td align="center">*</td>
<td align="center">复制</td>
<td align="center">字符串、列表、元组</td>
</tr>
<tr>
<td align="center">in</td>
<td align="center">元素是否存在</td>
<td align="center">字符串、列表、元组、字典</td>
</tr>
<tr>
<td align="center">not in</td>
<td align="center">元素是否不存在</td>
<td align="center">字符串、列表、元组、字典</td>
</tr>
</tbody></table>
<h6 id=""><a href="#" class="headerlink" title="+"></a>+</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 1. 字符串 </span></span><br><span class="line">str1 = <span class="string">&#x27;aa&#x27;</span></span><br><span class="line">str2 = <span class="string">&#x27;bb&#x27;</span></span><br><span class="line">str3 = str1 + str2</span><br><span class="line"><span class="built_in">print</span>(str3)  <span class="comment">## aabb</span></span><br><span class="line"><span class="comment">## 2. 列表 </span></span><br><span class="line">list1 = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">list2 = [<span class="number">10</span>, <span class="number">20</span>]</span><br><span class="line">list3 = list1 + list2</span><br><span class="line"><span class="built_in">print</span>(list3)  <span class="comment">## [1, 2, 10, 20]</span></span><br><span class="line"><span class="comment">## 3. 元组 </span></span><br><span class="line">t1 = (<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">t2 = (<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">t3 = t1 + t2</span><br><span class="line"><span class="built_in">print</span>(t3)  <span class="comment">## (10, 20, 100, 200)</span></span><br></pre></td></tr></table></figure>
<h6 id="-1"><a href="#-1" class="headerlink" title="*"></a>*</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 1. 字符串</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span> * <span class="number">10</span>)  <span class="comment">## ----------</span></span><br><span class="line"><span class="comment">## 2. 列表</span></span><br><span class="line">list1 = [<span class="string">&#x27;hello&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(list1 * <span class="number">4</span>)  <span class="comment">## [&#x27;hello&#x27;, &#x27;hello&#x27;, &#x27;hello&#x27;, &#x27;hello&#x27;]</span></span><br><span class="line"><span class="comment">## 3. 元组</span></span><br><span class="line">t1 = (<span class="string">&#x27;world&#x27;</span>,)</span><br><span class="line"><span class="built_in">print</span>(t1 * <span class="number">4</span>)  <span class="comment">## (&#x27;world&#x27;, &#x27;world&#x27;, &#x27;world&#x27;, &#x27;world&#x27;)</span></span><br></pre></td></tr></table></figure>
<h6 id="in或not-in"><a href="#in或not-in" class="headerlink" title="in或not in"></a>in或not in</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 1. 字符串</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;a&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;abcd&#x27;</span>)  <span class="comment">## True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;a&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> <span class="string">&#x27;abcd&#x27;</span>)  <span class="comment">## False</span></span><br><span class="line"><span class="comment">## 2. 列表</span></span><br><span class="line">list1 = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;a&#x27;</span> <span class="keyword">in</span> list1)  <span class="comment">## True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;a&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> list1)  <span class="comment">## False</span></span><br><span class="line"><span class="comment">## 3. 元组</span></span><br><span class="line">t1 = (<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;aa&#x27;</span> <span class="keyword">in</span> t1)  <span class="comment">## False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;aa&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> t1)  <span class="comment">## True</span></span><br></pre></td></tr></table></figure>
<h5 id="公共方法"><a href="#公共方法" class="headerlink" title="公共方法"></a>公共方法</h5><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>len()</td>
<td>计算容器中元素个数</td>
</tr>
<tr>
<td>del 或 del()</td>
<td>删除</td>
</tr>
<tr>
<td>max()</td>
<td>返回容器中元素最大值</td>
</tr>
<tr>
<td>min()</td>
<td>返回容器中元素最小值</td>
</tr>
<tr>
<td>range(start, end, step)</td>
<td>生成从start到end的数字，步长为 step，供for循环使用</td>
</tr>
<tr>
<td>enumerate()</td>
<td>函数用于将一个可遍历的数据对象(如列表、元组或字符串)组合为一个索引序列，同时列出数据和数据下标，一般用在 for 循环当中。</td>
</tr>
</tbody></table>
<h6 id="len"><a href="#len" class="headerlink" title="len()"></a>len()</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 1. 字符串</span></span><br><span class="line">str1 = <span class="string">&#x27;abcdefg&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(str1))  <span class="comment">## 7</span></span><br><span class="line"><span class="comment">## 2. 列表</span></span><br><span class="line">list1 = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(list1))  <span class="comment">## 4</span></span><br><span class="line"><span class="comment">## 3. 元组</span></span><br><span class="line">t1 = (<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(t1))  <span class="comment">## 5</span></span><br><span class="line"><span class="comment">## 4. 集合</span></span><br><span class="line">s1 = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(s1))  <span class="comment">## 3</span></span><br><span class="line"><span class="comment">## 5. 字典</span></span><br><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Rose&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">18</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(dict1))  <span class="comment">## 2</span></span><br></pre></td></tr></table></figure>
<h6 id="del"><a href="#del" class="headerlink" title="del()"></a>del()</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 1. 字符串</span></span><br><span class="line">str1 = <span class="string">&#x27;abcdefg&#x27;</span></span><br><span class="line"><span class="keyword">del</span> str1</span><br><span class="line"><span class="built_in">print</span>(str1)</span><br><span class="line"><span class="comment">## 2. 列表</span></span><br><span class="line">list1 = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>]</span><br><span class="line"><span class="keyword">del</span>(list1[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(list1)  <span class="comment">## [20, 30, 40]</span></span><br></pre></td></tr></table></figure>
<h6 id="max"><a href="#max" class="headerlink" title="max()"></a>max()</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 1. 字符串</span></span><br><span class="line">str1 = <span class="string">&#x27;abcdefg&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">max</span>(str1))  <span class="comment">## g</span></span><br><span class="line"><span class="comment">## 2. 列表</span></span><br><span class="line">list1 = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">max</span>(list1))  <span class="comment">## 40</span></span><br></pre></td></tr></table></figure>
<h6 id="min"><a href="#min" class="headerlink" title="min()"></a>min()</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 1. 字符串</span></span><br><span class="line">str1 = <span class="string">&#x27;abcdefg&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">min</span>(str1))  <span class="comment">## a</span></span><br><span class="line"><span class="comment">## 2. 列表</span></span><br><span class="line">list1 = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">min</span>(list1))  <span class="comment">## 10</span></span><br></pre></td></tr></table></figure>
<h6 id="range"><a href="#range" class="headerlink" title="range()"></a>range()</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 1 2 3 4 5 6 7 8 9</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>, <span class="number">1</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="comment">## 1 3 5 7 9</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>, <span class="number">2</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="comment">## 0 1 2 3 4 5 6 7 8 9</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：<code>range()生成的序列不包含end数字。</code></p>
</blockquote>
<h6 id="enumerate-语法"><a href="#enumerate-语法" class="headerlink" title="enumerate()  语法"></a>enumerate()  语法</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">enumerate</span>(可遍历对象, start=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：start参数用来设置遍历数据的下标的起始值，默认为0。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">enumerate</span>(list1):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="keyword">for</span> index, char <span class="keyword">in</span> <span class="built_in">enumerate</span>(list1, start=<span class="number">1</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;下标是<span class="subst">&#123;index&#125;</span>, 对应的字符是<span class="subst">&#123;char&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">(<span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">(<span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">(<span class="number">2</span>, <span class="string">&#x27;c&#x27;</span>)</span><br><span class="line">(<span class="number">3</span>, <span class="string">&#x27;d&#x27;</span>)</span><br><span class="line">(<span class="number">4</span>, <span class="string">&#x27;e&#x27;</span>)</span><br><span class="line">下标是&#123;<span class="number">1</span>&#125;, 对应的字符是&#123;a&#125;</span><br><span class="line">下标是&#123;<span class="number">2</span>&#125;, 对应的字符是&#123;b&#125;</span><br><span class="line">下标是&#123;<span class="number">3</span>&#125;, 对应的字符是&#123;c&#125;</span><br><span class="line">下标是&#123;<span class="number">4</span>&#125;, 对应的字符是&#123;d&#125;</span><br><span class="line">下标是&#123;<span class="number">5</span>&#125;, 对应的字符是&#123;e&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="容器类型转换"><a href="#容器类型转换" class="headerlink" title="容器类型转换"></a>容器类型转换</h5><h6 id="tuple"><a href="#tuple" class="headerlink" title="tuple()"></a>tuple()</h6><p>作用：将某个序列转换成元组</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">20</span>]</span><br><span class="line">s1 = &#123;<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>, <span class="number">400</span>, <span class="number">500</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">tuple</span>(list1))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">tuple</span>(s1))</span><br></pre></td></tr></table></figure>
<h6 id="list"><a href="#list" class="headerlink" title="list()"></a>list()</h6><p>作用：将某个序列转换成列表</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">t1 = (<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>)</span><br><span class="line">s1 = &#123;<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>, <span class="number">400</span>, <span class="number">500</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(t1))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(s1))</span><br></pre></td></tr></table></figure>
<h6 id="set"><a href="#set" class="headerlink" title="set()"></a>set()</h6><p>作用：将某个序列转换成集合</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">20</span>]</span><br><span class="line">t1 = (<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">set</span>(list1))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">set</span>(t1))</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：<br>     1. 集合可以快速完成列表去重<br>     2. 集合不支持下标</p>
</blockquote>
<h4 id="推导式"><a href="#推导式" class="headerlink" title="推导式"></a>推导式</h4><h5 id="列表推导式"><a href="#列表推导式" class="headerlink" title="列表推导式"></a>列表推导式</h5><p>作用：用一个表达式创建一个有规律的列表或控制一个有规律列表。列表推导式又叫列表生成式。<br>需求：创建一个0-10的列表。</p>
<ul>
<li>while循环实现<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 1. 准备一个空列表</span></span><br><span class="line">list1 = []</span><br><span class="line"><span class="comment">## 2. 书写循环，依次追加数字到空列表list1中</span></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="number">10</span>:</span><br><span class="line">    list1.append(i)</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(list1)</span><br></pre></td></tr></table></figure></li>
<li>for循环实现<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">list1 = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    list1.append(i)</span><br><span class="line"><span class="built_in">print</span>(list1)</span><br></pre></td></tr></table></figure></li>
<li><code>列表推导式实现</code><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list1 = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line"><span class="built_in">print</span>(list1)</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="带if的列表推导式"><a href="#带if的列表推导式" class="headerlink" title="带if的列表推导式"></a>带if的列表推导式</h5><p>需求：创建0-10的偶数列表</p>
<ul>
<li>方法一：range()步长实现<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list1 = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">10</span>, <span class="number">2</span>)]</span><br><span class="line"><span class="built_in">print</span>(list1)</span><br></pre></td></tr></table></figure></li>
<li>方法二：if实现<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list1 = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>) <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(list1)</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="多个for循环实现列表推导式"><a href="#多个for循环实现列表推导式" class="headerlink" title="多个for循环实现列表推导式"></a>多个for循环实现列表推导式</h5><p>需求：创建列表如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[(1, 0), (1, 1), (1, 2), (2, 0), (2, 1), (2, 2)]</span><br></pre></td></tr></table></figure>
<ul>
<li>代码如下：<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list1 = [(i, j) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">3</span>) <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)]</span><br><span class="line"><span class="built_in">print</span>(list1)</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="字典推导式"><a href="#字典推导式" class="headerlink" title="字典推导式"></a>字典推导式</h5><p>思考：如果有如下两个列表：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;gender&#x27;</span>]</span><br><span class="line">list2 = [<span class="string">&#x27;Tom&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;man&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p>如何快速合并为一个字典？答：字典推导式</p>
<p>字典推导式作用：快速合并列表为字典或提取字典中目标数据。</p>
<ol>
<li><p>创建一个字典：字典key是1-5数字，value是这个数字的2次方。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;i: i**<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>)&#125;</span><br><span class="line"><span class="built_in">print</span>(dict1)  <span class="comment">## &#123;1: 1, 2: 4, 3: 9, 4: 16&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>将两个列表合并为一个字典</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;gender&#x27;</span>]</span><br><span class="line">list2 = [<span class="string">&#x27;Tom&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;man&#x27;</span>]</span><br><span class="line"></span><br><span class="line">dict1 = &#123;list1[i]: list2[i] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(list1))&#125;</span><br><span class="line"><span class="built_in">print</span>(dict1)</span><br></pre></td></tr></table></figure>
</li>
<li><p>提取字典中目标数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">counts = &#123;<span class="string">&#x27;MBP&#x27;</span>: <span class="number">268</span>, <span class="string">&#x27;HP&#x27;</span>: <span class="number">125</span>, <span class="string">&#x27;DELL&#x27;</span>: <span class="number">201</span>, <span class="string">&#x27;Lenovo&#x27;</span>: <span class="number">199</span>, <span class="string">&#x27;acer&#x27;</span>: <span class="number">99</span>&#125;</span><br><span class="line"><span class="comment">## 需求：提取上述电脑数量大于等于200的字典数据</span></span><br><span class="line">count1 = &#123;key: value <span class="keyword">for</span> key, value <span class="keyword">in</span> counts.items() <span class="keyword">if</span> value &gt;= <span class="number">200</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(count1)  <span class="comment">## &#123;&#x27;MBP&#x27;: 268, &#x27;DELL&#x27;: 201&#125;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="集合推导式"><a href="#集合推导式" class="headerlink" title="集合推导式"></a>集合推导式</h5><p>需求：创建一个集合，数据为下方列表的2次方。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br></pre></td></tr></table></figure>

<p>代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">set1 = &#123;i ** <span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> list1&#125;</span><br><span class="line"><span class="built_in">print</span>(set1)  <span class="comment">## &#123;1, 4&#125;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：集合有数据去重功能。</p>
</blockquote>
<h3 id="函数-1"><a href="#函数-1" class="headerlink" title="函数"></a>函数</h3><h4 id="函数的作用"><a href="#函数的作用" class="headerlink" title="函数的作用"></a>函数的作用</h4><p>需求：用户到ATM机取钱：</p>
<ol>
<li>输入密码后显示”选择功能”界面</li>
<li>查询余额后显示”选择功能”界面</li>
<li>取2000钱后显示”选择功能”界面<blockquote>
<p>特点：显示“选择功能”界面需要重复输出给用户，怎么实现？<br>函数就是将&#x3D;&#x3D;一段具有独立功能的代码块&#x3D;&#x3D; 整合到一个整体并命名，在需要的位置&#x3D;&#x3D;调用这个名称&#x3D;&#x3D;即可完成对应的需求。<br>函数在开发过程中，可以更高效的实现&#x3D;&#x3D;代码重用&#x3D;&#x3D;。</p>
</blockquote>
</li>
</ol>
<h4 id="函数的使用步骤"><a href="#函数的使用步骤" class="headerlink" title="函数的使用步骤"></a>函数的使用步骤</h4><h5 id="定义函数"><a href="#定义函数" class="headerlink" title="定义函数"></a>定义函数</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> 函数名(<span class="params">参数</span>):</span></span><br><span class="line">    代码<span class="number">1</span></span><br><span class="line">    代码<span class="number">2</span></span><br><span class="line">    ......</span><br></pre></td></tr></table></figure>
<h6 id="调用函数"><a href="#调用函数" class="headerlink" title="调用函数"></a>调用函数</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">函数名(参数)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：<br>     1. 不同的需求，参数可有可无。<br>     2. 在Python中，函数必须&#x3D;&#x3D;先定义后使用&#x3D;&#x3D;。</p>
</blockquote>
<p>需求：复现ATM取钱功能。</p>
<ol>
<li><p>搭建整体框架(复现需求)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;密码正确登录成功&#x27;</span>)</span><br><span class="line"><span class="comment">#### 显示&quot;选择功能&quot;界面</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;查询余额完毕&#x27;</span>)</span><br><span class="line"><span class="comment">#### 显示&quot;选择功能&quot;界面</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;取了2000元钱&#x27;</span>)</span><br><span class="line"><span class="comment">#### 显示&quot;选择功能&quot;界面</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>确定“选择功能”界面内容</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;查询余额&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;存款&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;取款&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>封装”选择功能”</p>
<blockquote>
<p>注意：一定是先定义函数，后调用函数。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#### 封装ATM机功能选项 -- 定义函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">select_func</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;-----请选择功能-----&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;查询余额&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;存款&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;取款&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;-----请选择功能-----&#x27;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>调用函数</p>
</li>
</ol>
<p>在需要显示“选择功能”函数的位置调用函数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;密码正确登录成功&#x27;</span>)</span><br><span class="line"><span class="comment">#### 显示&quot;选择功能&quot;界面 -- 调用函数</span></span><br><span class="line">select_func()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;查询余额完毕&#x27;</span>)</span><br><span class="line"><span class="comment">#### 显示&quot;选择功能&quot;界面 -- 调用函数</span></span><br><span class="line">select_func()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;取了2000元钱&#x27;</span>)</span><br><span class="line"><span class="comment">#### 显示&quot;选择功能&quot;界面 -- 调用函数</span></span><br><span class="line">select_func()</span><br></pre></td></tr></table></figure>
<h4 id="函数的参数作用"><a href="#函数的参数作用" class="headerlink" title="函数的参数作用"></a>函数的参数作用</h4><p>思考：完成需求如下：一个函数完成两个数1和2的加法运算，如何书写程序？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#### 定义函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_num1</span>():</span></span><br><span class="line">    result = <span class="number">1</span> + <span class="number">2</span></span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line"><span class="comment">#### 调用函数</span></span><br><span class="line">add_num1()</span><br></pre></td></tr></table></figure>

<p>思考：上述add_num1函数只能完成数字1和2的加法运算，如果想要这个函数变得更灵活，可以计算任何用户指定的两个数字的和，如何书写程序？</p>
<p>分析：用户要在调用函数的时候指定具体数字，那么在定义函数的时候就需要接收用户指定的数字。函数调用时候指定的数字和定义函数时候接收的数字即是函数的参数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#### 定义函数时同时定义了接收用户数据的参数a和b，a和b是形参</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_num2</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    result = a + b</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line"><span class="comment">#### 调用函数时传入了真实的数据10 和 20，真实数据为实参</span></span><br><span class="line">add_num2(<span class="number">10</span>, <span class="number">20</span>)</span><br></pre></td></tr></table></figure>
<h4 id="函数的返回值作用"><a href="#函数的返回值作用" class="headerlink" title="函数的返回值作用"></a>函数的返回值作用</h4><p>例如：我们去超市购物，比如买烟，给钱之后，是不是售货员会返回给我们烟这个商品，在函数中，如果需要返回结果给用户需要使用函数返回值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">buy</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;烟&#x27;</span></span><br><span class="line"><span class="comment">#### 使用变量保存函数返回值</span></span><br><span class="line">goods = buy()</span><br><span class="line"><span class="built_in">print</span>(goods)</span><br></pre></td></tr></table></figure>
<h4 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h4><p>需求：制作一个计算器，计算任意两数字之和，并保存结果。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_num</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"><span class="comment">#### 用result变量保存函数返回值</span></span><br><span class="line">result = sum_num(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>
<h4 id="函数的说明文档"><a href="#函数的说明文档" class="headerlink" title="函数的说明文档"></a>函数的说明文档</h4><ul>
<li>思考：定义一个函数后，程序员如何书写程序能够快速提示这个函数的作用？答：注释</li>
<li>思考：如果代码多，我们是不是需要在很多代码中找到这个函数定义的位置才能看到注释？如果想更方便的查看函数的作用怎么办？答：函数的说明文档<blockquote>
<p>函数的说明文档也叫函数的文档说明。</p>
</blockquote>
</li>
</ul>
<h4 id="语法-8"><a href="#语法-8" class="headerlink" title="语法"></a>语法</h4><ul>
<li>定义函数的说明文档<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> 函数名(<span class="params">参数</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; 说明文档的位置 &quot;&quot;&quot;</span></span><br><span class="line">    代码</span><br><span class="line">    ......</span><br></pre></td></tr></table></figure></li>
<li>查看函数的说明文档<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">help</span>(函数名)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_num</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; 求和函数 &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">help</span>(sum_num)</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="函数嵌套调用"><a href="#函数嵌套调用" class="headerlink" title="函数嵌套调用"></a>函数嵌套调用</h4><p>所谓函数嵌套调用指的是&#x3D;&#x3D;一个函数里面又调用了另外一个函数&#x3D;&#x3D;。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testB</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;---- testB start----&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;这里是testB函数执行的代码...(省略)...&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;---- testB end----&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testA</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;---- testA start----&#x27;</span>)</span><br><span class="line">    testB()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;---- testA end----&#x27;</span>)</span><br><span class="line"></span><br><span class="line">testA()</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>如果函数A中，调用了另外一个函数B，那么先把函数B中的任务都执行完毕之后才会回到上次 函数A执行的位置。</li>
</ul>
</blockquote>
<h5 id="打印图形"><a href="#打印图形" class="headerlink" title="打印图形"></a>打印图形</h5><ol>
<li>打印一条横线<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_line</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span> * <span class="number">20</span>)</span><br><span class="line">print_line()</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">WARNING! The remote SSH server rejected X11 forwarding request.</span><br><span class="line">Last failed login: Fri Apr  9 17:40:20 CST 2021 from 49.234.64.13 on ssh:notty</span><br><span class="line">There were 27 failed login attempts since the last successful login.</span><br><span class="line">Last login: Thu Apr  8 23:53:27 2021 from 111.194.47.197</span><br><span class="line"></span><br><span class="line">Welcome to Alibaba Cloud Elastic Compute Service !</span><br><span class="line"></span><br><span class="line">[root@liruilong ~]<span class="comment"># python3</span></span><br><span class="line">Python 3.6.8 (default, Nov 16 2020, 16:55:22) </span><br><span class="line">[GCC 4.8.5 20150623 (Red Hat 4.8.5-44)] on linux</span><br><span class="line">Type <span class="string">&quot;help&quot;</span>, <span class="string">&quot;copyright&quot;</span>, <span class="string">&quot;credits&quot;</span> or <span class="string">&quot;license&quot;</span> <span class="keyword">for</span> more information.</span><br><span class="line">&gt;&gt;&gt; <span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span> * 20)</span><br><span class="line">--------------------</span><br><span class="line">&gt;&gt;&gt; </span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>打印多条横线<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_line</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span> * <span class="number">20</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_lines</span>(<span class="params">num</span>):</span></span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; num:</span><br><span class="line">        print_line()</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print_lines(<span class="number">5</span>)</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="函数计算"><a href="#函数计算" class="headerlink" title="函数计算"></a>函数计算</h4><ol>
<li><p>求三个数之和</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_num</span>(<span class="params">a, b, c</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a + b + c</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">result = sum_num(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 6</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>求三个数平均值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">average_num</span>(<span class="params">a, b, c</span>):</span></span><br><span class="line">    sumResult = sum_num(a, b, c)</span><br><span class="line">    <span class="keyword">return</span> sumResult / <span class="number">3</span></span><br><span class="line"></span><br><span class="line">result = average_num(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 2.0</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="函数变量作用域"><a href="#函数变量作用域" class="headerlink" title="函数变量作用域"></a>函数变量作用域</h4><p>变量作用域指的是变量生效的范围，主要分为两类：&#x3D;&#x3D;局部变量&#x3D;&#x3D;和&#x3D;&#x3D;全局变量&#x3D;&#x3D;。</p>
<ul>
<li><code>局部变量</code>：所谓局部变量是定义在函数体内部的变量，即只在函数体内部生效。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testA</span>():</span></span><br><span class="line">    a = <span class="number">100</span></span><br><span class="line">    <span class="built_in">print</span>(a)</span><br><span class="line">testA()  <span class="comment"># 100</span></span><br><span class="line"><span class="built_in">print</span>(a)  <span class="comment"># 报错：name &#x27;a&#x27; is not defined</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>变量a是定义在<code>testA</code>函数内部的变量，在函数外部访问则立即报错。</p>
</blockquote>
</li>
</ul>
<p>局部变量的作用：在函数体内部，临时保存数据，即当函数调用完成后，则销毁局部变量。</p>
<ul>
<li><code>全局变量</code>:<code>所谓全局变量，指的是在函数体内、外都能生效的变量。</code></li>
</ul>
<p>思考：如果有一个数据，在函数A和函数B中都要使用，该怎么办？</p>
<p>答：将这个数据存储在一个全局变量里面。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#### 定义全局变量a</span></span><br><span class="line">a = <span class="number">100</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testA</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(a)  <span class="comment"># 访问全局变量a，并打印变量a存储的数据</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testB</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(a)  <span class="comment"># 访问全局变量a，并打印变量a存储的数据</span></span><br><span class="line">testA()  <span class="comment"># 100</span></span><br><span class="line">testB()  <span class="comment"># 100</span></span><br></pre></td></tr></table></figure>
<p>思考：<code>testB</code>函数需求修改变量a的值为200，如何修改程序？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">100</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testA</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(a)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testB</span>():</span></span><br><span class="line">    a = <span class="number">200</span></span><br><span class="line">    <span class="built_in">print</span>(a)</span><br><span class="line">testA()  <span class="comment"># 100</span></span><br><span class="line">testB()  <span class="comment"># 200</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;全局变量a = <span class="subst">&#123;a&#125;</span>&#x27;</span>)  <span class="comment"># 全局变量a = 100</span></span><br></pre></td></tr></table></figure>

<p>思考：在<code>testB</code>函数内部的<code>a = 200</code>中的变量a是在修改全局变量<code>a</code>吗？</p>
<p>答：不是。观察上述代码发现，15行得到a的数据是100，仍然是定义全局变量a时候的值，而没有返回<br><code>testB</code>函数内部的200。综上：<code>testB</code>函数内部的<code>a = 200</code>是定义了一个局部变量。</p>
<p>思考：<code>如何在函数体内部修改全局变量？</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">100</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testA</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(a)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testB</span>():</span></span><br><span class="line">    <span class="comment"># global 关键字声明a是全局变量</span></span><br><span class="line">    <span class="keyword">global</span> a</span><br><span class="line">    a = <span class="number">200</span></span><br><span class="line">    <span class="built_in">print</span>(a)</span><br><span class="line">testA()  <span class="comment"># 100</span></span><br><span class="line">testB()  <span class="comment"># 200</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;全局变量a = <span class="subst">&#123;a&#125;</span>&#x27;</span>)  <span class="comment"># 全局变量a = 200</span></span><br></pre></td></tr></table></figure>
<h4 id="多函数程序执行流程"><a href="#多函数程序执行流程" class="headerlink" title="多函数程序执行流程"></a>多函数程序执行流程</h4><p>一般在实际开发过程中，一个程序往往由多个函数(后面知识中会讲解类)组成，并且多个函数共享某些数据，如下所示：</p>
<ul>
<li>共用全局变量<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#### 1. 定义全局变量</span></span><br><span class="line">glo_num = <span class="number">0</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test1</span>():</span></span><br><span class="line">    <span class="keyword">global</span> glo_num</span><br><span class="line">    <span class="comment"># 修改全局变量</span></span><br><span class="line">    glo_num = <span class="number">100</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test2</span>():</span></span><br><span class="line">    <span class="comment"># 调用test1函数中修改后的全局变量</span></span><br><span class="line">    <span class="built_in">print</span>(glo_num)</span><br><span class="line"><span class="comment">#### 2. 调用test1函数，执行函数内部代码：声明和修改全局变量</span></span><br><span class="line">test1()</span><br><span class="line"><span class="comment">#### 3. 调用test2函数，执行函数内部代码：打印</span></span><br><span class="line">test2()  <span class="comment"># 100</span></span><br></pre></td></tr></table></figure></li>
<li>返回值作为参数传递<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test1</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">50</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test2</span>(<span class="params">num</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(num)</span><br><span class="line"><span class="comment">#### 1. 保存函数test1的返回值</span></span><br><span class="line">result = test1()</span><br><span class="line"><span class="comment">#### 2.将函数返回值所在变量作为参数传递到test2函数</span></span><br><span class="line">test2(result)  <span class="comment"># 50</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="函数的返回值"><a href="#函数的返回值" class="headerlink" title="函数的返回值"></a>函数的返回值</h4><p>思考：<code>如果一个函数如些两个return (如下所示)，程序如何执行？</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">return_num</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">result = return_num()</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 1</span></span><br></pre></td></tr></table></figure>

<p>答：<code>只执行了第一个return，原因是因为return可以退出当前函数，导致return下方的代码不执行。</code></p>
<p>思考：如果一个函数要有多个返回值，该如何书写代码？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">return_num</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>, <span class="number">2</span></span><br><span class="line">result = return_num()</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># (1, 2)</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：</p>
<ol>
<li><code>return a, b</code>写法，返回多个数据的时候，<code>默认是元组类型。</code></li>
<li>return后面可以连接列表、元组或字典，以返回多个值。</li>
</ol>
</blockquote>
<h4 id="函数的参数"><a href="#函数的参数" class="headerlink" title="函数的参数"></a>函数的参数</h4><h5 id="位置参数"><a href="#位置参数" class="headerlink" title="位置参数"></a><code>位置参数</code></h5><p>位置参数：调用函数时根据函数定义的参数位置来传递参数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">user_info</span>(<span class="params">name, age, gender</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;您的名字是<span class="subst">&#123;name&#125;</span>, 年龄是<span class="subst">&#123;age&#125;</span>, 性别是<span class="subst">&#123;gender&#125;</span>&#x27;</span>)</span><br><span class="line">user_info(<span class="string">&#x27;TOM&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;男&#x27;</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：传递和定义参数的顺序及个数必须一致。</p>
</blockquote>
<h5 id="关键字参数"><a href="#关键字参数" class="headerlink" title="关键字参数"></a><code>关键字参数</code></h5><p>函数调用，通过“键&#x3D;值”形式加以指定。可以让函数更加清晰、容易使用，同时也清除了参数的顺序需求。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">user_info</span>(<span class="params">name, age, gender</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;您的名字是<span class="subst">&#123;name&#125;</span>, 年龄是<span class="subst">&#123;age&#125;</span>, 性别是<span class="subst">&#123;gender&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">user_info(<span class="string">&#x27;Rose&#x27;</span>, age=<span class="number">20</span>, gender=<span class="string">&#x27;女&#x27;</span>)</span><br><span class="line">user_info(<span class="string">&#x27;小明&#x27;</span>, gender=<span class="string">&#x27;男&#x27;</span>, age=<span class="number">16</span>)</span><br></pre></td></tr></table></figure>

<p>注意：**<code>函数调用时，如果有位置参数时，位置参数必须在关键字参数的前面，但关键字参数之间不存在先后顺序</code>。**</p>
<h5 id="缺省参数"><a href="#缺省参数" class="headerlink" title="缺省参数"></a><code>缺省参数</code></h5><p>缺省参数也叫<code>默认参数</code>，用于定义函数，为参数提供默认值，调用函数时可不传该默认参数的值(注意：所有位置参数必须出现在默认参数前，包括函数定义和调用)。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">user_info</span>(<span class="params">name, age, gender=<span class="string">&#x27;男&#x27;</span></span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;您的名字是<span class="subst">&#123;name&#125;</span>, 年龄是<span class="subst">&#123;age&#125;</span>, 性别是<span class="subst">&#123;gender&#125;</span>&#x27;</span>)</span><br><span class="line">user_info(<span class="string">&#x27;TOM&#x27;</span>, <span class="number">20</span>)</span><br><span class="line">user_info(<span class="string">&#x27;Rose&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;女&#x27;</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：函数调用时，如果为缺省参数传值则修改默认参数值；否则使用这个默认值。</p>
</blockquote>
<h5 id="不定长参数"><a href="#不定长参数" class="headerlink" title="不定长参数"></a>不定长参数</h5><p>不定长参数也叫可变参数。用于不确定调用的时候会传递多少个参数(不传参也可以)的场景。此时，可用包裹(packing)位置参数，或者包裹关键字参数，来进行参数传递，会显得非常方便。</p>
<ul>
<li>包裹位置传递<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">user_info</span>(<span class="params">*args</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(args)</span><br><span class="line"><span class="comment">#### (&#x27;TOM&#x27;,)</span></span><br><span class="line">user_info(<span class="string">&#x27;TOM&#x27;</span>)</span><br><span class="line"><span class="comment">#### (&#x27;TOM&#x27;, 18)</span></span><br><span class="line">user_info(<span class="string">&#x27;TOM&#x27;</span>, <span class="number">18</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：传进的所有参数都会被args变量收集，<code>它会根据传进参数的位置合并为一个元组(tuple)</code>，<code>args是元组类型</code>，这就是包裹位置传递。</p>
</blockquote>
</li>
<li>包裹关键字传递<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">user_info</span>(<span class="params">**kwargs</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(kwargs)</span><br><span class="line"><span class="comment">#### &#123;&#x27;name&#x27;: &#x27;TOM&#x27;, &#x27;age&#x27;: 18, &#x27;id&#x27;: 110&#125;</span></span><br><span class="line">user_info(name=<span class="string">&#x27;TOM&#x27;</span>, age=<span class="number">18</span>, <span class="built_in">id</span>=<span class="number">110</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>综上：无论是包裹位置传递还是包裹关键字传递，都是一个组包的过程。</p>
</blockquote>
</li>
</ul>
<h4 id="拆包和交换变量值"><a href="#拆包和交换变量值" class="headerlink" title="拆包和交换变量值"></a>拆包和交换变量值</h4><h5 id="拆包"><a href="#拆包" class="headerlink" title="拆包"></a><code>拆包</code></h5><ul>
<li>拆包：元组<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">return_num</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">100</span>, <span class="number">200</span></span><br><span class="line">num1, num2 = return_num()</span><br><span class="line"><span class="built_in">print</span>(num1)  <span class="comment"># 100</span></span><br><span class="line"><span class="built_in">print</span>(num2)  <span class="comment"># 200</span></span><br></pre></td></tr></table></figure></li>
<li>拆包：字典<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;TOM&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">18</span>&#125;</span><br><span class="line">a, b = dict1</span><br><span class="line"><span class="comment">#### 对字典进行拆包，取出来的是字典的key</span></span><br><span class="line"><span class="built_in">print</span>(a)  <span class="comment"># name</span></span><br><span class="line"><span class="built_in">print</span>(b)  <span class="comment"># age</span></span><br><span class="line"><span class="built_in">print</span>(dict1[a])  <span class="comment"># TOM</span></span><br><span class="line"><span class="built_in">print</span>(dict1[b])  <span class="comment"># 18</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="交换变量值"><a href="#交换变量值" class="headerlink" title="交换变量值"></a>交换变量值</h5><p>需求：有变量<code>a = 10</code>和<code>b = 20</code>，交换两个变量的值。<br>借助第三变量存储数据。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#### 1. 定义中间变量</span></span><br><span class="line">c = <span class="number">0</span></span><br><span class="line"><span class="comment">#### 2. 将a的数据存储到c</span></span><br><span class="line">c = a</span><br><span class="line"><span class="comment">#### 3. 将b的数据20赋值到a，此时a = 20</span></span><br><span class="line">a = b</span><br><span class="line"><span class="comment">#### 4. 将之前c的数据10赋值到b，此时b = 10</span></span><br><span class="line">b = c</span><br><span class="line"><span class="built_in">print</span>(a)  <span class="comment"># 20</span></span><br><span class="line"><span class="built_in">print</span>(b)  <span class="comment"># 10</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a, b = <span class="number">1</span>, <span class="number">2</span></span><br><span class="line">a, b = b, a</span><br><span class="line"><span class="built_in">print</span>(a)  <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(b)  <span class="comment"># 1</span></span><br></pre></td></tr></table></figure>
<h4 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h4><p>在python中，值是靠引用来传递来的。<br><strong>我们可以用<code>id()</code>来判断两个变量是否为同一个值的引用。</strong> 我们可以将id值理解为那块内存的地址标识。</p>
<ul>
<li><code>int类型为不可变类型</code> </li>
<li><code>列表为可变类型</code><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#### 1. int类型</span></span><br><span class="line">a = <span class="number">1</span></span><br><span class="line">b = a</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(b)  <span class="comment"># 1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(a))  <span class="comment"># 140708464157520</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(b))  <span class="comment"># 140708464157520</span></span><br><span class="line"></span><br><span class="line">a = <span class="number">2</span></span><br><span class="line"><span class="built_in">print</span>(b)  <span class="comment"># 1,说明int类型为不可变类型 </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(a))  <span class="comment"># 140708464157552，此时得到是的数据2的内存地址</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(b))  <span class="comment"># 140708464157520</span></span><br><span class="line"><span class="comment">#### 2. 列表</span></span><br><span class="line">aa = [<span class="number">10</span>, <span class="number">20</span>]</span><br><span class="line">bb = aa</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(aa))  <span class="comment"># 2325297783432</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(bb))  <span class="comment"># 2325297783432</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">aa.append(<span class="number">30</span>)</span><br><span class="line"><span class="built_in">print</span>(bb)  <span class="comment"># [10, 20, 30], 列表为可变类型</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(aa))  <span class="comment"># 2325297783432</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(bb))  <span class="comment"># 2325297783432</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="引用当做实参"><a href="#引用当做实参" class="headerlink" title="引用当做实参"></a>引用当做实参</h5><p>代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test1</span>(<span class="params">a</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(a)</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">id</span>(a))</span><br><span class="line">    a += a</span><br><span class="line">    <span class="built_in">print</span>(a)</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">id</span>(a))</span><br><span class="line"><span class="comment"># int：计算前后id值不同</span></span><br><span class="line">b = <span class="number">100</span></span><br><span class="line">test1(b)</span><br><span class="line"><span class="comment"># 列表：计算前后id值相同</span></span><br><span class="line">c = [<span class="number">11</span>, <span class="number">22</span>]</span><br><span class="line">test1(c)</span><br></pre></td></tr></table></figure>
<h4 id="可变和不可变类型"><a href="#可变和不可变类型" class="headerlink" title="可变和不可变类型"></a>可变和不可变类型</h4><p>所谓可变类型与不可变类型是指：数据能够直接进行修改，如果能直接修改那么就是可变，否则是不可变.</p>
<table>
<thead>
<tr>
<th>–</th>
<th>–</th>
</tr>
</thead>
<tbody><tr>
<td>可变类型</td>
<td>- <code>列表</code> - <code>字典</code>- <code>集合</code></td>
</tr>
<tr>
<td>不可变类型</td>
<td>- <code>整型</code>- <code>浮点型</code> - <code>字符串</code>- <code>元组</code></td>
</tr>
</tbody></table>
<h4 id="应用：学员管理系统"><a href="#应用：学员管理系统" class="headerlink" title="应用：学员管理系统"></a>应用：学员管理系统</h4><h5 id="系统简介"><a href="#系统简介" class="headerlink" title="系统简介"></a>系统简介</h5><p>需求：进入系统显示系统功能界面，功能如下：</p>
<ul>
<li>1、添加学员</li>
<li>2、删除学员</li>
<li>3、修改学员信息</li>
<li>4、查询学员信息</li>
<li>5、显示所有学员信息</li>
<li>6、退出系统<br>系统共6个功能，用户根据自己需求选取。</li>
</ul>
<h5 id="步骤分析"><a href="#步骤分析" class="headerlink" title="步骤分析"></a>步骤分析</h5><ol>
<li>显示功能界面</li>
<li>用户输入功能序号</li>
<li>根据用户输入的功能序号，执行不同的功能(函数)<br>3.1 定义函数<br>3.2 调用函数</li>
</ol>
<h5 id="需求实现"><a href="#需求实现" class="headerlink" title="需求实现"></a>需求实现</h5><h6 id="显示功能界面"><a href="#显示功能界面" class="headerlink" title="显示功能界面"></a>显示功能界面</h6><p>定义函数<code>print_info</code>，负责显示系统功能。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_info</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span> * <span class="number">20</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;欢迎登录学员管理系统&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;1: 添加学员&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;2: 删除学员&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;3: 修改学员信息&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;4: 查询学员信息&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;5: 显示所有学员信息&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;6: 退出系统&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span> * <span class="number">20</span>)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">print_info()</span><br></pre></td></tr></table></figure>
<h6 id="用户输入序号，选择功能"><a href="#用户输入序号，选择功能" class="headerlink" title="用户输入序号，选择功能"></a>用户输入序号，选择功能</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user_num = <span class="built_in">input</span>(<span class="string">&#x27;请选择您需要的功能序号：&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h6 id="根据用户选择，执行不同的功能"><a href="#根据用户选择，执行不同的功能" class="headerlink" title="根据用户选择，执行不同的功能"></a>根据用户选择，执行不同的功能</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> user_num == <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;添加学员&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> user_num == <span class="string">&#x27;2&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;删除学员&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> user_num == <span class="string">&#x27;3&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;修改学员信息&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> user_num == <span class="string">&#x27;4&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;查询学员信息&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> user_num == <span class="string">&#x27;5&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;显示所有学员信息&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> user_num == <span class="string">&#x27;6&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;退出系统&#x27;</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>工作中，需要根据实际需求调优代码。</p>
<ol>
<li>用户选择系统功能的代码需要循环使用，直到用户主动退出系统。</li>
<li>如果用户输入1-6以外的数字，需要提示用户。</li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="comment"># 1. 显示功能界面</span></span><br><span class="line">    print_info()</span><br><span class="line">    <span class="comment"># 2. 用户选择功能</span></span><br><span class="line">    user_num = <span class="built_in">input</span>(<span class="string">&#x27;请选择您需要的功能序号：&#x27;</span>)</span><br><span class="line">    <span class="comment"># 3. 根据用户选择，执行不同的功能</span></span><br><span class="line">    <span class="keyword">if</span> user_num == <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;添加学员&#x27;</span>)</span><br><span class="line">    <span class="keyword">elif</span> user_num == <span class="string">&#x27;2&#x27;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;删除学员&#x27;</span>)</span><br><span class="line">    <span class="keyword">elif</span> user_num == <span class="string">&#x27;3&#x27;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;修改学员信息&#x27;</span>)</span><br><span class="line">    <span class="keyword">elif</span> user_num == <span class="string">&#x27;4&#x27;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;查询学员信息&#x27;</span>)</span><br><span class="line">    <span class="keyword">elif</span> user_num == <span class="string">&#x27;5&#x27;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;显示所有学员信息&#x27;</span>)</span><br><span class="line">    <span class="keyword">elif</span> user_num == <span class="string">&#x27;6&#x27;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;退出系统&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;输入错误，请重新输入!!!&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h6 id="定义不同功能的函数"><a href="#定义不同功能的函数" class="headerlink" title="定义不同功能的函数"></a>定义不同功能的函数</h6><p>所有功能函数都是操作学员信息，所有存储所有学员信息应该是一个&#x3D;&#x3D;全局变量&#x3D;&#x3D;，数据类型为&#x3D;&#x3D;列表&#x3D;&#x3D;。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">info = []</span><br></pre></td></tr></table></figure>
<h6 id="添加学员"><a href="#添加学员" class="headerlink" title="添加学员"></a>添加学员</h6><ol>
<li>接收用户输入学员信息，并保存</li>
<li>判断是否添加学员信息<br>2.1 如果学员姓名已经存在，则报错提示<br>2.2 如果学员姓名不存在，则准备空字典，将用户输入的数据追加到字典，再列表追加字典数据</li>
<li>对应的if条件成立的位置调用该函数</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_info</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; 添加学员 &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 接收用户输入学员信息</span></span><br><span class="line">    new_id = <span class="built_in">input</span>(<span class="string">&#x27;请输入学号：&#x27;</span>)</span><br><span class="line">    new_name = <span class="built_in">input</span>(<span class="string">&#x27;请输入姓名：&#x27;</span>)</span><br><span class="line">    new_tel = <span class="built_in">input</span>(<span class="string">&#x27;请输入手机号：&#x27;</span>)</span><br><span class="line">    <span class="comment"># 声明info是全局变量</span></span><br><span class="line">    <span class="keyword">global</span> info</span><br><span class="line">    <span class="comment"># 检测用户输入的姓名是否存在，存在则报错提示</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> info:</span><br><span class="line">        <span class="keyword">if</span> new_name == i[<span class="string">&#x27;name&#x27;</span>]:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;该用户已经存在！&#x27;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">    <span class="comment"># 如果用户输入的姓名不存在，则添加该学员信息</span></span><br><span class="line">    info_dict = &#123;&#125;</span><br><span class="line">    <span class="comment"># 将用户输入的数据追加到字典</span></span><br><span class="line">    info_dict[<span class="string">&#x27;id&#x27;</span>] = new_id</span><br><span class="line">    info_dict[<span class="string">&#x27;name&#x27;</span>] = new_name</span><br><span class="line">    info_dict[<span class="string">&#x27;tel&#x27;</span>] = new_tel</span><br><span class="line">    <span class="comment"># 将这个学员的字典数据追加到列表</span></span><br><span class="line">    info.append(info_dict)</span><br><span class="line">    <span class="built_in">print</span>(info)</span><br></pre></td></tr></table></figure>
<h6 id="删除学员"><a href="#删除学员" class="headerlink" title="删除学员"></a>删除学员</h6><p>按用户输入的学员姓名进行删除</p>
<ol>
<li>用户输入目标学员姓名</li>
<li>检查这个学员是否存在<br>2.1 如果存在，则列表删除这个数据<br>2.2 如果不存在，则提示“该用户不存在”</li>
<li>对应的if条件成立的位置调用该函数<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#### 删除学员</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">del_info</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;删除学员&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 1. 用户输入要删除的学员的姓名</span></span><br><span class="line">    del_name = <span class="built_in">input</span>(<span class="string">&#x27;请输入要删除的学员的姓名：&#x27;</span>)</span><br><span class="line">    <span class="keyword">global</span> info</span><br><span class="line">    <span class="comment"># 2. 判断学员是否存在:如果输入的姓名存在则删除，否则报错提示</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> info:</span><br><span class="line">        <span class="keyword">if</span> del_name == i[<span class="string">&#x27;name&#x27;</span>]:</span><br><span class="line">            info.remove(i)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;该学员不存在&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(info)</span><br></pre></td></tr></table></figure></li>
</ol>
<h6 id="修改学员信息"><a href="#修改学员信息" class="headerlink" title="修改学员信息"></a>修改学员信息</h6><ol>
<li>用户输入目标学员姓名</li>
<li>检查这个学员是否存在<br>2.1 如果存在，则修改这位学员的信息，例如手机号<br>2.2 如果不存在，则报错</li>
<li>对应的if条件成立的位置调用该函数<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#### 修改函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">modify_info</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;修改函数&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 1. 用户输入要修改的学员的姓名</span></span><br><span class="line">    modify_name = <span class="built_in">input</span>(<span class="string">&#x27;请输入要修改的学员的姓名：&#x27;</span>)</span><br><span class="line">    <span class="keyword">global</span> info</span><br><span class="line">    <span class="comment"># 2. 判断学员是否存在：如果输入的姓名存在则修改手机号，否则报错提示</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> info:</span><br><span class="line">        <span class="keyword">if</span> modify_name == i [<span class="string">&#x27;name&#x27;</span>]:</span><br><span class="line">            i[<span class="string">&#x27;tel&#x27;</span>] = <span class="built_in">input</span>(<span class="string">&#x27;请输入新的手机号：&#x27;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;该学员不存在&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(info)</span><br></pre></td></tr></table></figure></li>
</ol>
<h6 id="查询学员信息"><a href="#查询学员信息" class="headerlink" title="查询学员信息"></a>查询学员信息</h6><ul>
<li>需求分析</li>
</ul>
<ol>
<li>用户输入目标学员姓名</li>
<li>检查学员是否存在<br>2.1 如果存在，则显示这个学员的信息<br>2.2 如果不存在，则报错提示</li>
<li>对应的if条件成立的位置调用该函数</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#### 查询学员</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">search_info</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;查询学员&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 1. 输入要查找的学员姓名：</span></span><br><span class="line">    search_name = <span class="built_in">input</span>(<span class="string">&#x27;请输入要查找的学员姓名：&#x27;</span>)</span><br><span class="line">    <span class="keyword">global</span> info</span><br><span class="line">    <span class="comment"># 2. 判断学员是否存在：如果输入的姓名存在则显示这位学员信息，否则报错提示</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> info:</span><br><span class="line">        <span class="keyword">if</span> search_name == i[<span class="string">&#x27;name&#x27;</span>]:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;查找到的学员信息如下：----------&#x27;</span>)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;该学员的学号是<span class="subst">&#123;i[<span class="string">&#x27;id&#x27;</span>]&#125;</span>, 姓名是<span class="subst">&#123;i[<span class="string">&#x27;name&#x27;</span>]&#125;</span>, 手机号是<span class="subst">&#123;i[<span class="string">&#x27;tel&#x27;</span>]&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;该学员不存在&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h6 id="显示所有学员信息"><a href="#显示所有学员信息" class="headerlink" title="显示所有学员信息"></a>显示所有学员信息</h6><ul>
<li>需求分析<br>打印所有学员信息<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#### 显示所有学员信息</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_all</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; 显示所有学员信息 &quot;&quot;&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;学号\t姓名\t手机号&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> info:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;i[<span class="string">&quot;id&quot;</span>]&#125;</span>\t<span class="subst">&#123;i[<span class="string">&quot;name&quot;</span>]&#125;</span>\t<span class="subst">&#123;i[<span class="string">&quot;tel&quot;</span>]&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h6 id="退出系统"><a href="#退出系统" class="headerlink" title="退出系统"></a>退出系统</h6><p>在用户输入功能序号<code>6</code>的时候要退出系统，代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line"><span class="keyword">elif</span> user_num == <span class="string">&#x27;6&#x27;</span>:</span><br><span class="line">    exit_flag = <span class="built_in">input</span>(<span class="string">&#x27;确定要退出吗？yes or no&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> exit_flag == <span class="string">&#x27;yes&#x27;</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<h4 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h4><h5 id="递归的应用场景"><a href="#递归的应用场景" class="headerlink" title="递归的应用场景"></a>递归的应用场景</h5><p>递归是一种编程思想，应用场景：</p>
<ol>
<li>在我们日常开发中，如果要遍历一个文件夹下面所有的文件，通常会使用递归来实现；</li>
<li>在后续的算法课程中，很多算法都离不开递归，例如：快速排序。</li>
</ol>
<h6 id="递归的特点"><a href="#递归的特点" class="headerlink" title="递归的特点"></a>递归的特点</h6><ul>
<li>函数内部自己调用自己</li>
<li>必须有出口</li>
</ul>
<h5 id="应用：3以内数字累加和"><a href="#应用：3以内数字累加和" class="headerlink" title="应用：3以内数字累加和"></a>应用：3以内数字累加和</h5><ul>
<li>代码<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#### 3 + 2 + 1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_numbers</span>(<span class="params">num</span>):</span></span><br><span class="line">    <span class="comment"># 1.如果是1，直接返回1 -- 出口</span></span><br><span class="line">    <span class="keyword">if</span> num == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="comment"># 2.如果不是1，重复执行累加并返回结果</span></span><br><span class="line">    <span class="keyword">return</span> num + sum_numbers(num-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sum_result = sum_numbers(<span class="number">3</span>)</span><br><span class="line"><span class="comment">#### 输出结果为6</span></span><br><span class="line"><span class="built_in">print</span>(sum_result)</span><br></pre></td></tr></table></figure></li>
<li>执行结果</li>
</ul>
<h4 id="lambda-表达式"><a href="#lambda-表达式" class="headerlink" title="lambda 表达式"></a>lambda 表达式</h4><h5 id="lambda的应用场景"><a href="#lambda的应用场景" class="headerlink" title="lambda的应用场景"></a>lambda的应用场景</h5><p>如果一个函数有一个返回值，并且只有一句代码，可以使用 lambda简化。</p>
<h5 id="lambda语法"><a href="#lambda语法" class="headerlink" title="lambda语法"></a>lambda语法</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">lambda</span> 参数列表 ： 表达式</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意</p>
</blockquote>
<ul>
<li>lambda表达式的参数可有可无，函数的参数在lambda表达式中完全适用。</li>
<li>lambda表达式能接收任何数量的参数但只能返回一个表达式的值。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#### 函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fn1</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">200</span></span><br><span class="line"><span class="built_in">print</span>(fn1)</span><br><span class="line"><span class="built_in">print</span>(fn1())</span><br><span class="line"><span class="comment">#### lambda表达式</span></span><br><span class="line">fn2 = <span class="keyword">lambda</span>: <span class="number">100</span></span><br><span class="line"><span class="built_in">print</span>(fn2)</span><br><span class="line"><span class="built_in">print</span>(fn2())</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：直接打印lambda表达式，输出的是此lambda的内存地址</p>
</blockquote>
</li>
</ul>
<h5 id="示例：计算a-b"><a href="#示例：计算a-b" class="headerlink" title="示例：计算a + b"></a>示例：计算a + b</h5><h6 id="函数实现"><a href="#函数实现" class="headerlink" title="函数实现"></a>函数实现</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">result = add(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>思考：需求简单，是否代码多？</p>
</blockquote>
<h6 id="lambda实现"><a href="#lambda实现" class="headerlink" title="lambda实现"></a>lambda实现</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fn1 = <span class="keyword">lambda</span> a, b: a + b</span><br><span class="line"><span class="built_in">print</span>(fn1(<span class="number">1</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<h5 id="lambda的参数形式"><a href="#lambda的参数形式" class="headerlink" title="lambda的参数形式"></a>lambda的参数形式</h5><h6 id="无参数"><a href="#无参数" class="headerlink" title=".无参数"></a>.无参数</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fn1 = <span class="keyword">lambda</span>: <span class="number">100</span></span><br><span class="line"><span class="built_in">print</span>(fn1())</span><br></pre></td></tr></table></figure>
<h6 id="一个参数"><a href="#一个参数" class="headerlink" title="一个参数"></a>一个参数</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fn1 = <span class="keyword">lambda</span> a: a</span><br><span class="line"><span class="built_in">print</span>(fn1(<span class="string">&#x27;hello world&#x27;</span>))</span><br></pre></td></tr></table></figure>
<h6 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fn1 = <span class="keyword">lambda</span> a, b, c=<span class="number">100</span>: a + b + c</span><br><span class="line"><span class="built_in">print</span>(fn1(<span class="number">10</span>, <span class="number">20</span>))</span><br></pre></td></tr></table></figure>
<h6 id="可变参数：-args"><a href="#可变参数：-args" class="headerlink" title="可变参数：*args"></a>可变参数：*args</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fn1 = <span class="keyword">lambda</span> *args: args</span><br><span class="line"><span class="built_in">print</span>(fn1(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>))</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：这里的可变参数传入到lambda之后，返回值为元组。</p>
</blockquote>
<h6 id="可变参数：-kwargs"><a href="#可变参数：-kwargs" class="headerlink" title="可变参数：**kwargs"></a>可变参数：**kwargs</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fn1 = <span class="keyword">lambda</span> **kwargs: kwargs</span><br><span class="line"><span class="built_in">print</span>(fn1(name=<span class="string">&#x27;python&#x27;</span>, age=<span class="number">20</span>))</span><br></pre></td></tr></table></figure>
<h5 id="lambda的应用"><a href="#lambda的应用" class="headerlink" title="lambda的应用"></a>lambda的应用</h5><h6 id="带判断的lambda"><a href="#带判断的lambda" class="headerlink" title="带判断的lambda"></a>带判断的lambda</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fn1 = <span class="keyword">lambda</span> a, b: a <span class="keyword">if</span> a &gt; b <span class="keyword">else</span> b</span><br><span class="line"><span class="built_in">print</span>(fn1(<span class="number">1000</span>, <span class="number">500</span>))</span><br></pre></td></tr></table></figure>
<h6 id="列表数据按字典key的值排序"><a href="#列表数据按字典key的值排序" class="headerlink" title="列表数据按字典key的值排序"></a>列表数据按字典key的值排序</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">students = [</span><br><span class="line">    &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;TOM&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;ROSE&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">19</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Jack&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">22</span>&#125;</span><br><span class="line">]</span><br><span class="line"><span class="comment">#### 按name值升序排列</span></span><br><span class="line">students.sort(key=<span class="keyword">lambda</span> x: x[<span class="string">&#x27;name&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(students)</span><br><span class="line"><span class="comment">#### 按name值降序排列</span></span><br><span class="line">students.sort(key=<span class="keyword">lambda</span> x: x[<span class="string">&#x27;name&#x27;</span>], reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(students)</span><br><span class="line"><span class="comment">#### 按age值升序排列</span></span><br><span class="line">students.sort(key=<span class="keyword">lambda</span> x: x[<span class="string">&#x27;age&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(students)</span><br></pre></td></tr></table></figure>
<h4 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h4><p>&#x3D;&#x3D;把函数作为参数传入&#x3D;&#x3D;，这样的函数称为高阶函数，高阶函数是函数式编程的体现。函数式编程就是指这种高度抽象的编程范式。</p>
<h5 id="体验高阶函数"><a href="#体验高阶函数" class="headerlink" title="体验高阶函数"></a>体验高阶函数</h5><p>在Python中，<code>abs()</code>函数可以完成对数字求绝对值计算。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">abs</span>(-<span class="number">10</span>)  <span class="comment"># 10</span></span><br></pre></td></tr></table></figure>
<p><code>round()</code>函数可以完成对数字的四舍五入计算。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">round</span>(<span class="number">1.2</span>)  <span class="comment"># 1</span></span><br><span class="line"><span class="built_in">round</span>(<span class="number">1.9</span>)  <span class="comment"># 2</span></span><br></pre></td></tr></table></figure>

<p>需求：任意两个数字，按照指定要求整理数字后再进行求和计算。</p>
<ul>
<li>方法1<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_num</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">abs</span>(a) + <span class="built_in">abs</span>(b)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">result = add_num(-<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 3</span></span><br></pre></td></tr></table></figure></li>
<li><code>方法2</code><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_num</span>(<span class="params">a, b, f</span>):</span></span><br><span class="line">    <span class="keyword">return</span> f(a) + f(b)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">result = sum_num(-<span class="number">1</span>, <span class="number">2</span>, <span class="built_in">abs</span>)</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 3</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：两种方法对比之后，发现，方法2的代码会更加简洁，函数灵活性更高。</p>
</blockquote>
</li>
</ul>
<p>函数式编程大量使用函数，减少了代码的重复，因此程序比较短，开发速度较快。</p>
<h5 id="内置高阶函数"><a href="#内置高阶函数" class="headerlink" title="内置高阶函数"></a>内置高阶函数</h5><h6 id="map"><a href="#map" class="headerlink" title="map()"></a>map()</h6><p>map(func, lst)，将传入的函数变量func作用到lst变量的每个元素中，并将结果组成新的列表(Python2)&#x2F;迭代器(Python3)返回。</p>
<p>需求：计算<code>list1</code>序列中各个数字的2次方。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x ** <span class="number">2</span></span><br><span class="line">result = <span class="built_in">map</span>(func, list1)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># &lt;map object at 0x0000013769653198&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(result))  <span class="comment"># [1, 4, 9, 16, 25]</span></span><br></pre></td></tr></table></figure>
<h6 id="reduce"><a href="#reduce" class="headerlink" title="reduce()"></a>reduce()</h6><p>reduce(func，lst)，其中func必须有两个参数。每次func计算的结果继续和序列的下一个元素做累积计算。</p>
<blockquote>
<p>注意：reduce()传入的参数func必须接收2个参数。</p>
</blockquote>
<p>需求：计算<code>list1</code>序列中各个数字的累加和。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> functools</span><br><span class="line"></span><br><span class="line">list1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">result = functools.reduce(func, list1)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 15</span></span><br></pre></td></tr></table></figure>
<h6 id="filter"><a href="#filter" class="headerlink" title="filter()"></a>filter()</h6><p>filter(func, lst)函数用于过滤序列, 过滤掉不符合条件的元素, 返回一个 filter 对象。如果要转换为列表, 可以使用 list() 来转换。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x % <span class="number">2</span> == <span class="number">0</span></span><br><span class="line">result = <span class="built_in">filter</span>(func, list1)</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># &lt;filter object at 0x0000017AF9DC3198&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(result))  <span class="comment"># [2, 4, 6, 8, 10]</span></span><br></pre></td></tr></table></figure>
<h3 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h3><h4 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h4><h4 id="文件操作的作用"><a href="#文件操作的作用" class="headerlink" title="文件操作的作用"></a>文件操作的作用</h4><p>思考：什么是文件？思考：文件操作包含什么？<br>答：打开、关闭、读、写、复制….<br>思考：文件操作的的作用是什么？<br>答：读取内容、写入内容、备份内容……</p>
<blockquote>
<p>总结：文件操作的作用就是&#x3D;&#x3D;把一些内容(数据)存储存放起来，可以让程序下一次执行的时候直接使用，而不必重新制作一份，省时省力&#x3D;&#x3D;。</p>
</blockquote>
<h4 id="文件的基本操作"><a href="#文件的基本操作" class="headerlink" title="文件的基本操作"></a>文件的基本操作</h4><h4 id="文件操作步骤"><a href="#文件操作步骤" class="headerlink" title="文件操作步骤"></a>文件操作步骤</h4><ol>
<li>打开文件</li>
<li>读写等操作</li>
<li>关闭文件<blockquote>
<p>注意：可以只打开和关闭文件，不进行任何读写操作。</p>
</blockquote>
</li>
</ol>
<h5 id="2-1-1-打开"><a href="#2-1-1-打开" class="headerlink" title="2.1.1  打开"></a>2.1.1  打开</h5><p>在python，使用open函数，可以打开一个已经存在的文件，或者创建一个新文件，语法如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">open</span>(name, mode)</span><br></pre></td></tr></table></figure>
<ul>
<li>name：是要打开的目标文件名的字符串(可以包含文件所在的具体路径)。<br> mode：设置打开文件的模式(访问模式)：只读、写入、追加等。</li>
</ul>
<h6 id="打开文件模式"><a href="#打开文件模式" class="headerlink" title="打开文件模式"></a>打开文件模式</h6><table>
<thead>
<tr>
<th>模式</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td>r</td>
<td align="left">以只读方式打开文件。文件的指针将会放在文件的开头。这是默认模式。</td>
</tr>
<tr>
<td>rb</td>
<td align="left">以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。这是默认模式。</td>
</tr>
<tr>
<td>r+</td>
<td align="left">打开一个文件用于读写。文件指针将会放在文件的开头。</td>
</tr>
<tr>
<td>rb+</td>
<td align="left">以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头。</td>
</tr>
<tr>
<td>w</td>
<td align="left">打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td>wb</td>
<td align="left">以二进制格式打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td>w+</td>
<td align="left">打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td>wb+</td>
<td align="left">以二进制格式打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td>a</td>
<td align="left">打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</td>
</tr>
<tr>
<td>ab</td>
<td align="left">以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</td>
</tr>
<tr>
<td>a+</td>
<td align="left">打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。</td>
</tr>
<tr>
<td>ab+</td>
<td align="left">以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。如果该文件不存在，创建新文件用于读写。</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：此时的<code>f</code>是<code>open</code>函数的文件对象。</p>
</blockquote>
<h5 id="文件对象方法"><a href="#文件对象方法" class="headerlink" title="文件对象方法"></a>文件对象方法</h5><h6 id="写"><a href="#写" class="headerlink" title="写"></a>写</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象.write(<span class="string">&#x27;内容&#x27;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#### 1. 打开文件</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line"><span class="comment">#### 2.文件写入</span></span><br><span class="line">f.write(<span class="string">&#x27;hello world&#x27;</span>)</span><br><span class="line"><span class="comment">#### 3. 关闭文件</span></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：</p>
<ol>
<li><code>w	</code>和<code>a</code>模式：如果文件不存在则创建该文件；如果文件存在，<code>w</code>模式先清空再写入，<code>a</code>模式直接末尾追加。</li>
<li><code>r</code>模式：如果文件不存在则报错。</li>
</ol>
</blockquote>
<h6 id="读"><a href="#读" class="headerlink" title="读"></a>读</h6><ul>
<li>read()<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">文件对象.read(num)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>num表示要从文件中读取的数据的长度(单位是字节)，如果没有传入num，那么就表示读取文件中所有的数据。</p>
</blockquote>
</li>
<li>readlines():readlines可以按照行的方式把整个文件中的内容进行一次性读取，并且返回的是一个列表，其中每一行的数据为一个元素。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>)</span><br><span class="line">content = f.readlines()</span><br><span class="line"><span class="comment">#### [&#x27;hello world\n&#x27;, &#x27;abcdefg\n&#x27;, &#x27;aaa\n&#x27;, &#x27;bbb\n&#x27;, &#x27;ccc&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(content)</span><br><span class="line"><span class="comment">#### 关闭文件</span></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure></li>
<li>readline():readline()一次读取一行内容。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>)</span><br><span class="line">content = f.readline()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;第一行：<span class="subst">&#123;content&#125;</span>&#x27;</span>)</span><br><span class="line">content = f.readline()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;第二行：<span class="subst">&#123;content&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="comment">#### 关闭文件</span></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="seek"><a href="#seek" class="headerlink" title="seek()"></a>seek()</h5><p>作用：用来移动文件指针。语法如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">文件对象.seek(偏移量, 起始位置)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>起始位置：</p>
<ul>
<li>0：文件开头</li>
<li>1：当前位置</li>
<li>2：文件结尾</li>
</ul>
</blockquote>
<h5 id="关闭"><a href="#关闭" class="headerlink" title="关闭"></a>关闭</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">文件对象.close()</span><br></pre></td></tr></table></figure>
<h4 id="文件备份"><a href="#文件备份" class="headerlink" title="文件备份"></a>文件备份</h4><p>需求：用户输入当前目录下任意文件名，程序完成对该文件的备份功能(备份文件名为xx[备份]后缀，例如：test[备份].txt)。</p>
<h5 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h5><ol>
<li>接收用户输入的文件名</li>
<li>规划备份文件名</li>
<li>备份文件写入数据</li>
</ol>
<h5 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h5><ol>
<li>接收用户输入目标文件名<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">old_name = <span class="built_in">input</span>(<span class="string">&#x27;请输入您要备份的文件名：&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li>规划备份文件名<br>2.1 提取目标文件后缀<br>2.2 组织备份的文件名，xx[备份]后缀<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 2.1 提取文件后缀点的下标</span></span><br><span class="line">index = old_name.rfind(<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line"><span class="comment"># print(index)  # 后缀中.的下标</span></span><br><span class="line"><span class="comment"># print(old_name[:index])  # 源文件名(无后缀)</span></span><br><span class="line"><span class="comment">## 2.2 组织新文件名 旧文件名 + [备份] + 后缀</span></span><br><span class="line">new_name = old_name[:index] + <span class="string">&#x27;[备份]&#x27;</span> + old_name[index:]</span><br><span class="line"><span class="comment"># 打印新文件名(带后缀)</span></span><br><span class="line"><span class="comment"># print(new_name)</span></span><br></pre></td></tr></table></figure></li>
<li>备份文件写入数据<br>3.1 打开源文件 和 备份文件<br>3.2 将源文件数据写入备份文件<br>3.3 关闭文件<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#### 3.1 打开文件</span></span><br><span class="line">old_f = <span class="built_in">open</span>(old_name, <span class="string">&#x27;rb&#x27;</span>)</span><br><span class="line">new_f = <span class="built_in">open</span>(new_name, <span class="string">&#x27;wb&#x27;</span>)</span><br><span class="line"><span class="comment">#### 3.2 将源文件数据写入备份文件</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    con = old_f.read(<span class="number">1024</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(con) == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    new_f.write(con)</span><br><span class="line"><span class="comment">#### 3.3 关闭文件</span></span><br><span class="line">old_f.close()</span><br><span class="line">new_f.close()</span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h5><p>如果用户输入<code>.txt</code>，这是一个无效文件，程序如何更改才能限制只有有效的文件名才能备份？</p>
<p>答：添加条件判断即可。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">old_name = <span class="built_in">input</span>(<span class="string">&#x27;请输入您要备份的文件名：&#x27;</span>)</span><br><span class="line">index = old_name.rfind(<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> index &gt; <span class="number">0</span>:</span><br><span class="line">    postfix = old_name[index:]</span><br><span class="line">new_name = old_name[:index] + <span class="string">&#x27;[备份]&#x27;</span> + postfix</span><br><span class="line">old_f = <span class="built_in">open</span>(old_name, <span class="string">&#x27;rb&#x27;</span>)</span><br><span class="line">new_f = <span class="built_in">open</span>(new_name, <span class="string">&#x27;wb&#x27;</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    con = old_f.read(<span class="number">1024</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(con) == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    new_f.write(con)</span><br><span class="line"></span><br><span class="line">old_f.close()</span><br><span class="line">new_f.close()</span><br></pre></td></tr></table></figure>
<h4 id="文件和文件夹的操作"><a href="#文件和文件夹的操作" class="headerlink" title="文件和文件夹的操作"></a>文件和文件夹的操作</h4><p>在Python中文件和文件夹的操作要借助os模块里面的相关功能，具体步骤如下：</p>
<ol>
<li>导入os模块<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br></pre></td></tr></table></figure></li>
<li>使用<code>os</code>模块相关功能<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.函数名()</span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="文件重命名"><a href="#文件重命名" class="headerlink" title="文件重命名"></a>文件重命名</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.rename(目标文件名, 新文件名)</span><br></pre></td></tr></table></figure>
<h5 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.remove(目标文件名)</span><br></pre></td></tr></table></figure>
<h5 id="创建文件夹"><a href="#创建文件夹" class="headerlink" title="创建文件夹"></a>创建文件夹</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.mkdir(文件夹名字)</span><br></pre></td></tr></table></figure>
<h5 id="删除文件夹"><a href="#删除文件夹" class="headerlink" title="删除文件夹"></a>删除文件夹</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.rmdir(文件夹名字)</span><br></pre></td></tr></table></figure>
<h5 id="获取当前目录"><a href="#获取当前目录" class="headerlink" title="获取当前目录"></a>获取当前目录</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.getcwd()</span><br></pre></td></tr></table></figure>
<h5 id="改变默认目录"><a href="#改变默认目录" class="headerlink" title="改变默认目录"></a>改变默认目录</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.chdir(目录)</span><br></pre></td></tr></table></figure>
<h5 id="获取目录列表"><a href="#获取目录列表" class="headerlink" title="获取目录列表"></a>获取目录列表</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.listdir(目录)</span><br></pre></td></tr></table></figure>
<h4 id="应用案例"><a href="#应用案例" class="headerlink" title="应用案例"></a>应用案例</h4><p>需求：批量修改文件名，既可添加指定字符串，又能删除指定字符串。</p>
<ul>
<li>步骤</li>
</ul>
<ol>
<li>设置添加删除字符串的的标识</li>
<li>获取指定目录的所有文件</li>
<li>将原有文件名添加&#x2F;删除指定字符串，构造新名字</li>
<li>os.rename()重命名</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment">#### 设置重命名标识：如果为1则添加指定字符，flag取值为2则删除指定字符</span></span><br><span class="line">flag = <span class="number">1</span></span><br><span class="line"><span class="comment">#### 获取指定目录</span></span><br><span class="line">dir_name = <span class="string">&#x27;./&#x27;</span></span><br><span class="line"><span class="comment">#### 获取指定目录的文件列表</span></span><br><span class="line">file_list = os.listdir(dir_name)</span><br><span class="line"><span class="comment">#### print(file_list)</span></span><br><span class="line"><span class="comment">#### 遍历文件列表内的文件</span></span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> file_list:</span><br><span class="line">    <span class="comment"># 添加指定字符</span></span><br><span class="line">    <span class="keyword">if</span> flag == <span class="number">1</span>:</span><br><span class="line">        new_name = <span class="string">&#x27;Python-&#x27;</span> + name</span><br><span class="line">    <span class="comment"># 删除指定字符</span></span><br><span class="line">    <span class="keyword">elif</span> flag == <span class="number">2</span>:</span><br><span class="line">        num = <span class="built_in">len</span>(<span class="string">&#x27;Python-&#x27;</span>)</span><br><span class="line">        new_name = name[num:]</span><br><span class="line">    <span class="comment"># 打印新文件名，测试程序正确性</span></span><br><span class="line">    <span class="built_in">print</span>(new_name)</span><br><span class="line">    <span class="comment"># 重命名</span></span><br><span class="line">    os.rename(dir_name+name, dir_name+new_name)</span><br></pre></td></tr></table></figure>
<h3 id="面向对象基础"><a href="#面向对象基础" class="headerlink" title="面向对象基础"></a>面向对象基础</h3><h4 id="理解面向对象"><a href="#理解面向对象" class="headerlink" title="理解面向对象"></a>理解面向对象</h4><p>面向对象是一种抽象化的编程思想，很多编程语言中都有的一种思想。</p>
<blockquote>
<p>例如：洗衣服<br>思考：几种途径可以完成洗衣服？<br>答： 手洗 和 机洗。<br>手洗：找盆 - 放水 - 加洗衣粉 - 浸泡 - 搓洗 - 拧干水 - 倒水 - 漂洗N次 - 拧干 - 晾晒。<br>机洗：打开洗衣机 - 放衣服 - 加洗衣粉 - 按下开始按钮 - 晾晒。<br>思考：对比两种洗衣服途径，同学们发现了什么？<br>答：机洗更简单<br>思考：机洗，只需要找到一台洗衣机，加入简单操作就可以完成洗衣服的工作，而不需要关心洗衣机内部发生了什么事情。</p>
</blockquote>
<blockquote>
<p>总结：&#x3D;&#x3D;面向对象就是将编程当成是一个事物，对外界来说，事物是直接使用的，不用去管他内部的情况。而编程就是设置事物能够做什么事。&#x3D;&#x3D;</p>
</blockquote>
<h4 id="类和对象"><a href="#类和对象" class="headerlink" title="类和对象"></a>类和对象</h4><blockquote>
<p>思考：洗衣机洗衣服描述过程中，洗衣机其实就是一个事物，即对象，洗衣机对象哪来的呢？<br>答：洗衣机是由工厂工人制作出来。<br>思考：工厂工人怎么制作出的洗衣机？<br>答：工人根据设计师设计的功能图纸制作洗衣机。<br>总结：图纸  → 洗衣机 → 洗衣服。<br>在面向对象编程过程中，有两个重要组成部分：&#x3D;&#x3D;类&#x3D;&#x3D; 和 &#x3D;&#x3D;对象&#x3D;&#x3D;。<br>&#x3D;&#x3D;类和对象的关系：用类去创建一个对象。&#x3D;&#x3D;</p>
</blockquote>
<h4 id="理解类和对象"><a href="#理解类和对象" class="headerlink" title="理解类和对象"></a>理解类和对象</h4><h5 id="类"><a href="#类" class="headerlink" title="类"></a>类</h5><p>类是对一系列具有相同&#x3D;&#x3D;特征&#x3D;&#x3D;和&#x3D;&#x3D;行为&#x3D;&#x3D;的事物的统称，是一个&#x3D;&#x3D;抽象的概念&#x3D;&#x3D;，不是真实存在的事物。</p>
<ul>
<li>特征即是属性</li>
<li>行为即是方法<br>类比如是制造洗衣机时要用到的图纸，也就是说&#x3D;&#x3D;类是用来创建对象&#x3D;&#x3D;。</li>
</ul>
<h5 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h5><p>对象是类创建出来的真实存在的事物，例如：洗衣机。</p>
<blockquote>
<p>注意：开发中，先有类，再有对象。</p>
</blockquote>
<h5 id="面向对象实现方法"><a href="#面向对象实现方法" class="headerlink" title="面向对象实现方法"></a>面向对象实现方法</h5><h6 id="定义类"><a href="#定义类" class="headerlink" title="定义类"></a>定义类</h6><p>Python2中类分为：<code>经典类</code> 和 <code>新式类</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> 类名():</span></span><br><span class="line">    代码</span><br><span class="line">    ......</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：类名要满足标识符命名规则，同时遵循&#x3D;&#x3D;大驼峰命名习惯&#x3D;&#x3D;。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Washer</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wash</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;我会洗衣服&#x27;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>拓展：经典类</li>
</ul>
<p>不由任意内置类型派生出的类，称之为经典类</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> 类名:</span></span><br><span class="line">    代码</span><br><span class="line">    ......</span><br></pre></td></tr></table></figure>
<h6 id="创建对象-对象又名实例。"><a href="#创建对象-对象又名实例。" class="headerlink" title="创建对象:对象又名实例。"></a>创建对象:对象又名实例。</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象名 = 类名()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建对象</span></span><br><span class="line">haier1 = Washer()</span><br><span class="line"><span class="comment"># &lt;__main__.Washer object at 0x0000018B7B224240&gt;</span></span><br><span class="line"><span class="built_in">print</span>(haier1)</span><br><span class="line"><span class="comment"># haier对象调用实例方法</span></span><br><span class="line">haier1.wash()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：创建对象的过程也叫实例化对象。</p>
</blockquote>
<h6 id="self-self指的是调用该函数的对象。"><a href="#self-self指的是调用该函数的对象。" class="headerlink" title="self:self指的是调用该函数的对象。"></a>self:<code>self指的是调用该函数的对象。</code></h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 定义类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Washer</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wash</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;我会洗衣服&#x27;</span>)</span><br><span class="line">        <span class="comment"># &lt;__main__.Washer object at 0x0000024BA2B34240&gt;</span></span><br><span class="line">        <span class="built_in">print</span>(self)</span><br><span class="line"><span class="comment"># 2. 创建对象</span></span><br><span class="line">haier1 = Washer()</span><br><span class="line"><span class="comment"># &lt;__main__.Washer object at 0x0000018B7B224240&gt;</span></span><br><span class="line"><span class="built_in">print</span>(haier1)</span><br><span class="line"><span class="comment"># haier1对象调用实例方法</span></span><br><span class="line">haier1.wash()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">haier2 = Washer()</span><br><span class="line"><span class="comment"># &lt;__main__.Washer object at 0x0000022005857EF0&gt;</span></span><br><span class="line"><span class="built_in">print</span>(haier2)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：打印对象和self得到的结果是一致的，都是当前对象的内存中存储地址。</p>
</blockquote>
<h4 id="添加和获取对象属性"><a href="#添加和获取对象属性" class="headerlink" title="添加和获取对象属性"></a>添加和获取对象属性</h4><p>属性即是特征，比如：洗衣机的宽度、高度、重量…对象属性既可以在类外面添加和获取，也能在类里面添加和获取。</p>
<h6 id="类外面添加对象属性"><a href="#类外面添加对象属性" class="headerlink" title="类外面添加对象属性"></a>类外面添加对象属性</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象名.属性名 = 值</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">haier1.width = <span class="number">500</span></span><br><span class="line">haier1.height = <span class="number">800</span></span><br></pre></td></tr></table></figure>
<h6 id="类外面获取对象属性"><a href="#类外面获取对象属性" class="headerlink" title="类外面获取对象属性"></a>类外面获取对象属性</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象名.属性名</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;haier1洗衣机的宽度是<span class="subst">&#123;haier1.width&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;haier1洗衣机的高度是<span class="subst">&#123;haier1.height&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h6 id="类里面获取对象属性"><a href="#类里面获取对象属性" class="headerlink" title="类里面获取对象属性"></a>类里面获取对象属性</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.属性名</span><br></pre></td></tr></table></figure>
<ul>
<li>体验<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Washer</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_info</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># 类里面获取实例属性</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;haier1洗衣机的宽度是<span class="subst">&#123;self.width&#125;</span>&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;haier1洗衣机的高度是<span class="subst">&#123;self.height&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="comment"># 创建对象</span></span><br><span class="line">haier1 = Washer()</span><br><span class="line"><span class="comment"># 添加实例属性</span></span><br><span class="line">haier1.width = <span class="number">500</span></span><br><span class="line">haier1.height = <span class="number">800</span></span><br><span class="line">haier1.print_info()</span><br><span class="line"><span class="comment">#haier1洗衣机的宽度是&#123;500&#125;</span></span><br><span class="line"><span class="comment">#haier1洗衣机的高度是&#123;800&#125;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="魔法方法"><a href="#魔法方法" class="headerlink" title="魔法方法"></a>魔法方法</h4><p>在Python中，<code>__xx__()</code>的函数叫做魔法方法，指的是具有特殊功能的函数。</p>
<h6 id="init"><a href="#init" class="headerlink" title="__init__()"></a><code>__init__()</code></h6><p>思考：洗衣机的宽度高度是与生俱来的属性，可不可以在生产过程中就赋予这些属性呢？<br>答：理应如此。<br>&#x3D;&#x3D;<code>__init__()</code>方法的作用：初始化对象。&#x3D;&#x3D;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Washer</span>():</span></span><br><span class="line">    <span class="comment"># 定义初始化功能的函数</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># 添加实例属性</span></span><br><span class="line">        self.width = <span class="number">500</span></span><br><span class="line">        self.height = <span class="number">800</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_info</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># 类里面调用实例属性</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;洗衣机的宽度是<span class="subst">&#123;self.width&#125;</span>, 高度是<span class="subst">&#123;self.height&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">haier1 = Washer()</span><br><span class="line">haier1.print_info()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：</p>
<ul>
<li><code>__init__()</code>方法，在创建一个对象时默认被调用，不需要手动调用</li>
<li><code>__init__(self)</code>中的self参数，不需要开发者传递，python解释器会自动把当前的对象引用传递过去。</li>
</ul>
</blockquote>
<h6 id="带参数的-init"><a href="#带参数的-init" class="headerlink" title="带参数的__init__()"></a>带参数的<code>__init__()</code></h6><p>思考：一个类可以创建多个对象，如何对不同的对象设置不同的初始化属性呢？答：传参数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Washer</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, width, height</span>):</span></span><br><span class="line">        self.width = width</span><br><span class="line">        self.height = height</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_info</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;洗衣机的宽度是<span class="subst">&#123;self.width&#125;</span>&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;洗衣机的高度是<span class="subst">&#123;self.height&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">haier1 = Washer(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">haier1.print_info()</span><br><span class="line">haier2 = Washer(<span class="number">30</span>, <span class="number">40</span>)</span><br><span class="line">haier2.print_info()</span><br></pre></td></tr></table></figure>
<h6 id="str"><a href="#str" class="headerlink" title="__str__()"></a><code>__str__()</code></h6><p>当使用print输出对象的时候，默认打印对象的内存地址。如果类定义了<code>__str__</code>方法，那么就会打印从在这个方法中 return 的数据。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Washer</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, width, height</span>):</span></span><br><span class="line">        self.width = width</span><br><span class="line">        self.height = height</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;这是海尔洗衣机的说明书&#x27;</span></span><br><span class="line">haier1 = Washer(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line"><span class="comment"># 这是海尔洗衣机的说明书</span></span><br><span class="line"><span class="built_in">print</span>(haier1)</span><br></pre></td></tr></table></figure>
<h6 id="del-1"><a href="#del-1" class="headerlink" title="__del__()"></a><code>__del__()</code></h6><p>当删除对象时，python解释器也会默认调用<code>__del__()</code>方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Washer</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, width, height</span>):</span></span><br><span class="line">        self.width = width</span><br><span class="line">        self.height = height</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__del__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;self&#125;</span>对象已经被删除&#x27;</span>)</span><br><span class="line">haier1 = Washer(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line"><span class="comment"># &lt;__main__.Washer object at 0x0000026118223278&gt;对象已经被删除</span></span><br><span class="line"><span class="keyword">del</span> haier1</span><br></pre></td></tr></table></figure>
<h4 id="综合应用"><a href="#综合应用" class="headerlink" title="综合应用"></a>综合应用</h4><h5 id="烤地瓜"><a href="#烤地瓜" class="headerlink" title="烤地瓜"></a>烤地瓜</h5><p>需求主线：</p>
<ol>
<li>被烤的时间和对应的地瓜状态：<br>0-3分钟：生的<br>3-5分钟：半生不熟<br>5-8分钟：熟的<br>超过8分钟：烤糊了</li>
<li>添加的调料：<br>用户可以按自己的意愿添加调料</li>
</ol>
<h6 id="步骤分析-1"><a href="#步骤分析-1" class="headerlink" title="步骤分析"></a>步骤分析</h6><p>需求涉及一个事物： 地瓜，故案例涉及一个类：地瓜类。</p>
<h6 id="定义类-1"><a href="#定义类-1" class="headerlink" title="定义类"></a>定义类</h6><ul>
<li>地瓜的属性<ul>
<li>被烤的时间</li>
<li>地瓜的状态</li>
<li>添加的调料</li>
</ul>
</li>
<li>地瓜的方法<ul>
<li>被烤<ul>
<li>用户根据意愿设定每次烤地瓜的时间</li>
<li>判断地瓜被烤的总时间是在哪个区间，修改地瓜状态</li>
</ul>
</li>
<li>添加调料<ul>
<li>用户根据意愿设定添加的调料</li>
<li>将用户添加的调料存储</li>
</ul>
</li>
</ul>
</li>
<li>显示对象信息</li>
</ul>
<h4 id="5-1-2-2-创建对象，调用相关实例方法"><a href="#5-1-2-2-创建对象，调用相关实例方法" class="headerlink" title="5.1.2.2 创建对象，调用相关实例方法"></a>5.1.2.2 创建对象，调用相关实例方法</h4><h6 id="代码实现-1"><a href="#代码实现-1" class="headerlink" title="代码实现"></a>代码实现</h6><ul>
<li>地瓜属性<ul>
<li>定义地瓜初始化属性，后期根据程序推进更新实例属性<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SweetPotato</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># 被烤的时间</span></span><br><span class="line">        self.cook_time = <span class="number">0</span></span><br><span class="line">        <span class="comment"># 地瓜的状态</span></span><br><span class="line">        self.cook_static = <span class="string">&#x27;生的&#x27;</span></span><br><span class="line">        <span class="comment"># 调料列表</span></span><br><span class="line">        self.condiments = []</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<ul>
<li>定义烤地瓜方法<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SweetPotato</span>():</span></span><br><span class="line">    ......</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cook</span>(<span class="params">self, time</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;烤地瓜的方法&quot;&quot;&quot;</span></span><br><span class="line">        self.cook_time += time</span><br><span class="line">        <span class="keyword">if</span> <span class="number">0</span> &lt;= self.cook_time &lt; <span class="number">3</span>:</span><br><span class="line">            self.cook_static = <span class="string">&#x27;生的&#x27;</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="number">3</span> &lt;= self.cook_time &lt; <span class="number">5</span>:</span><br><span class="line">            self.cook_static = <span class="string">&#x27;半生不熟&#x27;</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="number">5</span> &lt;= self.cook_time &lt; <span class="number">8</span>:</span><br><span class="line">            self.cook_static = <span class="string">&#x27;熟了&#x27;</span></span><br><span class="line">        <span class="keyword">elif</span> self.cook_time &gt;= <span class="number">8</span>:</span><br><span class="line">            self.cook_static = <span class="string">&#x27;烤糊了&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li>书写str魔法方法，用于输出对象状态<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SweetPotato</span>():</span></span><br><span class="line">		......</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&#x27;这个地瓜烤了<span class="subst">&#123;self.cook_time&#125;</span>分钟, 状态是<span class="subst">&#123;self.cook_static&#125;</span>&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li>创建对象，测试实例属性和实例方法<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">digua1 = SweetPotato()</span><br><span class="line"><span class="built_in">print</span>(digua1)</span><br><span class="line">digua1.cook(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(digua1)</span><br></pre></td></tr></table></figure></li>
<li>定义添加调料方法，并调用该实例方法<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SweetPotato</span>():</span></span><br><span class="line">		......</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_condiments</span>(<span class="params">self, condiment</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;添加调料&quot;&quot;&quot;</span></span><br><span class="line">        self.condiments.append(condiment)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&#x27;这个地瓜烤了<span class="subst">&#123;self.cook_time&#125;</span>分钟, 状态是<span class="subst">&#123;self.cook_static&#125;</span>, 添加的调料有<span class="subst">&#123;self.condiments&#125;</span>&#x27;</span></span><br><span class="line">digua1 = SweetPotato()</span><br><span class="line"><span class="built_in">print</span>(digua1)</span><br><span class="line"></span><br><span class="line">digua1.cook(<span class="number">2</span>)</span><br><span class="line">digua1.add_condiments(<span class="string">&#x27;酱油&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(digua1)</span><br><span class="line"></span><br><span class="line">digua1.cook(<span class="number">2</span>)</span><br><span class="line">digua1.add_condiments(<span class="string">&#x27;辣椒面儿&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(digua1)</span><br><span class="line"></span><br><span class="line">digua1.cook(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(digua1)</span><br><span class="line"></span><br><span class="line">digua1.cook(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(digua1)</span><br></pre></td></tr></table></figure></li>
</ul>
<h6 id="代码总览"><a href="#代码总览" class="headerlink" title="代码总览"></a>代码总览</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SweetPotato</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># 被烤的时间</span></span><br><span class="line">        self.cook_time = <span class="number">0</span></span><br><span class="line">        <span class="comment"># 地瓜的状态</span></span><br><span class="line">        self.cook_static = <span class="string">&#x27;生的&#x27;</span></span><br><span class="line">        <span class="comment"># 调料列表</span></span><br><span class="line">        self.condiments = []</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cook</span>(<span class="params">self, time</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;烤地瓜的方法&quot;&quot;&quot;</span></span><br><span class="line">        self.cook_time += time</span><br><span class="line">        <span class="keyword">if</span> <span class="number">0</span> &lt;= self.cook_time &lt; <span class="number">3</span>:</span><br><span class="line">            self.cook_static = <span class="string">&#x27;生的&#x27;</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="number">3</span> &lt;= self.cook_time &lt; <span class="number">5</span>:</span><br><span class="line">            self.cook_static = <span class="string">&#x27;半生不熟&#x27;</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="number">5</span> &lt;= self.cook_time &lt; <span class="number">8</span>:</span><br><span class="line">            self.cook_static = <span class="string">&#x27;熟了&#x27;</span></span><br><span class="line">        <span class="keyword">elif</span> self.cook_time &gt;= <span class="number">8</span>:</span><br><span class="line">            self.cook_static = <span class="string">&#x27;烤糊了&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_condiments</span>(<span class="params">self, condiment</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;添加调料&quot;&quot;&quot;</span></span><br><span class="line">        self.condiments.append(condiment)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&#x27;这个地瓜烤了<span class="subst">&#123;self.cook_time&#125;</span>分钟, 状态是<span class="subst">&#123;self.cook_static&#125;</span>, 添加的调料有<span class="subst">&#123;self.condiments&#125;</span>&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">digua1 = SweetPotato()</span><br><span class="line"><span class="built_in">print</span>(digua1)</span><br><span class="line"></span><br><span class="line">digua1.cook(<span class="number">2</span>)</span><br><span class="line">digua1.add_condiments(<span class="string">&#x27;酱油&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(digua1)</span><br><span class="line"></span><br><span class="line">digua1.cook(<span class="number">2</span>)</span><br><span class="line">digua1.add_condiments(<span class="string">&#x27;辣椒面儿&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(digua1)</span><br><span class="line"></span><br><span class="line">digua1.cook(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(digua1)</span><br><span class="line"></span><br><span class="line">digua1.cook(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(digua1)</span><br></pre></td></tr></table></figure>
<h5 id="搬家具"><a href="#搬家具" class="headerlink" title="搬家具"></a>搬家具</h5><p>将小于房子剩余面积的家具摆放到房子中</p>
<h6 id="步骤分析-2"><a href="#步骤分析-2" class="headerlink" title="步骤分析"></a>步骤分析</h6><p>需求涉及两个事物：房子 和 家具，故被案例涉及两个类：房子类 和 家具类。</p>
<h6 id="定义类-2"><a href="#定义类-2" class="headerlink" title="定义类"></a>定义类</h6><ul>
<li>房子类<ul>
<li>实例属性<ul>
<li>房子地理位置</li>
<li>房子占地面积</li>
<li>房子剩余面积</li>
<li>房子内家具列表</li>
</ul>
</li>
<li>实例方法<ul>
<li>容纳家具</li>
</ul>
</li>
<li>显示房屋信息</li>
</ul>
</li>
<li>家具类<ul>
<li>家具名称</li>
<li>家具占地面积</li>
</ul>
</li>
</ul>
<h6 id="创建对象并调用相关方法"><a href="#创建对象并调用相关方法" class="headerlink" title="创建对象并调用相关方法"></a>创建对象并调用相关方法</h6><ul>
<li>家具类<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Furniture</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, area</span>):</span></span><br><span class="line">        <span class="comment"># 家具名字</span></span><br><span class="line">        self.name = name</span><br><span class="line">        <span class="comment"># 家具占地面积</span></span><br><span class="line">        self.area = area</span><br></pre></td></tr></table></figure></li>
<li>房子类<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Home</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, address, area</span>):</span></span><br><span class="line">        <span class="comment"># 地理位置</span></span><br><span class="line">        self.address = address</span><br><span class="line">        <span class="comment"># 房屋面积</span></span><br><span class="line">        self.area = area</span><br><span class="line">        <span class="comment"># 剩余面积</span></span><br><span class="line">        self.free_area = area</span><br><span class="line">        <span class="comment"># 家具列表</span></span><br><span class="line">        self.furniture = []</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&#x27;房子坐落于<span class="subst">&#123;self.address&#125;</span>, 占地面积<span class="subst">&#123;self.area&#125;</span>, 剩余面积<span class="subst">&#123;self.free_area&#125;</span>, 家具有<span class="subst">&#123;self.furniture&#125;</span>&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_furniture</span>(<span class="params">self, item</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;容纳家具&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> self.free_area &gt;= item.area:</span><br><span class="line">            self.furniture.append(item.name)</span><br><span class="line">            <span class="comment"># 家具搬入后，房屋剩余面积 = 之前剩余面积 - 该家具面积</span></span><br><span class="line">            self.free_area -= item.area</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;家具太大，剩余面积不足，无法容纳&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h6 id="创建对象并调用实例属性和方法"><a href="#创建对象并调用实例属性和方法" class="headerlink" title="创建对象并调用实例属性和方法"></a>创建对象并调用实例属性和方法</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">bed = Furniture(<span class="string">&#x27;双人床&#x27;</span>, <span class="number">6</span>)</span><br><span class="line">jia1 = Home(<span class="string">&#x27;北京&#x27;</span>, <span class="number">1200</span>)</span><br><span class="line"><span class="built_in">print</span>(jia1)</span><br><span class="line"></span><br><span class="line">jia1.add_furniture(bed)</span><br><span class="line"><span class="built_in">print</span>(jia1)</span><br><span class="line"></span><br><span class="line">sofa = Furniture(<span class="string">&#x27;沙发&#x27;</span>, <span class="number">10</span>)</span><br><span class="line">jia1.add_furniture(sofa)</span><br><span class="line"><span class="built_in">print</span>(jia1)</span><br><span class="line"></span><br><span class="line">ball = Furniture(<span class="string">&#x27;篮球场&#x27;</span>, <span class="number">1500</span>)</span><br><span class="line">jia1.add_furniture(ball)</span><br><span class="line"><span class="built_in">print</span>(jia1)</span><br></pre></td></tr></table></figure>

<ul>
<li>魔法方法<ul>
<li><code>__init__()</code>: 初始化</li>
<li><code>__str__()</code>:输出对象信息</li>
<li><code>__del__()</code>:删除对象时调用</li>
</ul>
</li>
</ul>
<h4 id="面向对象-继承"><a href="#面向对象-继承" class="headerlink" title="面向对象-继承"></a>面向对象-继承</h4><h4 id="继承的概念"><a href="#继承的概念" class="headerlink" title="继承的概念"></a>继承的概念</h4><p>生活中的继承，一般指的是子女继承父辈的财产。</p>
<ul>
<li>拓展1：经典类或旧式类:不由任意内置类型派生出的类，称之为经典类。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> 类名:</span></span><br><span class="line">    代码</span><br><span class="line">    ......</span><br></pre></td></tr></table></figure></li>
<li>拓展2：新式类<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> 类名(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">  代码</span><br></pre></td></tr></table></figure>
Python面向对象的继承指的是多个类之间的所属关系，即子类默认继承父类的所有属性和方法，具体如下：<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 父类A</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.num = <span class="number">1</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">info_print</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(self.num)</span><br><span class="line"><span class="comment"># 子类B</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>(<span class="params">A</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">result = B()</span><br><span class="line">result.info_print()  <span class="comment"># 1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>在Python中，所有类默认继承object类，object类是顶级类或基类；其他子类叫做派生类。</p>
</blockquote>
</li>
</ul>
<h4 id="单继承"><a href="#单继承" class="headerlink" title="单继承"></a>单继承</h4><blockquote>
<p>故事主线：一个煎饼果子老师傅，在煎饼果子界摸爬滚打多年，研发了一套精湛的摊煎饼果子的技术。师父要把这套技术传授给他的唯一的最得意的徒弟。<br>分析：徒弟是不是要继承师父的所有技术？</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 师父类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Master</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[古法煎饼果子配方]&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;运用<span class="subst">&#123;self.kongfu&#125;</span>制作煎饼果子&#x27;</span>)</span><br><span class="line"><span class="comment"># 2. 徒弟类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Prentice</span>(<span class="params">Master</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="comment"># 3. 创建对象daqiu</span></span><br><span class="line">daqiu = Prentice()</span><br><span class="line"><span class="comment"># 4. 对象访问实例属性</span></span><br><span class="line"><span class="built_in">print</span>(daqiu.kongfu)</span><br><span class="line"><span class="comment"># 5. 对象调用实例方法</span></span><br><span class="line">daqiu.make_cake()</span><br></pre></td></tr></table></figure>
<h4 id="多继承"><a href="#多继承" class="headerlink" title="多继承"></a>多继承</h4><blockquote>
<p>故事推进：daqiu是个爱学习的好孩子，想学习更多的煎饼果子技术，于是，在百度搜索到黑马程序员，报班学习煎饼果子技术。</p>
</blockquote>
<p>所谓多继承意思就是一个类同时继承了多个父类。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Master</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[古法煎饼果子配方]&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>( <span class="string">&quot;%s&quot;</span> % self.kongfu)</span><br><span class="line"><span class="comment"># 创建学校类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">School</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[黑马煎饼果子配方]&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>( <span class="string">&quot;%s&quot;</span> % self.kongfu)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Prentice</span>(<span class="params">School, Master</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">daqiu = Prentice()</span><br><span class="line"><span class="built_in">print</span>(daqiu.kongfu)</span><br><span class="line">daqiu.make_cake()</span><br><span class="line"><span class="comment">#[煎饼果子配方]</span></span><br><span class="line"><span class="comment">#[煎饼果子配方]</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：当一个<code>类有多个父类的时候，默认使用第一个父类的同名属性和方法。</code></p>
</blockquote>
<h4 id="子类重写父类同名方法和属性"><a href="#子类重写父类同名方法和属性" class="headerlink" title="子类重写父类同名方法和属性"></a>子类重写父类同名方法和属性</h4><blockquote>
<p>故事：daqiu掌握了师父和培训的技术后，自己潜心钻研出自己的独门配方的一套全新的煎饼果子技术。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Master</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[古法煎饼果子配方]&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;运用<span class="subst">&#123;self.kongfu&#125;</span>制作煎饼果子&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">School</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[黑马煎饼果子配方]&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;运用<span class="subst">&#123;self.kongfu&#125;</span>制作煎饼果子&#x27;</span>)</span><br><span class="line"><span class="comment"># 独创配方</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Prentice</span>(<span class="params">School, Master</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[独创煎饼果子配方]&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;运用<span class="subst">&#123;self.kongfu&#125;</span>制作煎饼果子&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">daqiu = Prentice()</span><br><span class="line"><span class="built_in">print</span>(daqiu.kongfu)</span><br><span class="line">daqiu.make_cake()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(Prentice.__mro__)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>子类和父类具有同名属性和方法，默认使用子类的同名属性和方法。</p>
</blockquote>
<h4 id="子类调用父类的同名方法和属性"><a href="#子类调用父类的同名方法和属性" class="headerlink" title="子类调用父类的同名方法和属性"></a>子类调用父类的同名方法和属性</h4><blockquote>
<p>故事：很多顾客都希望也能吃到古法和新的技术的煎饼果子。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Master</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[古法煎饼果子配方]&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;运用<span class="subst">&#123;self.kongfu&#125;</span>制作煎饼果子&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">School</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[黑马煎饼果子配方]&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;运用<span class="subst">&#123;self.kongfu&#125;</span>制作煎饼果子&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Prentice</span>(<span class="params">School, Master</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[独创煎饼果子配方]&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># 如果是先调用了父类的属性和方法，父类属性会覆盖子类属性，故在调用属性前，先调用自己子类的初始化</span></span><br><span class="line">        self.__init__()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;运用<span class="subst">&#123;self.kongfu&#125;</span>制作煎饼果子&#x27;</span>)</span><br><span class="line">    <span class="comment"># 调用父类方法，但是为保证调用到的也是父类的属性，必须在调用方法前调用父类的初始化</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_master_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        Master.__init__(self)</span><br><span class="line">        Master.make_cake(self)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_school_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        School.__init__(self)</span><br><span class="line">        School.make_cake(self)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">daqiu = Prentice()</span><br><span class="line"></span><br><span class="line">daqiu.make_cake()</span><br><span class="line"></span><br><span class="line">daqiu.make_master_cake()</span><br><span class="line"></span><br><span class="line">daqiu.make_school_cake()</span><br><span class="line"></span><br><span class="line">daqiu.make_cake()</span><br></pre></td></tr></table></figure>
<h4 id="多层继承"><a href="#多层继承" class="headerlink" title="多层继承"></a>多层继承</h4><blockquote>
<p>故事：N年后，daqiu老了，想要把所有技术传承给自己的徒弟。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Master</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[古法煎饼果子配方]&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;运用<span class="subst">&#123;self.kongfu&#125;</span>制作煎饼果子&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">School</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[黑马煎饼果子配方]&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;运用<span class="subst">&#123;self.kongfu&#125;</span>制作煎饼果子&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Prentice</span>(<span class="params">School, Master</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[独创煎饼果子配方]&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.__init__()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;运用<span class="subst">&#123;self.kongfu&#125;</span>制作煎饼果子&#x27;</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_master_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        Master.__init__(self)</span><br><span class="line">        Master.make_cake(self)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_school_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        School.__init__(self)</span><br><span class="line">        School.make_cake(self)</span><br><span class="line"><span class="comment"># 徒孙类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tusun</span>(<span class="params">Prentice</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">xiaoqiu = Tusun()</span><br><span class="line"></span><br><span class="line">xiaoqiu.make_cake()</span><br><span class="line"></span><br><span class="line">xiaoqiu.make_school_cake()</span><br><span class="line"></span><br><span class="line">xiaoqiu.make_master_cake()</span><br></pre></td></tr></table></figure>
<h4 id="super-调用父类方法"><a href="#super-调用父类方法" class="headerlink" title="super()调用父类方法"></a>super()调用父类方法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Master</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[古法煎饼果子配方]&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;运用<span class="subst">&#123;self.kongfu&#125;</span>制作煎饼果子&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">School</span>(<span class="params">Master</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[黑马煎饼果子配方]&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;运用<span class="subst">&#123;self.kongfu&#125;</span>制作煎饼果子&#x27;</span>)</span><br><span class="line">        <span class="comment"># 方法2.1</span></span><br><span class="line">        <span class="comment"># super(School, self).__init__()</span></span><br><span class="line">        <span class="comment"># super(School, self).make_cake()</span></span><br><span class="line">        <span class="comment"># 方法2.2</span></span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        <span class="built_in">super</span>().make_cake()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Prentice</span>(<span class="params">School</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[独创煎饼果子技术]&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.__init__()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;运用<span class="subst">&#123;self.kongfu&#125;</span>制作煎饼果子&#x27;</span>)</span><br><span class="line">    <span class="comment"># 子类调用父类的同名方法和属性：把父类的同名属性和方法再次封装</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_master_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        Master.__init__(self)</span><br><span class="line">        Master.make_cake(self)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_school_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        School.__init__(self)</span><br><span class="line">        School.make_cake(self)</span><br><span class="line">    <span class="comment"># 一次性调用父类的同名属性和方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_old_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># 方法一：代码冗余；父类类名如果变化，这里代码需要频繁修改</span></span><br><span class="line">        <span class="comment"># Master.__init__(self)</span></span><br><span class="line">        <span class="comment"># Master.make_cake(self)</span></span><br><span class="line">        <span class="comment"># School.__init__(self)</span></span><br><span class="line">        <span class="comment"># School.make_cake(self)</span></span><br><span class="line">        <span class="comment"># 方法二: super()</span></span><br><span class="line">        <span class="comment"># 方法2.1 super(当前类名, self).函数()</span></span><br><span class="line">        <span class="comment"># super(Prentice, self).__init__()</span></span><br><span class="line">        <span class="comment"># super(Prentice, self).make_cake()</span></span><br><span class="line">        <span class="comment"># 方法2.2 super().函数()</span></span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        <span class="built_in">super</span>().make_cake()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">daqiu = Prentice()</span><br><span class="line"></span><br><span class="line">daqiu.make_old_cake()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：使用super() 可以自动查找父类。调用顺序遵循 <code>__mro__</code> 类属性的顺序。比较适合单继承使用。</p>
</blockquote>
<h4 id="私有权限"><a href="#私有权限" class="headerlink" title="私有权限"></a>私有权限</h4><h5 id="定义私有属性和方法"><a href="#定义私有属性和方法" class="headerlink" title="定义私有属性和方法"></a>定义私有属性和方法</h5><p>在Python中，可以为实例属性和方法设置私有权限，即设置某个实例属性或实例方法不继承给子类。</p>
<blockquote>
<p>故事：daqiu把技术传承给徒弟的同时，不想把自己的钱(2000000个亿)继承给徒弟，这个时候就要为<code>钱</code>这个实例属性设置私有权限。</p>
</blockquote>
<p><code>·设置私有权限的方法：在属性名和方法名 前面 加上两个下划线 __。·</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Master</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[古法煎饼果子配方]&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;运用<span class="subst">&#123;self.kongfu&#125;</span>制作煎饼果子&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">School</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[黑马煎饼果子配方]&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;运用<span class="subst">&#123;self.kongfu&#125;</span>制作煎饼果子&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Prentice</span>(<span class="params">School, Master</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[独创煎饼果子配方]&#x27;</span></span><br><span class="line">        <span class="comment"># 定义私有属性</span></span><br><span class="line">        self.__money = <span class="number">2000000</span></span><br><span class="line">    <span class="comment"># 定义私有方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__info_print</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(self.kongfu)</span><br><span class="line">        <span class="built_in">print</span>(self.__money)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.__init__()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;运用<span class="subst">&#123;self.kongfu&#125;</span>制作煎饼果子&#x27;</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_master_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        Master.__init__(self)</span><br><span class="line">        Master.make_cake(self)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_school_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        School.__init__(self)</span><br><span class="line">        School.make_cake(self)</span><br><span class="line"><span class="comment"># 徒孙类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tusun</span>(<span class="params">Prentice</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">daqiu = Prentice()</span><br><span class="line"><span class="comment"># 对象不能访问私有属性和私有方法</span></span><br><span class="line"><span class="comment"># print(daqiu.__money)</span></span><br><span class="line"><span class="comment"># daqiu.__info_print()</span></span><br><span class="line"></span><br><span class="line">xiaoqiu = Tusun()</span><br><span class="line"><span class="comment"># 子类无法继承父类的私有属性和私有方法</span></span><br><span class="line"><span class="comment"># print(xiaoqiu.__money)  # 无法访问实例属性__money</span></span><br><span class="line"><span class="comment"># xiaoqiu.__info_print()</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：<code>私有属性和私有方法只能在类里面访问和修改。</code></p>
</blockquote>
<h5 id="获取和修改私有属性值"><a href="#获取和修改私有属性值" class="headerlink" title="获取和修改私有属性值"></a>获取和修改私有属性值</h5><p>在Python中，一般定义函数名<code>get_xx</code>用来获取私有属性，定义<code>set_xx</code>用来修改私有属性值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Master</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[古法煎饼果子配方]&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;运用<span class="subst">&#123;self.kongfu&#125;</span>制作煎饼果子&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">School</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[黑马煎饼果子配方]&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;运用<span class="subst">&#123;self.kongfu&#125;</span>制作煎饼果子&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Prentice</span>(<span class="params">School, Master</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.kongfu = <span class="string">&#x27;[独创煎饼果子配方]&#x27;</span></span><br><span class="line">        self.__money = <span class="number">2000000</span></span><br><span class="line">    <span class="comment"># 获取私有属性</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_money</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.__money</span><br><span class="line">    <span class="comment"># 修改私有属性</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_money</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.__money = <span class="number">500</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__info_print</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(self.kongfu)</span><br><span class="line">        <span class="built_in">print</span>(self.__money)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.__init__()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;运用<span class="subst">&#123;self.kongfu&#125;</span>制作煎饼果子&#x27;</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_master_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        Master.__init__(self)</span><br><span class="line">        Master.make_cake(self)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_school_cake</span>(<span class="params">self</span>):</span></span><br><span class="line">        School.__init__(self)</span><br><span class="line">        School.make_cake(self)</span><br><span class="line"><span class="comment"># 徒孙类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tusun</span>(<span class="params">Prentice</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">daqiu = Prentice()</span><br><span class="line"></span><br><span class="line">xiaoqiu = Tusun()</span><br><span class="line"><span class="comment"># 调用get_money函数获取私有属性money的值</span></span><br><span class="line"><span class="built_in">print</span>(xiaoqiu.get_money())</span><br><span class="line"><span class="comment"># 调用set_money函数修改私有属性money的值</span></span><br><span class="line">xiaoqiu.set_money()</span><br><span class="line"><span class="built_in">print</span>(xiaoqiu.get_money())</span><br></pre></td></tr></table></figure>

<h3 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h3><h4 id="了解异常"><a href="#了解异常" class="headerlink" title="了解异常"></a>了解异常</h4><p>当检测到一个错误时，解释器就无法继续执行了，反而出现了一些错误的提示，这就是所谓的”异常”。</p>
<p>例如：以<code>r</code>方式打开一个不存在的文件。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="异常的写法"><a href="#异常的写法" class="headerlink" title="异常的写法"></a>异常的写法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    可能发生错误的代码</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    如果出现异常执行的代码</span><br></pre></td></tr></table></figure>
<p>需求：尝试以<code>r</code>模式打开文件，如果文件不存在，则以<code>w</code>方式打开。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    f = <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    f = <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="捕获指定异常"><a href="#捕获指定异常" class="headerlink" title="捕获指定异常"></a>捕获指定异常</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    可能发生错误的代码</span><br><span class="line"><span class="keyword">except</span> 异常类型:</span><br><span class="line">    如果捕获到该异常类型执行的代码</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">print</span>(num)</span><br><span class="line"><span class="keyword">except</span> NameError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;有错误&#x27;</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：</p>
<ol>
<li>如果尝试执行的代码的异常类型和要捕获的异常类型不一致，则无法捕获异常。</li>
<li>一般try下方只放一行尝试执行的代码。</li>
</ol>
</blockquote>
<h5 id="捕获多个指定异常"><a href="#捕获多个指定异常" class="headerlink" title="捕获多个指定异常"></a>捕获多个指定异常</h5><p>当捕获多个异常时，可以把要捕获的异常类型的名字，放到except 后，并使用元组的方式进行书写。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">1</span>/<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">except</span> (NameError, ZeroDivisionError):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;有错误&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h5 id="捕获异常描述信息"><a href="#捕获异常描述信息" class="headerlink" title="捕获异常描述信息"></a>捕获异常描述信息</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">print</span>(num)</span><br><span class="line"><span class="keyword">except</span> (NameError, ZeroDivisionError) <span class="keyword">as</span> result:</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>
<h5 id="捕获所有异常"><a href="#捕获所有异常" class="headerlink" title="捕获所有异常"></a>捕获所有异常</h5><p>Exception是所有程序异常类的父类。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">print</span>(num)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> result:</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>
<h5 id="异常的else"><a href="#异常的else" class="headerlink" title="异常的else"></a>异常的else</h5><p>else表示的是如果没有异常要执行的代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> result:</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;我是else，是没有异常的时候执行的代码&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="异常的finally"><a href="#异常的finally" class="headerlink" title="异常的finally"></a>异常的finally</h4><p>finally表示的是无论是否异常都要执行的代码，例如关闭文件。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    f = <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> result:</span><br><span class="line">    f = <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;没有异常，真开心&#x27;</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    f.close()</span><br></pre></td></tr></table></figure>
<h4 id="异常的传递"><a href="#异常的传递" class="headerlink" title="异常的传递"></a>异常的传递</h4><p>​	1. 尝试只读方式打开test.txt文件，如果文件存在则读取文件内容，文件不存在则提示用户即可。</p>
<p>​	2. 读取内容要求：尝试循环读取内容，读取过程中如果检测到用户意外终止程序，则<code>except</code>捕获异常并提示用户。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    f = <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            content = f.readline()</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(content) == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            time.sleep(<span class="number">2</span>)</span><br><span class="line">            <span class="built_in">print</span>(content)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="comment"># 如果在读取文件的过程中，产生了异常，那么就会捕获到</span></span><br><span class="line">        <span class="comment"># 比如 按下了 ctrl+c</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;意外终止了读取数据&#x27;</span>)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        f.close()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;关闭文件&#x27;</span>)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;没有这个文件&quot;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="自定义异常"><a href="#自定义异常" class="headerlink" title="自定义异常"></a>自定义异常</h4><p>在Python中，抛出自定义异常的语法为<code> raise 异常类对象</code>。</p>
<p>需求：密码长度不足，则报异常(用户输入密码，如果输入的长度不足3位，则报错，即抛出自定义异常，并捕获该异常)。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 自定义异常类，继承Exception</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ShortInputError</span>(<span class="params">Exception</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, length, min_len</span>):</span></span><br><span class="line">        self.length = length</span><br><span class="line">        self.min_len = min_len</span><br><span class="line">    <span class="comment"># 设置抛出异常的描述信息</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&#x27;你输入的长度是<span class="subst">&#123;self.length&#125;</span>, 不能少于<span class="subst">&#123;self.min_len&#125;</span>个字符&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        con = <span class="built_in">input</span>(<span class="string">&#x27;请输入密码：&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(con) &lt; <span class="number">3</span>:</span><br><span class="line">            <span class="keyword">raise</span> ShortInputError(<span class="built_in">len</span>(con), <span class="number">3</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> result:</span><br><span class="line">        <span class="built_in">print</span>(result)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;密码已经输入完成&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br></pre></td></tr></table></figure>
<h3 id="模块和包"><a href="#模块和包" class="headerlink" title="模块和包"></a>模块和包</h3><h4 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h4><p>Python 模块(Module)，是一个 Python 文件，以 .py 结尾，包含了 Python 对象定义和Python语句。模块能定义函数，类和变量，模块里也能包含可执行的代码。</p>
<h4 id="导入模块"><a href="#导入模块" class="headerlink" title="导入模块"></a>导入模块</h4><h5 id="导入模块的方式"><a href="#导入模块的方式" class="headerlink" title="导入模块的方式"></a>导入模块的方式</h5><ul>
<li>import 模块名</li>
<li>from 模块名 import 功能名</li>
<li>from 模块名 import *</li>
<li>import 模块名 as 别名</li>
<li>from 模块名 import 功能名 as 别名</li>
</ul>
<h6 id="import"><a href="#import" class="headerlink" title="import"></a>import</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 导入模块</span></span><br><span class="line"><span class="keyword">import</span> 模块名</span><br><span class="line"><span class="keyword">import</span> 模块名<span class="number">1</span>, 模块名<span class="number">2.</span>..</span><br><span class="line"><span class="comment"># 2. 调用功能</span></span><br><span class="line">模块名.功能名()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="built_in">print</span>(math.sqrt(<span class="number">9</span>))  <span class="comment"># 3.0</span></span><br></pre></td></tr></table></figure>
<h6 id="from-import"><a href="#from-import" class="headerlink" title="from..import.."></a>from..import..</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> 模块名 <span class="keyword">import</span> 功能<span class="number">1</span>, 功能<span class="number">2</span>, 功能<span class="number">3.</span>..</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</span><br><span class="line"><span class="built_in">print</span>(sqrt(<span class="number">9</span>))</span><br></pre></td></tr></table></figure>
<h6 id="from-import-1"><a href="#from-import-1" class="headerlink" title="from .. import *"></a>from .. import *</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> 模块名 <span class="keyword">import</span> *</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> *</span><br><span class="line"><span class="built_in">print</span>(sqrt(<span class="number">9</span>))</span><br></pre></td></tr></table></figure>
<h6 id="as定义别名"><a href="#as定义别名" class="headerlink" title="as定义别名"></a>as定义别名</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 模块定义别名</span></span><br><span class="line"><span class="keyword">import</span> 模块名 <span class="keyword">as</span> 别名</span><br><span class="line"><span class="comment"># 功能定义别名</span></span><br><span class="line"><span class="keyword">from</span> 模块名 <span class="keyword">import</span> 功能 <span class="keyword">as</span> 别名</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 模块别名</span></span><br><span class="line"><span class="keyword">import</span> time <span class="keyword">as</span> tt</span><br><span class="line">tt.sleep(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="comment"># 功能别名</span></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep <span class="keyword">as</span> sl</span><br><span class="line">sl(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="制作模块"><a href="#制作模块" class="headerlink" title="制作模块"></a>制作模块</h4><p>在Python中，每个Python文件都可以作为一个模块，模块的名字就是文件的名字。<strong>也就是说自定义模块名必须要符合标识符命名规则。</strong></p>
<h5 id="定义模块"><a href="#定义模块" class="headerlink" title="定义模块"></a>定义模块</h5><p>新建一个Python文件，命名为<code>my_module1.py</code>，并定义<code>testA</code>函数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testA</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(a + b)</span><br></pre></td></tr></table></figure>
<h4 id="测试模块"><a href="#测试模块" class="headerlink" title="测试模块"></a>测试模块</h4><p>在实际开中，当一个开发人员编写完一个模块后，为了让模块能够在项目中达到想要的效果，这个开发人员会自行在py文件中添加一些测试信息.，例如，在<code>my_module1.py</code>文件中添加测试代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testA</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(a + b)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">testA(<span class="number">1</span>, <span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p>此时，无论是当前文件，还是其他已经导入了该模块的文件，在运行的时候都会自动执行<code>testA</code>函数的调用。<br>解决办法如下：<code>·main函数·</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testA</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(a + b)</span><br><span class="line"><span class="comment"># 只在当前文件中调用该函数，其他导入的文件内不符合该条件，则不执行testA函数调用</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    testA(<span class="number">1</span>, <span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<h4 id="调用模块"><a href="#调用模块" class="headerlink" title="调用模块"></a>调用模块</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> my_module1</span><br><span class="line">my_module1.testA(<span class="number">1</span>, <span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><p>如果使用<code>from .. import ..</code>或<code>from .. import *</code>导入多个模块的时候，且模块内有同名功能。<code>当调用这个同名功能的时候，调用到的是后面导入的模块的功能。</code></p>
<ul>
<li>体验<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 模块1代码</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_test</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(a + b)</span><br><span class="line"><span class="comment"># 模块2代码</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_test</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(a - b)</span><br><span class="line"><span class="comment"># 导入模块和调用功能代码</span></span><br><span class="line"><span class="keyword">from</span> my_module1 <span class="keyword">import</span> my_test</span><br><span class="line"><span class="keyword">from</span> my_module2 <span class="keyword">import</span> my_test</span><br><span class="line"><span class="comment"># my_test函数是模块2中的函数</span></span><br><span class="line">my_test(<span class="number">1</span>, <span class="number">1</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="模块定位顺序"><a href="#模块定位顺序" class="headerlink" title="模块定位顺序"></a>模块定位顺序</h4><p>当导入一个模块，Python解析器对模块位置的搜索顺序是：</p>
<ol>
<li>当前目录</li>
<li>如果不在当前目录，Python则搜索在shell变量PYTHONPATH下的每个目录。</li>
<li>如果都找不到，Python会察看默认路径。UNIX下，默认路径一般为&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python&#x2F;</li>
</ol>
<p>模块搜索路径存储在system模块的sys.path变量中。变量里包含当前目录，PYTHONPATH和由安装过程决定的默认目录。</p>
<ul>
<li>注意<ul>
<li>自己的文件名不要和已有模块名重复，否则导致模块功能无法使用</li>
<li><code>使用from 模块名 import 功能</code>的时候，如果功能名字重复，调用到的是最后定义或导入的功能。</li>
</ul>
</li>
</ul>
<h4 id="all"><a href="#all" class="headerlink" title="__all__"></a><code>__all__</code></h4><p>如果一个模块文件中有<code>__all__</code>变量，当使用<code>from xxx import *</code>导入时，<code>只能导入这个列表中的元素。</code></p>
<ul>
<li>my_module1模块代码<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">__all__ = [<span class="string">&#x27;testA&#x27;</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testA</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;testA&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testB</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;testB&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li>导入模块的文件代码<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> my_module1 <span class="keyword">import</span> *</span><br><span class="line">testA()</span><br><span class="line">testB()</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="包"><a href="#包" class="headerlink" title="包"></a>包</h4><p>包将有联系的模块组织在一起，即放到同一个文件夹下，并且在这个文件夹创建一个名字为<code>__init__.py</code> 文件，那么这个文件夹就称之为包。</p>
<h5 id="制作包"><a href="#制作包" class="headerlink" title="制作包"></a>制作包</h5><p>[New] — [Python Package] — 输入包名 — [OK] — 新建功能模块(有联系的模块)。</p>
<p>注意：新建包后，包内部会自动创建<code>__init__.py</code>文件，这个文件控制着包的导入行为。</p>
<ol>
<li>新建包<code>mypackage</code></li>
<li>新建包内模块：<code>my_module1</code> 和 <code>my_module2</code></li>
<li>模块内代码如下<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># my_module1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">info_print1</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;my_module1&#x27;</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># my_module2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">info_print2</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;my_module2&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="导入包"><a href="#导入包" class="headerlink" title="导入包"></a>导入包</h5><h5 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> 包名.模块名</span><br><span class="line"></span><br><span class="line">包名.模块名.目标</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> my_package.my_module1</span><br><span class="line"></span><br><span class="line">my_package.my_module1.info_print1()</span><br></pre></td></tr></table></figure>
<h5 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h5><p>注意：必须在<code>__init__.py</code>文件中添加<code>__all__ = []</code>，控制允许导入的模块列表。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> 包名 <span class="keyword">import</span> *</span><br><span class="line">模块名.目标</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> my_package <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">my_module1.info_print1()</span><br></pre></td></tr></table></figure>

<h3 id="课程：面向对象版学员管理系统"><a href="#课程：面向对象版学员管理系统" class="headerlink" title="课程：面向对象版学员管理系统"></a>课程：面向对象版学员管理系统</h3><h4 id="系统需求"><a href="#系统需求" class="headerlink" title="系统需求"></a>系统需求</h4><p>使用面向对象编程思想完成学员管理系统的开发，具体如下：</p>
<ul>
<li>系统要求：学员数据存储在文件中</li>
<li>系统功能：添加学员、删除学员、修改学员信息、查询学员信息、显示所有学员信息、保存学员信息及退出系统等功能。</li>
</ul>
<h4 id="准备程序文件"><a href="#准备程序文件" class="headerlink" title="准备程序文件"></a>准备程序文件</h4><ul>
<li>角色分析<ul>
<li>学员</li>
<li>管理系统<blockquote>
<p>工作中注意事项</p>
<ol>
<li>为了方便维护代码，一般一个角色一个程序文件；</li>
<li>项目要有主程序入口，习惯为<code>main.py</code></li>
</ol>
</blockquote>
</li>
</ul>
</li>
</ul>
<h4 id="创建程序文件"><a href="#创建程序文件" class="headerlink" title="创建程序文件"></a>创建程序文件</h4><p>创建项目目录，例如：<code>StudentManagerSystem</code><br>程序文件如下：</p>
<ul>
<li>程序入口文件：main.py</li>
<li>学员文件：student.py</li>
<li>管理系统文件：managerSystem.py</li>
</ul>
<h4 id="student-py"><a href="#student-py" class="headerlink" title="student.py"></a>student.py</h4><p>需求：</p>
<ul>
<li>学员信息包含：姓名、性别、手机号；</li>
<li>添加<code>__str__</code>魔法方法，方便查看学员对象信息<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, gender, tel</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.gender = gender</span><br><span class="line">        self.tel = tel</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&#x27;<span class="subst">&#123;self.name&#125;</span>, <span class="subst">&#123;self.gender&#125;</span>, <span class="subst">&#123;self.tel&#125;</span>&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="managerSystem-py"><a href="#managerSystem-py" class="headerlink" title="managerSystem.py"></a>managerSystem.py</h4><p>需求：</p>
<ul>
<li>存储数据的位置：文件(student.data)<ul>
<li>加载文件数据</li>
<li>修改数据后保存到文件</li>
</ul>
</li>
<li>存储数据的形式：列表存储学员对象</li>
<li>系统功能<ul>
<li>添加学员</li>
<li>删除学员</li>
<li>修改学员</li>
<li>查询学员信息</li>
<li>显示所有学员信息</li>
<li>保存学员信息</li>
<li>退出系统</li>
</ul>
</li>
</ul>
<h6 id="定义类-3"><a href="#定义类-3" class="headerlink" title="定义类"></a>定义类</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudentManager</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># 存储数据所用的列表</span></span><br><span class="line">        self.student_list = []</span><br></pre></td></tr></table></figure>
<h6 id="管理系统框架"><a href="#管理系统框架" class="headerlink" title="管理系统框架"></a>管理系统框架</h6><p>需求：系统功能循环使用，用户输入不同的功能序号执行不同的功能。</p>
<ul>
<li>步骤<ul>
<li>定义程序入口函数<ul>
<li>加载数据</li>
<li>显示功能菜单</li>
<li>用户输入功能序号</li>
<li>根据用户输入的功能序号执行不同的功能</li>
</ul>
</li>
<li>定义系统功能函数，添加、删除学员等<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudentManager</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># 存储数据所用的列表</span></span><br><span class="line">        self.student_list = []</span><br><span class="line">    <span class="comment"># 一. 程序入口函数，启动程序后执行的函数</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># 1. 加载学员信息</span></span><br><span class="line">        self.load_student()</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="comment"># 2. 显示功能菜单</span></span><br><span class="line">            self.show_menu()</span><br><span class="line">            <span class="comment"># 3. 用户输入功能序号</span></span><br><span class="line">            menu_num = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入您需要的功能序号：&#x27;</span>))</span><br><span class="line">            <span class="comment"># 4 根据用户输入的功能序号执行不同的功能</span></span><br><span class="line">            <span class="keyword">if</span> menu_num == <span class="number">1</span>:</span><br><span class="line">                <span class="comment"># 添加学员</span></span><br><span class="line">                self.add_student()</span><br><span class="line">            <span class="keyword">elif</span> menu_num == <span class="number">2</span>:</span><br><span class="line">                <span class="comment"># 删除学员</span></span><br><span class="line">                self.del_student()</span><br><span class="line">            <span class="keyword">elif</span> menu_num == <span class="number">3</span>:</span><br><span class="line">                <span class="comment"># 修改学员信息</span></span><br><span class="line">                self.modify_student()</span><br><span class="line">            <span class="keyword">elif</span> menu_num == <span class="number">4</span>:</span><br><span class="line">                <span class="comment"># 查询学员信息</span></span><br><span class="line">                self.search_student()</span><br><span class="line">            <span class="keyword">elif</span> menu_num == <span class="number">5</span>:</span><br><span class="line">                <span class="comment"># 显示所有学员信息</span></span><br><span class="line">                self.show_student()</span><br><span class="line">            <span class="keyword">elif</span> menu_num == <span class="number">6</span>:</span><br><span class="line">                <span class="comment"># 保存学员信息</span></span><br><span class="line">                self.save_student()</span><br><span class="line">            <span class="keyword">elif</span> menu_num == <span class="number">7</span>:</span><br><span class="line">                <span class="comment"># 退出系统</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">    <span class="comment"># 二. 定义功能函数</span></span><br><span class="line">    <span class="comment"># 2.1 显示功能菜单</span></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show_menu</span>():</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;请选择如下功能-----------------&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;1:添加学员&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;2:删除学员&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;3:修改学员信息&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;4:查询学员信息&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;5:显示所有学员信息&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;6:保存学员信息&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;7:退出系统&#x27;</span>)</span><br><span class="line">    <span class="comment"># 2.2 添加学员</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_student</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="comment"># 2.3 删除学员</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">del_student</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="comment"># 2.4 修改学员信息</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">modify_student</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="comment"># 2.5 查询学员信息</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">search_student</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="comment"># 2.6 显示所有学员信息</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show_student</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="comment"># 2.7 保存学员信息</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">save_student</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="comment"># 2.8 加载学员信息</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">load_student</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="main-py"><a href="#main-py" class="headerlink" title="main.py"></a>main.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 导入managerSystem模块</span></span><br><span class="line"><span class="keyword">from</span> managerSystem <span class="keyword">import</span> *</span><br><span class="line"><span class="comment"># 2. 启动学员管理系统</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    student_manager = StudentManager()</span><br><span class="line">    student_manager.run()</span><br></pre></td></tr></table></figure>
<h4 id="定义系统功能函数"><a href="#定义系统功能函数" class="headerlink" title="定义系统功能函数"></a>定义系统功能函数</h4><h6 id="添加功能"><a href="#添加功能" class="headerlink" title="添加功能"></a>添加功能</h6><ul>
<li>需求：用户输入学员姓名、性别、手机号，将学员添加到系统。</li>
<li>步骤<ul>
<li>用户输入姓名、性别、手机号</li>
<li>创建该学员对象</li>
<li>将该学员对象添加到列表</li>
</ul>
</li>
<li>代码<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加学员函数内部需要创建学员对象，故先导入student模块</span></span><br><span class="line"><span class="keyword">from</span> student <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudentManager</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">		......</span><br><span class="line">    <span class="comment"># 2.2 添加学员</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_student</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># 1. 用户输入姓名、性别、手机号</span></span><br><span class="line">        name = <span class="built_in">input</span>(<span class="string">&#x27;请输入您的姓名：&#x27;</span>)</span><br><span class="line">        gender = <span class="built_in">input</span>(<span class="string">&#x27;请输入您的性别：&#x27;</span>)</span><br><span class="line">        tel = <span class="built_in">input</span>(<span class="string">&#x27;请输入您的手机号：&#x27;</span>)</span><br><span class="line">        <span class="comment"># 2. 创建学员对象：先导入学员模块，再创建对象</span></span><br><span class="line">        student = Student(name, gender, tel)</span><br><span class="line">        <span class="comment"># 3. 将该学员对象添加到列表</span></span><br><span class="line">        self.student_list.append(student)</span><br><span class="line">        <span class="comment"># 打印信息</span></span><br><span class="line">        <span class="built_in">print</span>(self.student_list)</span><br><span class="line">        <span class="built_in">print</span>(student)</span><br></pre></td></tr></table></figure></li>
</ul>
<h6 id="删除学员-1"><a href="#删除学员-1" class="headerlink" title="删除学员"></a>删除学员</h6><ul>
<li>需求：用户输入目标学员姓名，如果学员存在则删除该学员。</li>
<li>步骤<ul>
<li>用户输入目标学员姓名</li>
<li>遍历学员数据列表，如果用户输入的学员姓名存在则删除，否则则提示该学员不存在。</li>
</ul>
</li>
<li>代码<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 2.3 删除学员：删除指定姓名的学员</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">del_student</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="comment"># 1. 用户输入目标学员姓名</span></span><br><span class="line">    del_name = <span class="built_in">input</span>(<span class="string">&#x27;请输入要删除的学员姓名：&#x27;</span>)</span><br><span class="line">    <span class="comment"># 2. 如果用户输入的目标学员存在则删除，否则提示学员不存在</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> self.student_list:</span><br><span class="line">        <span class="keyword">if</span> i.name == del_name:</span><br><span class="line">            self.student_list.remove(i)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;查无此人！&#x27;</span>)</span><br><span class="line">    <span class="comment"># 打印学员列表，验证删除功能</span></span><br><span class="line">    <span class="built_in">print</span>(self.student_list)</span><br></pre></td></tr></table></figure></li>
</ul>
<h6 id="修改学员信息-1"><a href="#修改学员信息-1" class="headerlink" title="修改学员信息"></a>修改学员信息</h6><ul>
<li>需求：用户输入目标学员姓名，如果学员存在则修改该学员信息。</li>
<li>步骤<ul>
<li>用户输入目标学员姓名；</li>
<li>遍历学员数据列表，如果用户输入的学员姓名存在则修改学员的姓名、性别、手机号数据，否则则提示该学员不存在。</li>
</ul>
</li>
<li>代码<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 2.4 修改学员信息</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">modify_student</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="comment"># 1. 用户输入目标学员姓名</span></span><br><span class="line">    modify_name = <span class="built_in">input</span>(<span class="string">&#x27;请输入要修改的学员的姓名：&#x27;</span>)</span><br><span class="line">    <span class="comment"># 2. 如果用户输入的目标学员存在则修改姓名、性别、手机号等数据，否则提示学员不存在</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> self.student_list:</span><br><span class="line">        <span class="keyword">if</span> i.name == modify_name:</span><br><span class="line">            i.name = <span class="built_in">input</span>(<span class="string">&#x27;请输入学员姓名：&#x27;</span>)</span><br><span class="line">            i.gender = <span class="built_in">input</span>(<span class="string">&#x27;请输入学员性别：&#x27;</span>)</span><br><span class="line">            i.tel = <span class="built_in">input</span>(<span class="string">&#x27;请输入学员手机号：&#x27;</span>)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;修改该学员信息成功，姓名<span class="subst">&#123;i.name&#125;</span>,性别<span class="subst">&#123;i.gender&#125;</span>, 手机号<span class="subst">&#123;i.tel&#125;</span>&#x27;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;查无此人！&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h6 id="查询学员信息-1"><a href="#查询学员信息-1" class="headerlink" title="查询学员信息"></a>查询学员信息</h6><ul>
<li>需求：用户输入目标学员姓名，如果学员存在则打印该学员信息</li>
<li>步骤<ul>
<li>用户输入目标学员姓名</li>
<li>遍历学员数据列表，如果用户输入的学员姓名存在则打印学员信息，否则提示该学员不存在。</li>
</ul>
</li>
<li>代码<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 2.5 查询学员信息</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">search_student</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="comment"># 1. 用户输入目标学员姓名</span></span><br><span class="line">    search_name = <span class="built_in">input</span>(<span class="string">&#x27;请输入要查询的学员的姓名：&#x27;</span>)</span><br><span class="line">    <span class="comment"># 2. 如果用户输入的目标学员存在，则打印学员信息，否则提示学员不存在</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> self.student_list:</span><br><span class="line">        <span class="keyword">if</span> i.name == search_name:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;姓名<span class="subst">&#123;i.name&#125;</span>,性别<span class="subst">&#123;i.gender&#125;</span>, 手机号<span class="subst">&#123;i.tel&#125;</span>&#x27;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;查无此人!&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h6 id="显示所有学员信息-1"><a href="#显示所有学员信息-1" class="headerlink" title="显示所有学员信息"></a>显示所有学员信息</h6><ul>
<li>打印所有学员信息</li>
<li>步骤<ul>
<li>遍历学员数据列表，打印所有学员信息</li>
</ul>
</li>
<li>代码<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 2.6 显示所有学员信息</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_student</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;姓名\t性别\t手机号&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> self.student_list:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;i.name&#125;</span>\t<span class="subst">&#123;i.gender&#125;</span>\t<span class="subst">&#123;i.tel&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h6 id="保存学员信息"><a href="#保存学员信息" class="headerlink" title="保存学员信息"></a>保存学员信息</h6><ul>
<li>需求：将修改后的学员数据保存到存储数据的文件。</li>
<li>步骤<ul>
<li>打开文件</li>
<li>文件写入数据</li>
<li>关闭文件<blockquote>
<p>思考</p>
<ol>
<li>文件写入的数据是学员对象的内存地址吗？</li>
<li>文件内数据要求的数据类型是什么？</li>
</ol>
</blockquote>
</li>
</ul>
</li>
<li>拓展<code>__dict__</code><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    a = <span class="number">0</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.b = <span class="number">1</span></span><br><span class="line">aa = A()</span><br><span class="line"><span class="comment"># 返回类内部所有属性和方法对应的字典</span></span><br><span class="line"><span class="built_in">print</span>(A.__dict__)</span><br><span class="line"><span class="comment"># 返回实例属性和值组成的字典</span></span><br><span class="line"><span class="built_in">print</span>(aa.__dict__)</span><br></pre></td></tr></table></figure>
在Python中</li>
<li>代码<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 2.7 保存学员信息</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">save_student</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="comment"># 1. 打开文件</span></span><br><span class="line">    f = <span class="built_in">open</span>(<span class="string">&#x27;student.data&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line">    <span class="comment"># 2. 文件写入学员数据</span></span><br><span class="line">    <span class="comment"># 注意1：文件写入的数据不能是学员对象的内存地址，需要把学员数据转换成列表字典数据再做存储</span></span><br><span class="line">    new_list = [i.__dict__ <span class="keyword">for</span> i <span class="keyword">in</span> self.student_list]</span><br><span class="line">    <span class="comment"># [&#123;&#x27;name&#x27;: &#x27;aa&#x27;, &#x27;gender&#x27;: &#x27;nv&#x27;, &#x27;tel&#x27;: &#x27;111&#x27;&#125;]</span></span><br><span class="line">    <span class="built_in">print</span>(new_list)</span><br><span class="line">    <span class="comment"># 注意2：文件内数据要求为字符串类型，故需要先转换数据类型为字符串才能文件写入数据</span></span><br><span class="line">    f.write(<span class="built_in">str</span>(new_list))</span><br><span class="line">    <span class="comment"># 3. 关闭文件</span></span><br><span class="line">    f.close()</span><br></pre></td></tr></table></figure></li>
</ul>
<h6 id="加载学员信息"><a href="#加载学员信息" class="headerlink" title="加载学员信息"></a>加载学员信息</h6><ul>
<li>需求：每次进入系统后，修改的数据是文件里面的数据</li>
<li>步骤<ul>
<li>尝试以<code>&quot;r&quot;</code>模式打开学员数据文件，如果文件不存在则以<code>&quot;w&quot;</code>模式打开文件</li>
<li>如果文件存在则读取数据并存储数据<ul>
<li>读取数据</li>
<li>转换数据类型为列表并转换列表内的字典为对象</li>
<li>存储学员数据到学员列表</li>
</ul>
</li>
<li>关闭文件</li>
</ul>
</li>
<li>代码<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 2.8 加载学员信息</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_student</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="comment"># 尝试以&quot;r&quot;模式打开数据文件，文件不存在则提示用户；文件存在(没有异常)则读取数据</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(<span class="string">&#x27;student.data&#x27;</span>, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(<span class="string">&#x27;student.data&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># 1. 读取数据</span></span><br><span class="line">        data = f.read()</span><br><span class="line">        <span class="comment"># 2. 文件中读取的数据都是字符串且字符串内部为字典数据，故需要转换数据类型再转换字典为对象后存储到学员列表</span></span><br><span class="line">        new_list = <span class="built_in">eval</span>(data)</span><br><span class="line">        self.student_list = [Student(i[<span class="string">&#x27;name&#x27;</span>], i[<span class="string">&#x27;gender&#x27;</span>], i[<span class="string">&#x27;tel&#x27;</span>]) <span class="keyword">for</span> i <span class="keyword">in</span> new_list]</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="comment"># 3. 关闭文件</span></span><br><span class="line">        f.close()</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="多任务的介绍"><a href="#多任务的介绍" class="headerlink" title="多任务的介绍"></a>多任务的介绍</h3><h4 id="Python-多进程"><a href="#Python-多进程" class="headerlink" title="Python 多进程"></a>Python 多进程</h4><h5 id="导入进程包"><a href="#导入进程包" class="headerlink" title="导入进程包"></a>导入进程包</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#导入进程包</span></span><br><span class="line"><span class="keyword">import</span> multiprocessing</span><br></pre></td></tr></table></figure>
<h5 id="Process进程类的说明"><a href="#Process进程类的说明" class="headerlink" title="Process进程类的说明"></a>Process进程类的说明</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Process([group [, target [, name [, args [, kwargs]]]]])</span><br></pre></td></tr></table></figure>
<ul>
<li>group：指定进程组，目前只能使用None</li>
<li>target：执行的目标任务名</li>
<li>name：进程名字</li>
<li>args：以元组方式给执行任务传参</li>
<li>kwargs：以字典方式给执行任务传参</li>
</ul>
<h6 id="Process创建的实例对象的常用方法"><a href="#Process创建的实例对象的常用方法" class="headerlink" title="Process创建的实例对象的常用方法:"></a>Process创建的实例对象的常用方法:</h6><ul>
<li>start()：启动子进程实例(创建子进程)</li>
<li>join()：等待子进程执行结束</li>
<li>terminate()：不管任务是否完成，立即终止子进程</li>
</ul>
<h6 id="Process创建的实例对象的常用属性"><a href="#Process创建的实例对象的常用属性" class="headerlink" title="Process创建的实例对象的常用属性:"></a>Process创建的实例对象的常用属性:</h6><ul>
<li>name：当前进程的别名，默认为Process-N，N为从1开始递增的整数</li>
</ul>
<h6 id="多进程完成多任务的代码"><a href="#多进程完成多任务的代码" class="headerlink" title="多进程完成多任务的代码"></a>多进程完成多任务的代码</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 跳舞任务</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dance</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;跳舞中...&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line"><span class="comment"># 唱歌任务</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sing</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;唱歌中...&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建跳舞的子进程</span></span><br><span class="line">    <span class="comment"># group: 表示进程组，目前只能使用None</span></span><br><span class="line">    <span class="comment"># target: 表示执行的目标任务名(函数名、方法名)</span></span><br><span class="line">    <span class="comment"># name: 进程名称, 默认是Process-1, .....</span></span><br><span class="line">    dance_process = multiprocessing.Process(target=dance, name=<span class="string">&quot;myprocess1&quot;</span>)</span><br><span class="line">    sing_process = multiprocessing.Process(target=sing)</span><br><span class="line">    <span class="comment"># 启动子进程执行对应的任务</span></span><br><span class="line">    dance_process.start()</span><br><span class="line">    sing_process.start()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>执行结果:<br>唱歌中…<br>跳舞中…<br>唱歌中…<br>跳舞中…<br>唱歌中…<br>跳舞中…<br>唱歌中…<br>跳舞中…<br>唱歌中…<br>跳舞中…</p>
</blockquote>
<h4 id="获取进程编号"><a href="#获取进程编号" class="headerlink" title="获取进程编号"></a>获取进程编号</h4><h4 id="获取进程编号的目的"><a href="#获取进程编号的目的" class="headerlink" title="获取进程编号的目的"></a>获取进程编号的目的</h4><p>获取进程编号的目的是验证主进程和子进程的关系，可以得知子进程是由那个主进程创建出来的。<code>获取进程编号的两种操作</code></p>
<ul>
<li>获取当前进程编号</li>
<li>获取当前父进程编号</li>
<li>是OS模块</li>
</ul>
<h5 id="获取当前进程编号"><a href="#获取当前进程编号" class="headerlink" title="获取当前进程编号"></a>获取当前进程编号</h5><p>os.getpid() 表示获取当前进程编号</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment"># 跳舞任务</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dance</span>():</span></span><br><span class="line">    <span class="comment"># 获取当前进程的编号</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;dance:&quot;</span>, os.getpid())</span><br><span class="line">    <span class="comment"># 获取当前进程</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;dance:&quot;</span>, multiprocessing.current_process())</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;跳舞中...&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line">        <span class="comment"># 扩展:根据进程编号杀死指定进程</span></span><br><span class="line">        os.kill(os.getpid(), <span class="number">9</span>)</span><br><span class="line"><span class="comment"># 唱歌任务</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sing</span>():</span></span><br><span class="line">    <span class="comment"># 获取当前进程的编号</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;sing:&quot;</span>, os.getpid())</span><br><span class="line">    <span class="comment"># 获取当前进程</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;sing:&quot;</span>, multiprocessing.current_process())</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;唱歌中...&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 获取当前进程的编号</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;main:&quot;</span>, os.getpid())</span><br><span class="line">    <span class="comment"># 获取当前进程</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;main:&quot;</span>, multiprocessing.current_process())</span><br><span class="line">    <span class="comment"># 创建跳舞的子进程</span></span><br><span class="line">    <span class="comment"># group: 表示进程组，目前只能使用None</span></span><br><span class="line">    <span class="comment"># target: 表示执行的目标任务名(函数名、方法名)</span></span><br><span class="line">    <span class="comment"># name: 进程名称, 默认是Process-1, .....</span></span><br><span class="line">    dance_process = multiprocessing.Process(target=dance, name=<span class="string">&quot;myprocess1&quot;</span>)</span><br><span class="line">    sing_process = multiprocessing.Process(target=sing)</span><br><span class="line">    <span class="comment"># 启动子进程执行对应的任务</span></span><br><span class="line">    dance_process.start()</span><br><span class="line">    sing_process.start()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>执行结果:<br>main: 70763<br>main: &lt;_MainProcess(MainProcess, started)&gt;<br>dance: 70768<br>dance: &lt;Process(myprocess1, started)&gt;<br>跳舞中…<br>sing: 70769<br>sing: &lt;Process(Process-2, started)&gt;<br>唱歌中…<br>唱歌中…<br>唱歌中…<br>唱歌中…<br>唱歌中…</p>
</blockquote>
<h5 id="获取当前父进程编号"><a href="#获取当前父进程编号" class="headerlink" title="获取当前父进程编号"></a>获取当前父进程编号</h5><p>os.getppid() 表示获取当前父进程编号</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment"># 跳舞任务</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dance</span>():</span></span><br><span class="line">    <span class="comment"># 获取当前进程的编号</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;dance:&quot;</span>, os.getpid())</span><br><span class="line">    <span class="comment"># 获取当前进程</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;dance:&quot;</span>, multiprocessing.current_process())</span><br><span class="line">    <span class="comment"># 获取父进程的编号</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;dance的父进程编号:&quot;</span>, os.getppid())</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;跳舞中...&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line">        <span class="comment"># 扩展:根据进程编号杀死指定进程</span></span><br><span class="line">        os.kill(os.getpid(), <span class="number">9</span>)</span><br><span class="line"><span class="comment"># 唱歌任务</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sing</span>():</span></span><br><span class="line">    <span class="comment"># 获取当前进程的编号</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;sing:&quot;</span>, os.getpid())</span><br><span class="line">    <span class="comment"># 获取当前进程</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;sing:&quot;</span>, multiprocessing.current_process())</span><br><span class="line">    <span class="comment"># 获取父进程的编号</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;sing的父进程编号:&quot;</span>, os.getppid())</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;唱歌中...&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 获取当前进程的编号</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;main:&quot;</span>, os.getpid())</span><br><span class="line">    <span class="comment"># 获取当前进程</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;main:&quot;</span>, multiprocessing.current_process())</span><br><span class="line">    <span class="comment"># 创建跳舞的子进程</span></span><br><span class="line">    <span class="comment"># group: 表示进程组，目前只能使用None</span></span><br><span class="line">    <span class="comment"># target: 表示执行的目标任务名(函数名、方法名)</span></span><br><span class="line">    <span class="comment"># name: 进程名称, 默认是Process-1, .....</span></span><br><span class="line">    dance_process = multiprocessing.Process(target=dance, name=<span class="string">&quot;myprocess1&quot;</span>)</span><br><span class="line">    sing_process = multiprocessing.Process(target=sing)</span><br><span class="line">    <span class="comment"># 启动子进程执行对应的任务</span></span><br><span class="line">    dance_process.start()</span><br><span class="line">    sing_process.start()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>main: 70860<br>main: &lt;_MainProcess(MainProcess, started)&gt;<br>dance: 70861<br>dance: &lt;Process(myprocess1, started)&gt;<br>dance的父进程编号: 70860<br>跳舞中…<br>sing: 70862<br>sing: &lt;Process(Process-2, started)&gt;<br>sing的父进程编号: 70860<br>唱歌中…<br>唱歌中…<br>唱歌中…<br>唱歌中…<br>唱歌中…</p>
</blockquote>
<h4 id="进程执行带有参数的任务"><a href="#进程执行带有参数的任务" class="headerlink" title="进程执行带有参数的任务"></a>进程执行带有参数的任务</h4><h5 id="进程执行带有参数的任务的介绍"><a href="#进程执行带有参数的任务的介绍" class="headerlink" title="进程执行带有参数的任务的介绍"></a>进程执行带有参数的任务的介绍</h5><p>我们使用进程执行的任务是没有参数的，假如我们使用进程执行的任务带有参数，如何给函数传参呢?<br>Process类执行任务并给任务传参数有两种方式:</p>
<ul>
<li>args 表示以<code>元组</code>的方式给执行任务传参</li>
<li>kwargs 表示以<code>字典</code>方式给执行任务传参<br><strong>args参数的使用</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 带有参数的任务</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">task</span>(<span class="params">count</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(count):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;任务执行中..&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;任务执行完成&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建子进程</span></span><br><span class="line">    <span class="comment"># args: 以元组的方式给任务传入参数</span></span><br><span class="line">    sub_process = multiprocessing.Process(target=task, args=(<span class="number">5</span>,))</span><br><span class="line">    sub_process.start()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>任务执行中..<br>任务执行中..<br>任务执行中..<br>任务执行中..<br>任务执行中..<br>任务执行完成<br><strong>kwargs参数的使用</strong></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 带有参数的任务</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">task</span>(<span class="params">count</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(count):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;任务执行中..&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;任务执行完成&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建子进程</span></span><br><span class="line">    <span class="comment"># kwargs: 表示以字典方式传入参数</span></span><br><span class="line">    sub_process = multiprocessing.Process(target=task, kwargs=&#123;<span class="string">&quot;count&quot;</span>: <span class="number">3</span>&#125;)</span><br><span class="line">    sub_process.start()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>任务执行中..<br>任务执行中..<br>任务执行中..<br>任务执行完成</p>
</blockquote>
</li>
</ul>
<h4 id="进程的注意点"><a href="#进程的注意点" class="headerlink" title="进程的注意点"></a>进程的注意点</h4><p>进程的注意点介绍:</p>
<ol>
<li>进程之间不共享全局变量</li>
<li>主进程会等待所有的子进程执行结束再结束</li>
</ol>
<h5 id="进程之间不共享全局变量"><a href="#进程之间不共享全局变量" class="headerlink" title="进程之间不共享全局变量:"></a>进程之间不共享全局变量:</h5> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 定义全局变量</span></span><br><span class="line">g_list = <span class="built_in">list</span>()</span><br><span class="line"><span class="comment"># 添加数据的任务</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_data</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        g_list.append(i)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;add:&quot;</span>, i)</span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line">    <span class="comment"># 代码执行到此，说明数据添加完成</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;add_data:&quot;</span>, g_list)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_data</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;read_data&quot;</span>, g_list)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建添加数据的子进程</span></span><br><span class="line">    add_data_process = multiprocessing.Process(target=add_data)</span><br><span class="line">    <span class="comment"># 创建读取数据的子进程</span></span><br><span class="line">    read_data_process = multiprocessing.Process(target=read_data)</span><br><span class="line">    <span class="comment"># 启动子进程执行对应的任务</span></span><br><span class="line">    add_data_process.start()</span><br><span class="line">    <span class="comment"># 主进程等待添加数据的子进程执行完成以后程序再继续往下执行，读取数据</span></span><br><span class="line">    add_data_process.join()</span><br><span class="line">    read_data_process.start()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;main:&quot;</span>, g_list)</span><br><span class="line">    <span class="comment"># 总结: 多进程之间不共享全局变量</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>add: 0<br>add: 1<br>add: 2<br>add: 3<br>add: 4<br>add_data: [0, 1, 2, 3, 4]<br>main: []<br>read_data []</p>
</blockquote>
<p>创建子进程会对主进程资源进行拷贝，也就是说子进程是主进程的一个副本，好比是一对双胞胎，之所以进程之间不共享全局变量，是因为操作的不是同一个进程里面的全局变量，只不过不同进程里面的全局变量名字相同而已。</p>
<h5 id="主进程会等待所有的子进程执行结束再结束"><a href="#主进程会等待所有的子进程执行结束再结束" class="headerlink" title="主进程会等待所有的子进程执行结束再结束"></a>主进程会等待所有的子进程执行结束再结束</h5><p>假如我们现在创建一个子进程，这个子进程执行完大概需要2秒钟，现在让主进程执行0.5秒钟就退出程序，查看一下执行结果.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 定义进程所需要执行的任务</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">task</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;任务执行中...&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建子进程</span></span><br><span class="line">    sub_process = multiprocessing.Process(target=task)</span><br><span class="line">    sub_process.start()</span><br><span class="line">    <span class="comment"># 主进程延时0.5秒钟</span></span><br><span class="line">    time.sleep(<span class="number">0.5</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;over&quot;</span>)</span><br><span class="line">    exit()</span><br><span class="line">    <span class="comment"># 总结： 主进程会等待所有的子进程执行完成以后程序再退出</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>任务执行中…<br>任务执行中…<br>任务执行中…<br>over<br>任务执行中…<br>任务执行中…<br>任务执行中…<br>任务执行中…<br>任务执行中…<br>任务执行中…<br>任务执行中…</p>
</blockquote>
<p>主进程会等待所有的子进程执行结束再结束,假如我们就让主进程执行0.5秒钟，子进程就销毁不再执行，那怎么办呢?<br>我们可以设置守护主进程 或者 在主进程退出之前 让子进程销毁</p>
<ul>
<li>守护主进程:守护主进程就是主进程退出子进程销毁不再执行</li>
<li>子进程销毁:子进程执行结束<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 定义进程所需要执行的任务</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">task</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;任务执行中...&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建子进程</span></span><br><span class="line">    sub_process = multiprocessing.Process(target=task)</span><br><span class="line">    <span class="comment"># 设置守护主进程，主进程退出子进程直接销毁，子进程的生命周期依赖与主进程</span></span><br><span class="line">    <span class="comment"># sub_process.daemon = True</span></span><br><span class="line">    sub_process.start()</span><br><span class="line">    time.sleep(<span class="number">0.5</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;over&quot;</span>)</span><br><span class="line">    <span class="comment"># 让子进程销毁</span></span><br><span class="line">    sub_process.terminate()</span><br><span class="line">    exit()</span><br><span class="line">    <span class="comment"># 总结： 主进程会等待所有的子进程执行完成以后程序再退出</span></span><br><span class="line">    <span class="comment"># 如果想要主进程退出子进程销毁，可以设置守护主进程或者在主进程退出之前让子进程销毁</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="多线程的使用"><a href="#多线程的使用" class="headerlink" title="多线程的使用"></a>多线程的使用</h4><h5 id="导入线程模块"><a href="#导入线程模块" class="headerlink" title="导入线程模块"></a>导入线程模块</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#导入线程模块</span></span><br><span class="line"><span class="keyword">import</span> threading</span><br></pre></td></tr></table></figure>
<h5 id="线程类Thread参数说明"><a href="#线程类Thread参数说明" class="headerlink" title="线程类Thread参数说明"></a>线程类Thread参数说明</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Thread([group [, target [, name [, args [, kwargs]]]]])</span><br></pre></td></tr></table></figure>
<ul>
<li>group: 线程组，目前只能使用None</li>
<li>target: 执行的目标任务名</li>
<li>args: 以元组的方式给执行任务传参</li>
<li>kwargs: 以字典方式给执行任务传参</li>
<li>name: 线程名，一般不用设置</li>
</ul>
<h5 id="启动线程"><a href="#启动线程" class="headerlink" title="启动线程"></a>启动线程</h5><ul>
<li>启动线程使用start方法</li>
</ul>
<h5 id="多线程完成多任务"><a href="#多线程完成多任务" class="headerlink" title="多线程完成多任务"></a>多线程完成多任务</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 唱歌任务</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sing</span>():</span></span><br><span class="line">    <span class="comment"># 扩展： 获取当前线程</span></span><br><span class="line">    <span class="comment"># print(&quot;sing当前执行的线程为：&quot;, threading.current_thread())</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;正在唱歌...%d&quot;</span> % i)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line"><span class="comment"># 跳舞任务</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dance</span>():</span></span><br><span class="line">    <span class="comment"># 扩展： 获取当前线程</span></span><br><span class="line">    <span class="comment"># print(&quot;dance当前执行的线程为：&quot;, threading.current_thread())</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;正在跳舞...%d&quot;</span> % i)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 扩展： 获取当前线程</span></span><br><span class="line">    <span class="comment"># print(&quot;当前执行的线程为：&quot;, threading.current_thread())</span></span><br><span class="line">    <span class="comment"># 创建唱歌的线程</span></span><br><span class="line">    <span class="comment"># target： 线程执行的函数名</span></span><br><span class="line">    sing_thread = threading.Thread(target=sing)</span><br><span class="line">    <span class="comment"># 创建跳舞的线程</span></span><br><span class="line">    dance_thread = threading.Thread(target=dance)</span><br><span class="line">    <span class="comment"># 开启线程</span></span><br><span class="line">    sing_thread.start()</span><br><span class="line">    dance_thread.start()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>正在唱歌…0<br>正在跳舞…0<br>正在唱歌…1<br>正在跳舞…1<br>正在唱歌…2<br>正在跳舞…2</p>
</blockquote>
<h4 id="线程执行带有参数的任务"><a href="#线程执行带有参数的任务" class="headerlink" title="线程执行带有参数的任务"></a>线程执行带有参数的任务</h4><h5 id="线程执行带有参数的任务的介绍"><a href="#线程执行带有参数的任务的介绍" class="headerlink" title="线程执行带有参数的任务的介绍"></a>线程执行带有参数的任务的介绍</h5><p>前面我们使用线程执行的任务是没有参数的，假如我们使用线程执行的任务带有参数，如何给函数传参呢?Thread类执行任务并给任务传参数有两种方式:</p>
<ul>
<li>args 表示以元组的方式给执行任务传参</li>
<li>kwargs 表示以字典方式给执行任务传参<br><strong>args参数的使用</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 带有参数的任务</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">task</span>(<span class="params">count</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(count):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;任务执行中..&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;任务执行完成&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建子线程</span></span><br><span class="line">    <span class="comment"># args: 以元组的方式给任务传入参数</span></span><br><span class="line">    sub_thread = threading.Thread(target=task, args=(<span class="number">5</span>,))</span><br><span class="line">    sub_thread.start()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>任务执行中..<br>任务执行中..<br>任务执行中..<br>任务执行中..<br>任务执行中..<br>任务执行完成<br><strong>kwargs参数的使用</strong></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 带有参数的任务</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">task</span>(<span class="params">count</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(count):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;任务执行中..&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;任务执行完成&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建子线程</span></span><br><span class="line">    <span class="comment"># kwargs: 表示以字典方式传入参数</span></span><br><span class="line">    sub_thread = threading.Thread(target=task, kwargs=&#123;<span class="string">&quot;count&quot;</span>: <span class="number">3</span>&#125;)</span><br><span class="line">    sub_thread.start()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>任务执行中..<br>任务执行中..<br>任务执行中..<br>任务执行完成</p>
</blockquote>
</li>
</ul>
<h4 id="线程的注意点"><a href="#线程的注意点" class="headerlink" title="线程的注意点"></a>线程的注意点</h4><ul>
<li>线程之间执行是无序的</li>
<li>主线程会等待所有的子线程执行结束再结束</li>
<li>线程之间共享全局变量</li>
<li>线程之间共享全局变量数据出现错误问题</li>
</ul>
<h5 id="线程之间执行是无序的"><a href="#线程之间执行是无序的" class="headerlink" title="线程之间执行是无序的"></a>线程之间执行是无序的</h5><ul>
<li>线程之间执行是无序的，它是由cpu调度决定的 ，cpu调度哪个线程，哪个线程就先执行，没有调度的线程不能执行。</li>
<li>进程之间执行也是无序的，它是由操作系统调度决定的，操作系统调度哪个进程，哪个进程就先执行，没有调度的进程不能执行。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">task</span>():</span></span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;当前线程:&quot;</span>, threading.current_thread().name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">   <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">       sub_thread = threading.Thread(target=task)</span><br><span class="line">       sub_thread.start()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>当前线程: Thread-1<br>当前线程: Thread-2<br>当前线程: Thread-4<br>当前线程: Thread-5<br>当前线程: Thread-3</p>
</blockquote>
</li>
</ul>
<h5 id="主线程会等待所有的子线程执行结束再结束"><a href="#主线程会等待所有的子线程执行结束再结束" class="headerlink" title="主线程会等待所有的子线程执行结束再结束"></a>主线程会等待所有的子线程执行结束再结束</h5><p>假如我们现在创建一个子线程，这个子线程执行完大概需要2.5秒钟，现在让主线程执行1秒钟就退出程序，查看一下执行结果</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 测试主线程是否会等待子线程执行完成以后程序再退出</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_info</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;test:&quot;</span>, i)</span><br><span class="line">        time.sleep(<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    sub_thread = threading.Thread(target=show_info)</span><br><span class="line">    sub_thread.start()</span><br><span class="line">    <span class="comment"># 主线程延时1秒</span></span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;over&quot;</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>test: 0<br>test: 1<br>over<br>test: 2<br>test: 3<br>test: 4<br> 主线程会等待所有的子线程执行结束再结束,假如我们就让主线程执行1秒钟，子线程就销毁不再执行，那怎么办呢?</p>
</blockquote>
<p>我们可以设置守护主线程<br>守护主线程:守护主线程就是主线程退出子线程销毁不再执行<br>设置守护主线程有两种方式：</p>
<ul>
<li>threading.Thread(target&#x3D;show_info, daemon&#x3D;True)</li>
<li>线程对象.setDaemon(True)<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 测试主线程是否会等待子线程执行完成以后程序再退出</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_info</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;test:&quot;</span>, i)</span><br><span class="line">        time.sleep(<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建子线程守护主线程 </span></span><br><span class="line">    <span class="comment"># daemon=True 守护主线程</span></span><br><span class="line">    <span class="comment"># 守护主线程方式1</span></span><br><span class="line">    sub_thread = threading.Thread(target=show_info, daemon=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># 设置成为守护主线程，主线程退出后子线程直接销毁不再执行子线程的代码</span></span><br><span class="line">    <span class="comment"># 守护主线程方式2</span></span><br><span class="line">    <span class="comment"># sub_thread.setDaemon(True)</span></span><br><span class="line">    sub_thread.start()</span><br><span class="line">    <span class="comment"># 主线程延时1秒</span></span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;over&quot;</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>test: 0<br>test: 1<br>over</p>
</blockquote>
</li>
</ul>
<h5 id="线程之间共享全局变量"><a href="#线程之间共享全局变量" class="headerlink" title="线程之间共享全局变量"></a>线程之间共享全局变量</h5><p>需求:</p>
<p>定义一个列表类型的全局变量<br>创建两个子线程分别执行向全局变量添加数据的任务和向全局变量读取数据的任务<br>查看线程之间是否共享全局变量数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 定义全局变量</span></span><br><span class="line">my_list = <span class="built_in">list</span>()</span><br><span class="line"><span class="comment"># 写入数据任务</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write_data</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        my_list.append(i)</span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;write_data:&quot;</span>, my_list)</span><br><span class="line"><span class="comment"># 读取数据任务</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_data</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;read_data:&quot;</span>, my_list)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建写入数据的线程</span></span><br><span class="line">    write_thread = threading.Thread(target=write_data)</span><br><span class="line">    <span class="comment"># 创建读取数据的线程</span></span><br><span class="line">    read_thread = threading.Thread(target=read_data)</span><br><span class="line">    write_thread.start()</span><br><span class="line">    <span class="comment"># 延时</span></span><br><span class="line">    <span class="comment"># time.sleep(1)</span></span><br><span class="line">    <span class="comment"># 主线程等待写入线程执行完成以后代码在继续往下执行</span></span><br><span class="line">    write_thread.join()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;开始读取数据啦&quot;</span>)</span><br><span class="line">    read_thread.start()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>write_data: [0, 1, 2, 3, 4]<br>开始读取数据啦<br>read_data: [0, 1, 2, 3, 4]</p>
</blockquote>
<h5 id="线程之间共享全局变量数据出现错误问题"><a href="#线程之间共享全局变量数据出现错误问题" class="headerlink" title="线程之间共享全局变量数据出现错误问题"></a>线程之间共享全局变量数据出现错误问题</h5><p>需求:</p>
<ul>
<li>定义两个函数，实现循环100万次，每循环一次给全局变量加1</li>
<li>创建两个子线程执行对应的两个函数，查看计算后的结果<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="comment"># 定义全局变量</span></span><br><span class="line">g_num = <span class="number">0</span></span><br><span class="line"><span class="comment"># 循环一次给全局变量加1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_num1</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000000</span>):</span><br><span class="line">        <span class="keyword">global</span> g_num</span><br><span class="line">        g_num += <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;sum1:&quot;</span>, g_num)</span><br><span class="line"><span class="comment"># 循环一次给全局变量加1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_num2</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000000</span>):</span><br><span class="line">        <span class="keyword">global</span> g_num</span><br><span class="line">        g_num += <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;sum2:&quot;</span>, g_num)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建两个线程</span></span><br><span class="line">    first_thread = threading.Thread(target=sum_num1)</span><br><span class="line">    second_thread = threading.Thread(target=sum_num2)</span><br><span class="line">    <span class="comment"># 启动线程</span></span><br><span class="line">    first_thread.start()</span><br><span class="line">    <span class="comment"># 启动线程</span></span><br><span class="line">    second_thread.start()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>sum1: 1210949<br>sum2: 1496035</p>
</blockquote>
</li>
</ul>
<p>多线程同时对全局变量操作数据发生了错误,错误分析:</p>
<p>两个线程first_thread和second_thread都要对全局变量g_num(默认是0)进行加1运算，但是由于是多线程同时操作，有可能出现下面情况：</p>
<ul>
<li>在g_num&#x3D;0时，first_thread取得g_num&#x3D;0。此时系统把first_thread调度为”sleeping”状态，把second_thread转换为”running”状态，t2也获得g_num&#x3D;0</li>
<li>然后second_thread对得到的值进行加1并赋给g_num，使得g_num&#x3D;1</li>
<li>然后系统又把second_thread调度为”sleeping”，把first_thread转为”running”。线程t1又把它之前得到的0加1后赋值给g_num。</li>
<li>这样导致虽然first_thread和first_thread都对g_num加1，但结果仍然是g_num&#x3D;1<br><code>全局变量数据错误的解决办法:</code></li>
</ul>
<p>线程同步: 保证同一时刻只能有一个线程去操作全局变量 同步: 就是协同步调，按预定的先后次序进行运行。如:你说完，我再说, 好比现实生活中的对讲机</p>
<p>线程同步的方式:</p>
<ul>
<li>线程等待(join)</li>
<li>互斥锁<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="comment"># 定义全局变量</span></span><br><span class="line">g_num = <span class="number">0</span></span><br><span class="line"><span class="comment"># 循环1000000次每次给全局变量加1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_num1</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000000</span>):</span><br><span class="line">        <span class="keyword">global</span> g_num</span><br><span class="line">        g_num += <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;sum1:&quot;</span>, g_num)</span><br><span class="line"><span class="comment"># 循环1000000次每次给全局变量加1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_num2</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000000</span>):</span><br><span class="line">        <span class="keyword">global</span> g_num</span><br><span class="line">        g_num += <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;sum2:&quot;</span>, g_num)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建两个线程</span></span><br><span class="line">    first_thread = threading.Thread(target=sum_num1)</span><br><span class="line">    second_thread = threading.Thread(target=sum_num2)</span><br><span class="line">    <span class="comment"># 启动线程</span></span><br><span class="line">    first_thread.start()</span><br><span class="line">    <span class="comment"># 主线程等待第一个线程执行完成以后代码再继续执行，让其执行第二个线程</span></span><br><span class="line">    <span class="comment"># 线程同步： 一个任务执行完成以后另外一个任务才能执行，同一个时刻只有一个任务在执行</span></span><br><span class="line">    first_thread.join()</span><br><span class="line">    <span class="comment"># 启动线程</span></span><br><span class="line">    second_thread.start()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>sum1: 1000000<br>sum2: 2000000</p>
</blockquote>
</li>
</ul>
<h4 id="互斥锁"><a href="#互斥锁" class="headerlink" title="互斥锁"></a>互斥锁</h4><p>互斥锁: 对共享数据进行锁定，保证同一时刻只能有一个线程去操作。<br>注意:互斥锁是多个线程一起去抢，抢到锁的线程先执行，没有抢到锁的线程需要等待，等互斥锁使用完释放后，其它等待的线程再去抢这个锁。</p>
<h5 id="互斥锁的使用"><a href="#互斥锁的使用" class="headerlink" title="互斥锁的使用"></a>互斥锁的使用</h5><p>互斥锁使用步骤:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建锁</span></span><br><span class="line">mutex = threading.Lock()</span><br><span class="line"><span class="comment"># 上锁</span></span><br><span class="line">mutex.acquire()</span><br><span class="line">...这里编写代码能保证同一时刻只能有一个线程去操作, 对共享数据进行锁定...</span><br><span class="line"><span class="comment"># 释放锁</span></span><br><span class="line">mutex.release()</span><br></pre></td></tr></table></figure>
<p>注意点:<br>acquire和release方法之间的代码同一时刻只能有一个线程去操作<br>如果在调用acquire方法的时候 其他线程已经使用了这个互斥锁，那么此时acquire方法会堵塞，直到这个互斥锁释放后才能再次上锁。</p>
<h5 id="使用互斥锁完成2个线程对同一个全局变量各加100万次的操作"><a href="#使用互斥锁完成2个线程对同一个全局变量各加100万次的操作" class="headerlink" title="使用互斥锁完成2个线程对同一个全局变量各加100万次的操作"></a>使用互斥锁完成2个线程对同一个全局变量各加100万次的操作</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="comment"># 定义全局变量</span></span><br><span class="line">g_num = <span class="number">0</span></span><br><span class="line"><span class="comment"># 创建全局互斥锁</span></span><br><span class="line">lock = threading.Lock()</span><br><span class="line"><span class="comment"># 循环一次给全局变量加1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_num1</span>():</span></span><br><span class="line">    <span class="comment"># 上锁</span></span><br><span class="line">    lock.acquire()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000000</span>):</span><br><span class="line">        <span class="keyword">global</span> g_num</span><br><span class="line">        g_num += <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;sum1:&quot;</span>, g_num)</span><br><span class="line">    <span class="comment"># 释放锁</span></span><br><span class="line">    lock.release()</span><br><span class="line"><span class="comment"># 循环一次给全局变量加1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_num2</span>():</span></span><br><span class="line">    <span class="comment"># 上锁</span></span><br><span class="line">    lock.acquire()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000000</span>):</span><br><span class="line">        <span class="keyword">global</span> g_num</span><br><span class="line">        g_num += <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;sum2:&quot;</span>, g_num)</span><br><span class="line">    <span class="comment"># 释放锁</span></span><br><span class="line">    lock.release()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建两个线程</span></span><br><span class="line">    first_thread = threading.Thread(target=sum_num1)</span><br><span class="line">    second_thread = threading.Thread(target=sum_num2)</span><br><span class="line">    <span class="comment"># 启动线程</span></span><br><span class="line">    first_thread.start()</span><br><span class="line">    second_thread.start()</span><br><span class="line">    <span class="comment"># 提示：加上互斥锁，那个线程抢到这个锁我们决定不了，那线程抢到锁那个线程先执行，没有抢到的线程需要等待</span></span><br><span class="line">    <span class="comment"># 加上互斥锁多任务瞬间变成单任务，性能会下降，也就是说同一时刻只能有一个线程去执行</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>sum1: 1000000<br>sum2: 2000000</p>
</blockquote>
<p>说明:通过执行结果可以地址互斥锁能够保证多个线程访问共享数据不会出现数据错误问题</p>
<h4 id="死锁"><a href="#死锁" class="headerlink" title="死锁:"></a>死锁:</h4><p>死锁: 一直等待对方释放锁的情景就是死锁</p>
<h5 id="死锁示例"><a href="#死锁示例" class="headerlink" title="死锁示例"></a>死锁示例</h5><p>需求:根据下标在列表中取值, 保证同一时刻只能有一个线程去取值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 创建互斥锁</span></span><br><span class="line">lock = threading.Lock()</span><br><span class="line"><span class="comment"># 根据下标去取值， 保证同一时刻只能有一个线程去取值</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_value</span>(<span class="params">index</span>):</span></span><br><span class="line">    <span class="comment"># 上锁</span></span><br><span class="line">    lock.acquire()</span><br><span class="line">    <span class="built_in">print</span>(threading.current_thread())</span><br><span class="line">    my_list = [<span class="number">3</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">1</span>]</span><br><span class="line">    <span class="comment"># 判断下标释放越界</span></span><br><span class="line">    <span class="keyword">if</span> index &gt;= <span class="built_in">len</span>(my_list):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;下标越界:&quot;</span>, index)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    value = my_list[index]</span><br><span class="line">    <span class="built_in">print</span>(value)</span><br><span class="line">    time.sleep(<span class="number">0.2</span>)</span><br><span class="line">    <span class="comment"># 释放锁</span></span><br><span class="line">    lock.release()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 模拟大量线程去执行取值操作</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">30</span>):</span><br><span class="line">        sub_thread = threading.Thread(target=get_value, args=(i,))</span><br><span class="line">        sub_thread.start()</span><br></pre></td></tr></table></figure>
<h5 id="避免死锁"><a href="#避免死锁" class="headerlink" title="避免死锁"></a>避免死锁</h5><p>&#x3D;&#x3D;在合适的地方释放锁-</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 创建互斥锁</span></span><br><span class="line">lock = threading.Lock()</span><br><span class="line"><span class="comment"># 根据下标去取值， 保证同一时刻只能有一个线程去取值</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_value</span>(<span class="params">index</span>):</span></span><br><span class="line">    <span class="comment"># 上锁</span></span><br><span class="line">    lock.acquire()</span><br><span class="line">    <span class="built_in">print</span>(threading.current_thread())</span><br><span class="line">    my_list = [<span class="number">3</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">if</span> index &gt;= <span class="built_in">len</span>(my_list):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;下标越界:&quot;</span>, index)</span><br><span class="line">        <span class="comment"># 当下标越界需要释放锁，让后面的线程还可以取值</span></span><br><span class="line">        lock.release()</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    value = my_list[index]</span><br><span class="line">    <span class="built_in">print</span>(value)</span><br><span class="line">    time.sleep(<span class="number">0.2</span>)</span><br><span class="line">    <span class="comment"># 释放锁</span></span><br><span class="line">    lock.release()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 模拟大量线程去执行取值操作</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">30</span>):</span><br><span class="line">        sub_thread = threading.Thread(target=get_value, args=(i,))</span><br><span class="line">        sub_thread.start()</span><br></pre></td></tr></table></figure>
<h4 id="进程和线程的对比的三个方向"><a href="#进程和线程的对比的三个方向" class="headerlink" title="进程和线程的对比的三个方向"></a>进程和线程的对比的三个方向</h4><ul>
<li>&#x3D;&#x3D;关系对比&#x3D;&#x3D;<ul>
<li>线程是依附在进程里面的，没有进程就没有线程。</li>
<li>一个进程默认提供一条线程，进程可以创建多个线程。</li>
</ul>
</li>
<li>&#x3D;&#x3D;区别对比&#x3D;&#x3D;<ul>
<li>进程之间不共享全局变量， </li>
<li>线程之间共享全局变量，但是要注意资源竞争的问题，解决办法: 互斥锁或者线程同步</li>
<li>创建进程的资源开销要比创建线程的资源开销要大</li>
<li>进程是操作系统资源分配的基本单位，线程是CPU调度的基本单位</li>
<li>线程不能够独立执行，必须依存在进程中</li>
<li>多进程开发比单进程多线程开发稳定性要强</li>
</ul>
</li>
<li>&#x3D;&#x3D;优缺点对比&#x3D;&#x3D;<ul>
<li>进程优缺点:<ul>
<li>优点：可以用多核</li>
<li>缺点：资源开销大</li>
</ul>
</li>
<li>线程优缺点:<ul>
<li>优点：资源开销小</li>
<li>缺点：不能使用多核</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="网络编程"><a href="#网络编程" class="headerlink" title="网络编程"></a>网络编程</h3><h4 id="socket-的概念"><a href="#socket-的概念" class="headerlink" title="socket 的概念"></a>socket 的概念</h4><p>socket (简称 套接字) 是进程之间通信一个工具，好比现实生活中的插座，所有的家用电器要想工作都是基于插座进行，进程之间想要进行网络通信需要基于这个 socket。</p>
<ul>
<li>socket 的作用：负责进程之间的网络数据传输，好比数据的搬运工。</li>
<li>socket 使用场景：不夸张的说，只要跟网络相关的应用程序或者软件都使用到了 socket 。</li>
</ul>
<h4 id="TCP-网络应用程序开发流程"><a href="#TCP-网络应用程序开发流程" class="headerlink" title="TCP 网络应用程序开发流程"></a>TCP 网络应用程序开发流程</h4><h5 id="TCP-网络应用程序开发流程的介绍"><a href="#TCP-网络应用程序开发流程的介绍" class="headerlink" title="TCP 网络应用程序开发流程的介绍"></a>TCP 网络应用程序开发流程的介绍</h5><p>TCP 网络应用程序开发分为:</p>
<ul>
<li>TCP 客户端程序开发</li>
<li>TCP 服务端程序开发<blockquote>
<p>说明:客户端程序是指运行在用户设备上的程序 服务端程序是指运行在服务器设备上的程序，专门为客户端提供数据服务。<br><img src="https://img-blog.csdnimg.cn/20210413195813208.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Nhbmhld3V5YW5n,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
</blockquote>
</li>
</ul>
<h5 id="TCP-客户端程序开发流程的介绍"><a href="#TCP-客户端程序开发流程的介绍" class="headerlink" title="TCP 客户端程序开发流程的介绍"></a>TCP 客户端程序开发流程的介绍</h5><p>步骤说明:</p>
<ul>
<li>创建客户端套接字对象</li>
<li>和服务端套接字建立连接</li>
<li>发送数据</li>
<li>接收数据</li>
<li>关闭客户端套接字</li>
</ul>
<h5 id="TCP-客户端程序开发"><a href="#TCP-客户端程序开发" class="headerlink" title="TCP 客户端程序开发"></a>TCP 客户端程序开发</h5><h5 id="导入-socket-模块-import-socket"><a href="#导入-socket-模块-import-socket" class="headerlink" title="导入 socket 模块 import socket"></a>导入 socket 模块 import socket</h5><h5 id="创建客户端-socket-对象-socket-socket-AddressFamily-Type"><a href="#创建客户端-socket-对象-socket-socket-AddressFamily-Type" class="headerlink" title="创建客户端 socket 对象 socket.socket(AddressFamily, Type)"></a>创建客户端 socket 对象 socket.socket(AddressFamily, Type)</h5><p>&#x3D;&#x3D;参数说明:&#x3D;&#x3D;</p>
<ul>
<li>AddressFamily 表示IP地址类型, 分为TPv4和IPv6</li>
<li>Type 表示传输协议类型<br>&#x3D;&#x3D;方法说明:&#x3D;&#x3D;</li>
<li>connect((host, port)) 表示和服务端套接字建立连接, host是服务器ip地址，port是应用程序的端口号</li>
<li>send(data) 表示发送数据，data是二进制数据</li>
<li>recv(buffersize) 表示接收数据, buffersize是每次接收数据的长度<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建tcp客户端套接字</span></span><br><span class="line">    <span class="comment"># 1. AF_INET：表示ipv4</span></span><br><span class="line">    <span class="comment"># 2. SOCK_STREAM: tcp传输协议</span></span><br><span class="line">    tcp_client_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">    <span class="comment"># 和服务端应用程序建立连接</span></span><br><span class="line">    tcp_client_socket.connect((<span class="string">&quot;192.168.131.62&quot;</span>, <span class="number">8080</span>))</span><br><span class="line">    <span class="comment"># 代码执行到此，说明连接建立成功</span></span><br><span class="line">    <span class="comment"># 准备发送的数据</span></span><br><span class="line">    send_data = <span class="string">&quot;你好服务端，我是客户端小黑!&quot;</span>.encode(<span class="string">&quot;gbk&quot;</span>)</span><br><span class="line">    <span class="comment"># 发送数据</span></span><br><span class="line">    tcp_client_socket.send(send_data)</span><br><span class="line">    <span class="comment"># 接收数据, 这次接收的数据最大字节数是1024</span></span><br><span class="line">    recv_data = tcp_client_socket.recv(<span class="number">1024</span>)</span><br><span class="line">    <span class="comment"># 返回的直接是服务端程序发送的二进制数据</span></span><br><span class="line">    <span class="built_in">print</span>(recv_data)</span><br><span class="line">    <span class="comment"># 对数据进行解码</span></span><br><span class="line">    recv_content = recv_data.decode(<span class="string">&quot;gbk&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;接收服务端的数据为:&quot;</span>, recv_content)</span><br><span class="line">    <span class="comment"># 关闭套接字</span></span><br><span class="line">    tcp_client_socket.close()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>b’hello’<br>接收服务端的数据为: hello</p>
</blockquote>
</li>
</ul>
<h5 id="TCP-服务端程序开发流程的介绍"><a href="#TCP-服务端程序开发流程的介绍" class="headerlink" title="TCP 服务端程序开发流程的介绍"></a>TCP 服务端程序开发流程的介绍</h5><p>步骤说明:</p>
<ul>
<li>创建服务端端套接字对象</li>
<li>绑定端口号</li>
<li>设置监听</li>
<li>等待接受客户端的连接请求</li>
<li>接收数据</li>
<li>发送数据</li>
<li>关闭套接字</li>
</ul>
<h5 id="TCP服务端程序开发"><a href="#TCP服务端程序开发" class="headerlink" title="TCP服务端程序开发"></a>TCP服务端程序开发</h5><h5 id="导入-socket-模块-import-socket-1"><a href="#导入-socket-模块-import-socket-1" class="headerlink" title="导入 socket 模块  import socket"></a>导入 socket 模块  import socket</h5><h5 id="创建服务端-socket-对象-socket-socket-AddressFamily-Type"><a href="#创建服务端-socket-对象-socket-socket-AddressFamily-Type" class="headerlink" title="创建服务端 socket 对象    socket.socket(AddressFamily, Type)"></a>创建服务端 socket 对象    socket.socket(AddressFamily, Type)</h5><p>&#x3D;&#x3D;参数说明:&#x3D;&#x3D;</p>
<ul>
<li>AddressFamily 表示IP地址类型, 分为TPv4和IPv6</li>
<li>Type 表示传输协议类型<br>&#x3D;&#x3D;方法说明:&#x3D;&#x3D;</li>
<li>bind((host, port)) 表示绑定端口号, host 是 ip 地址，port 是端口号，ip 地址一般不指定，表示本机的任何一个ip地址都可以。</li>
<li>listen (backlog) 表示设置监听，backlog参数表示最大等待建立连接的个数。</li>
<li>accept() 表示等待接受客户端的连接请求</li>
<li>send(data) 表示发送数据，data 是二进制数据</li>
<li>crecv(buffersize) 表示接收数据, buffersize 是每次接收数据的长度<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建tcp服务端套接字</span></span><br><span class="line">    tcp_server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">    <span class="comment"># 设置端口号复用，让程序退出端口号立即释放</span></span><br><span class="line">    tcp_server_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="literal">True</span>) </span><br><span class="line">    <span class="comment"># 给程序绑定端口号</span></span><br><span class="line">    tcp_server_socket.bind((<span class="string">&quot;&quot;</span>, <span class="number">8989</span>))</span><br><span class="line">    <span class="comment"># 设置监听</span></span><br><span class="line">    <span class="comment"># 128:最大等待建立连接的个数， 提示： 目前是单任务的服务端，同一时刻只能服务与一个客户端，后续使用多任务能够让服务端同时服务与多个客户端，</span></span><br><span class="line">    <span class="comment"># 不需要让客户端进行等待建立连接</span></span><br><span class="line">    <span class="comment"># listen后的这个套接字只负责接收客户端连接请求，不能收发消息，收发消息使用返回的这个新套接字来完成</span></span><br><span class="line">    tcp_server_socket.listen(<span class="number">128</span>)</span><br><span class="line">    <span class="comment"># 等待客户端建立连接的请求, 只有客户端和服务端建立连接成功代码才会解阻塞，代码才能继续往下执行</span></span><br><span class="line">    <span class="comment"># 1. 专门和客户端通信的套接字： service_client_socket</span></span><br><span class="line">    <span class="comment"># 2. 客户端的ip地址和端口号： ip_port</span></span><br><span class="line">    service_client_socket, ip_port = tcp_server_socket.accept()</span><br><span class="line">    <span class="comment"># 代码执行到此说明连接建立成功</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;客户端的ip地址和端口号:&quot;</span>, ip_port)</span><br><span class="line">    <span class="comment"># 接收客户端发送的数据, 这次接收数据的最大字节数是1024</span></span><br><span class="line">    recv_data = service_client_socket.recv(<span class="number">1024</span>)</span><br><span class="line">    <span class="comment"># 获取数据的长度</span></span><br><span class="line">    recv_data_length = <span class="built_in">len</span>(recv_data)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;接收数据的长度为:&quot;</span>, recv_data_length)</span><br><span class="line">    <span class="comment"># 对二进制数据进行解码</span></span><br><span class="line">    recv_content = recv_data.decode(<span class="string">&quot;gbk&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;接收客户端的数据为:&quot;</span>, recv_content)</span><br><span class="line">    <span class="comment"># 准备发送的数据</span></span><br><span class="line">    send_data = <span class="string">&quot;ok, 问题正在处理中...&quot;</span>.encode(<span class="string">&quot;gbk&quot;</span>)</span><br><span class="line">    <span class="comment"># 发送数据给客户端</span></span><br><span class="line">    service_client_socket.send(send_data)</span><br><span class="line">    <span class="comment"># 关闭服务与客户端的套接字， 终止和客户端通信的服务</span></span><br><span class="line">    service_client_socket.close()</span><br><span class="line">    <span class="comment"># 关闭服务端的套接字, 终止和客户端提供建立连接请求的服务</span></span><br><span class="line">    tcp_server_socket.close()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>客户端的ip地址和端口号: (‘172.16.47.209’, 52472)<br>接收数据的长度为: 5<br>接收客户端的数据为: hello</p>
</blockquote>
</li>
</ul>
<p>说明:当客户端和服务端建立连接后，服务端程序退出后端口号不会立即释放，需要等待大概1-2分钟。<br>解决办法有两种:</p>
<ul>
<li>更换服务端端口号</li>
<li>设置端口号复用(推荐大家使用)，也就是说让服务端程序退出后端口号立即释放。<br>设置端口号复用的代码如下:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 参数1: 表示当前套接字</span></span><br><span class="line"><span class="comment"># 参数2: 设置端口号复用选项</span></span><br><span class="line"><span class="comment"># 参数3: 设置端口号复用选项对应的值</span></span><br><span class="line">tcp_server_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="literal">True</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="TCP网络应用程序的注意点"><a href="#TCP网络应用程序的注意点" class="headerlink" title="TCP网络应用程序的注意点"></a>TCP网络应用程序的注意点</h4><ul>
<li>当 TCP 客户端程序想要和 TCP 服务端程序进行通信的时候必须要先建立连接</li>
<li>TCP 客户端程序一般不需要绑定端口号，因为客户端是主动发起建立连接的。</li>
<li>TCP 服务端程序必须绑定端口号，否则客户端找不到这个 TCP 服务端程序。</li>
<li>listen 后的套接字是被动套接字，只负责接收新的客户端的连接请求，不能收发消息。</li>
<li>当 TCP 客户端程序和 TCP 服务端程序连接成功后， TCP 服务器端程序会产生一个新的套接字，收发客户端消息使用该套接字。</li>
<li>关闭 accept 返回的套接字意味着和这个客户端已经通信完毕。</li>
<li>关闭 listen 后的套接字意味着服务端的套接字关闭了，会导致新的客户端不能连接服务端，但是之前已经接成功的客户端还能正常通信。</li>
<li>当客户端的套接字调用 close 后，服务器端的 recv 会解阻塞，返回的数据长度为0，服务端可以通过返回数据的长度来判断客户端是否已+ 经下线，反之服务端关闭套接字，客户端的 recv 也会解阻塞，返回的数据长度也为0。</li>
</ul>
<h4 id="案例-多任务版TCP服务端程序开发"><a href="#案例-多任务版TCP服务端程序开发" class="headerlink" title="案例-多任务版TCP服务端程序开发"></a>案例-多任务版TCP服务端程序开发</h4><h5 id="具体实现步骤"><a href="#具体实现步骤" class="headerlink" title="具体实现步骤"></a>具体实现步骤</h5><ul>
<li>编写一个TCP服务端程序，循环等待接受客户端的连接请求</li>
<li>当客户端和服务端建立连接成功，创建子线程，使用子线程专门处理客户端的请求，防止主线程阻塞</li>
<li>把创建的子线程设置成为守护主线程，防止主线程无法退出。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 处理客户端的请求操作</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handle_client_request</span>(<span class="params">service_client_socket, ip_port</span>):</span></span><br><span class="line">    <span class="comment"># 循环接收客户端发送的数据</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="comment"># 接收客户端发送的数据</span></span><br><span class="line">        recv_data = service_client_socket.recv(<span class="number">1024</span>)</span><br><span class="line">        <span class="comment"># 容器类型判断是否有数据可以直接使用if语句进行判断，如果容器类型里面有数据表示条件成立，否则条件失败</span></span><br><span class="line">        <span class="comment"># 容器类型: 列表、字典、元组、字符串、set、range、二进制数据</span></span><br><span class="line">        <span class="keyword">if</span> recv_data:</span><br><span class="line">            <span class="built_in">print</span>(recv_data.decode(<span class="string">&quot;gbk&quot;</span>), ip_port)</span><br><span class="line">            <span class="comment"># 回复</span></span><br><span class="line">            service_client_socket.send(<span class="string">&quot;ok，问题正在处理中...&quot;</span>.encode(<span class="string">&quot;gbk&quot;</span>))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;客户端下线了:&quot;</span>, ip_port)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="comment"># 终止和客户端进行通信</span></span><br><span class="line">    service_client_socket.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建tcp服务端套接字</span></span><br><span class="line">    tcp_server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">    <span class="comment"># 设置端口号复用，让程序退出端口号立即释放</span></span><br><span class="line">    tcp_server_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># 绑定端口号</span></span><br><span class="line">    tcp_server_socket.bind((<span class="string">&quot;&quot;</span>, <span class="number">9090</span>))</span><br><span class="line">    <span class="comment"># 设置监听, listen后的套接字是被动套接字，只负责接收客户端的连接请求</span></span><br><span class="line">    tcp_server_socket.listen(<span class="number">128</span>)</span><br><span class="line">    <span class="comment"># 循环等待接收客户端的连接请求</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="comment"># 等待接收客户端的连接请求</span></span><br><span class="line">        service_client_socket, ip_port = tcp_server_socket.accept()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;客户端连接成功:&quot;</span>, ip_port)</span><br><span class="line">        <span class="comment"># 当客户端和服务端建立连接成功以后，需要创建一个子线程，不同子线程负责接收不同客户端的消息</span></span><br><span class="line">        sub_thread = threading.Thread(target=handle_client_request, args=(service_client_socket, ip_port))</span><br><span class="line">        <span class="comment"># 设置守护主线程</span></span><br><span class="line">        sub_thread.setDaemon(<span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># 启动子线程</span></span><br><span class="line">        sub_thread.start()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># tcp服务端套接字可以不需要关闭，因为服务端程序需要一直运行</span></span><br><span class="line">    <span class="comment"># tcp_server_socket.close()</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>客户端连接成功: (‘172.16.47.209’, 51528)<br>客户端连接成功: (‘172.16.47.209’, 51714)<br>hello1 (‘172.16.47.209’, 51528)<br>hello2 (‘172.16.47.209’, 51714)</p>
</blockquote>
<h4 id="socket之send和recv原理剖析"><a href="#socket之send和recv原理剖析" class="headerlink" title="socket之send和recv原理剖析"></a>socket之send和recv原理剖析</h4><h5 id="1-认识TCP-socket的发送和接收缓冲区"><a href="#1-认识TCP-socket的发送和接收缓冲区" class="headerlink" title="1. 认识TCP socket的发送和接收缓冲区"></a>1. 认识TCP socket的发送和接收缓冲区</h5><p>当创建一个TCP socket对象的时候会有一个发送缓冲区和一个接收缓冲区，这个发送和接收缓冲区指的就是内存中的一片空间。</p>
<h5 id="2-send原理剖析"><a href="#2-send原理剖析" class="headerlink" title="2. send原理剖析"></a>2. send原理剖析</h5><p>send是不是直接把数据发给服务端?<br>不是，要想发数据，必须得通过网卡发送数据，应用程序是无法直接通过网卡发送数据的，它需要调用操作系统接口，也就是说，应用程序把发送的数据先写入到发送缓冲区(内存中的一片空间)，再由操作系统控制网卡把发送缓冲区的数据发送给服务端网卡 。</p>
<h5 id="3-recv原理剖析"><a href="#3-recv原理剖析" class="headerlink" title="3. recv原理剖析"></a>3. recv原理剖析</h5><p>recv是不是直接从客户端接收数据?<br>不是，应用软件是无法直接通过网卡接收数据的，它需要调用操作系统接口，由操作系统通过网卡接收数据，把接收的数据写入到接收缓冲区(内存中的一片空间)，应用程序再从接收缓存区获取客户端发送的数据。</p>
<h5 id="send和recv原理剖析图"><a href="#send和recv原理剖析图" class="headerlink" title="send和recv原理剖析图"></a>send和recv原理剖析图</h5><p><img src="https://img-blog.csdnimg.cn/20210413202747304.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Nhbmhld3V5YW5n,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>说明:</p>
<ul>
<li>发送数据是发送到发送缓冲区</li>
<li>接收数据是从接收缓冲区 获取</li>
</ul>
<h3 id="Python静态Web服务器"><a href="#Python静态Web服务器" class="headerlink" title="Python静态Web服务器"></a>Python静态Web服务器</h3><h4 id="搭建Python自带静态Web服务器"><a href="#搭建Python自带静态Web服务器" class="headerlink" title="搭建Python自带静态Web服务器"></a>搭建Python自带静态Web服务器</h4><h5 id="如何搭建Python自带的静态Web服务器"><a href="#如何搭建Python自带的静态Web服务器" class="headerlink" title="如何搭建Python自带的静态Web服务器"></a>如何搭建Python自带的静态Web服务器</h5><p>搭建Python自带的静态Web服务器使用 <code>python3 -m http.server 端口号</code>, 端口号不指定默认是8000<br>访问搭建的静态Web服务器 <code>IP:端口</code><br><img src="https://img-blog.csdnimg.cn/20210413203447540.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Nhbmhld3V5YW5n,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h4 id="返回固定页面数据"><a href="#返回固定页面数据" class="headerlink" title="返回固定页面数据"></a>返回固定页面数据</h4><h5 id="开发自己的静态Web服务器"><a href="#开发自己的静态Web服务器" class="headerlink" title="开发自己的静态Web服务器"></a>开发自己的静态Web服务器</h5><p>实现步骤:</p>
<ul>
<li>编写一个TCP服务端程序<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tcp_server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line"><span class="comment"># 循环接受客户端的连接请求</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    conn_socket, ip_port = tcp_server_socket.accept()</span><br></pre></td></tr></table></figure></li>
<li>获取浏览器发送的http请求报文数据<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">client_request_data = conn_socket.recv(<span class="number">4096</span>)</span><br></pre></td></tr></table></figure></li>
<li>读取固定页面数据，把页面数据组装成HTTP响应报文数据发送给浏览器。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">response_data = (response_line + response_header + <span class="string">&quot;\r\n&quot;</span>).encode(<span class="string">&quot;utf-8&quot;</span>) + response_body</span><br><span class="line">conn_socket.send(response_data)</span><br></pre></td></tr></table></figure></li>
</ul>
<p>HTTP响应报文数据发送完成以后，关闭服务于客户端的套接字。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conn_socket.close()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># 创建tcp服务端套接字</span></span><br><span class="line">    tcp_server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">    <span class="comment"># 设置端口号复用, 程序退出端口立即释放</span></span><br><span class="line">    tcp_server_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># 绑定端口号</span></span><br><span class="line">    tcp_server_socket.bind((<span class="string">&quot;&quot;</span>, <span class="number">9000</span>))</span><br><span class="line">    <span class="comment"># 设置监听</span></span><br><span class="line">    tcp_server_socket.listen(<span class="number">128</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="comment"># 等待接受客户端的连接请求</span></span><br><span class="line">        new_socket, ip_port = tcp_server_socket.accept()</span><br><span class="line">        <span class="comment"># 代码执行到此，说明连接建立成功</span></span><br><span class="line">        recv_client_data = new_socket.recv(<span class="number">4096</span>)</span><br><span class="line">        <span class="comment"># 对二进制数据进行解码</span></span><br><span class="line">        recv_client_content = recv_client_data.decode(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(recv_client_content)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;static/index.html&quot;</span>, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">            <span class="comment"># 读取文件数据</span></span><br><span class="line">            file_data = file.read()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 响应行</span></span><br><span class="line">        response_line = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span></span><br><span class="line">        <span class="comment"># 响应头</span></span><br><span class="line">        response_header = <span class="string">&quot;Server: PWS1.0\r\n&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 响应体</span></span><br><span class="line">        response_body = file_data</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 拼接响应报文</span></span><br><span class="line">        response_data = (response_line + response_header + <span class="string">&quot;\r\n&quot;</span>).encode(<span class="string">&quot;utf-8&quot;</span>) + response_body</span><br><span class="line">        <span class="comment"># 发送数据</span></span><br><span class="line">        new_socket.send(response_data)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 关闭服务与客户端的套接字</span></span><br><span class="line">        new_socket.close()</span><br></pre></td></tr></table></figure>
<h4 id="根据不同映射返回固定页面数据"><a href="#根据不同映射返回固定页面数据" class="headerlink" title="根据不同映射返回固定页面数据"></a>根据不同映射返回固定页面数据</h4><p>目前的Web服务器，不管用户访问什么页面，返回的都是固定页面的数据，接下来需要根据用户的请求返回指定页面的数据<br><img src="https://img-blog.csdnimg.cn/20210413211835438.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Nhbmhld3V5YW5n,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p> 返回指定页面数据的实现步骤:</p>
<ul>
<li>获取用户请求资源的路径<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">request_list = client_request_conent.split(” ”,  maxsplit=<span class="number">2</span>)</span><br><span class="line"> request_path = request_list[<span class="number">1</span>]</span><br></pre></td></tr></table></figure></li>
<li>根据请求资源的路径，读取指定文件的数据<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;static&quot;</span> + request_path, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">file_data = file.read()</span><br></pre></td></tr></table></figure></li>
<li>组装指定文件数据的响应报文，发送给浏览器<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">response_data = (response_line + response_header + <span class="string">&quot;\r\n&quot;</span>).encode(<span class="string">&quot;utf-8&quot;</span>) + response_body</span><br><span class="line">conn_socket.send(response_data)</span><br></pre></td></tr></table></figure></li>
<li>判断请求的文件在服务端不存在，组装404状态的响应报文，发送给浏览器<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># 打开指定文件,代码省略...</span></span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    conn_socket.send(<span class="number">404</span>响应报文数据)</span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="comment"># 创建tcp服务端套接字</span></span><br><span class="line">    tcp_server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">    <span class="comment"># 设置端口号复用, 程序退出端口立即释放</span></span><br><span class="line">    tcp_server_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># 绑定端口号</span></span><br><span class="line">    tcp_server_socket.bind((<span class="string">&quot;&quot;</span>, <span class="number">9000</span>))</span><br><span class="line">    <span class="comment"># 设置监听</span></span><br><span class="line">    tcp_server_socket.listen(<span class="number">128</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="comment"># 等待接受客户端的连接请求</span></span><br><span class="line">        new_socket, ip_port = tcp_server_socket.accept()</span><br><span class="line">        <span class="comment"># 代码执行到此，说明连接建立成功</span></span><br><span class="line">        recv_client_data = new_socket.recv(<span class="number">4096</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(recv_client_data) == <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;关闭浏览器了&quot;</span>)</span><br><span class="line">            new_socket.close()</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 对二进制数据进行解码</span></span><br><span class="line">        recv_client_content = recv_client_data.decode(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(recv_client_content)</span><br><span class="line">        <span class="comment"># 根据指定字符串进行分割， 最大分割次数指定2</span></span><br><span class="line">        request_list = recv_client_content.split(<span class="string">&quot; &quot;</span>, maxsplit=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 获取请求资源路径</span></span><br><span class="line">        request_path = request_list[<span class="number">1</span>]</span><br><span class="line">        <span class="built_in">print</span>(request_path)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 判断请求的是否是根目录，如果条件成立，指定首页数据返回</span></span><br><span class="line">        <span class="keyword">if</span> request_path == <span class="string">&quot;/&quot;</span>:</span><br><span class="line">            request_path = <span class="string">&quot;/index.html&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># 动态打开指定文件</span></span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;static&quot;</span> + request_path, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">                <span class="comment"># 读取文件数据</span></span><br><span class="line">                file_data = file.read()</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="comment"># 请求资源不存在，返回404数据</span></span><br><span class="line">            <span class="comment"># 响应行</span></span><br><span class="line">            response_line = <span class="string">&quot;HTTP/1.1 404 Not Found\r\n&quot;</span></span><br><span class="line">            <span class="comment"># 响应头</span></span><br><span class="line">            response_header = <span class="string">&quot;Server: PWS1.0\r\n&quot;</span></span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;static/error.html&quot;</span>, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">                file_data = file.read()</span><br><span class="line">            <span class="comment"># 响应体</span></span><br><span class="line">            response_body = file_data</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 拼接响应报文</span></span><br><span class="line">            response_data = (response_line + response_header + <span class="string">&quot;\r\n&quot;</span>).encode(<span class="string">&quot;utf-8&quot;</span>) + response_body</span><br><span class="line">            <span class="comment"># 发送数据</span></span><br><span class="line">            new_socket.send(response_data)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># 响应行</span></span><br><span class="line">            response_line = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span></span><br><span class="line">            <span class="comment"># 响应头</span></span><br><span class="line">            response_header = <span class="string">&quot;Server: PWS1.0\r\n&quot;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># 响应体</span></span><br><span class="line">            response_body = file_data</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 拼接响应报文</span></span><br><span class="line">            response_data = (response_line + response_header + <span class="string">&quot;\r\n&quot;</span>).encode(<span class="string">&quot;utf-8&quot;</span>) + response_body</span><br><span class="line">            <span class="comment"># 发送数据</span></span><br><span class="line">            new_socket.send(response_data)</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            <span class="comment"># 关闭服务与客户端的套接字</span></span><br><span class="line">            new_socket.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h4 id="静态Web服务器-多任务版"><a href="#静态Web服务器-多任务版" class="headerlink" title="静态Web服务器-多任务版"></a>静态Web服务器-多任务版</h4><p>目前的Web服务器，不能支持多用户同时访问，只能一个一个的处理客户端的请求，那么如何开发多任务版的web服务器同时处理 多个客户端的请求?</p>
<p>可以使用多线程，比进程更加节省内存资源。</p>
<p>多任务版web服务器程序的实现步骤:</p>
<ol>
<li>当客户端和服务端建立连接成功，创建子线程，使用子线程专门处理客户端的请求，防止主线程阻塞。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">     conn_socket, ip_port = tcp_server_socket.accept()</span><br><span class="line">     <span class="comment"># 开辟子线程并执行对应的任务</span></span><br><span class="line">     sub_thread = threading.Thread(target=handle_client_request, args=(conn_socket,))</span><br></pre></td></tr></table></figure></li>
<li>把创建的子线程设置成为守护主线程，防止主线程无法退出。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 开辟子线程并执行对应的任务</span></span><br><span class="line"> sub_thread = threading.Thread(target=handle_client_request, args=(conn_socket,))</span><br><span class="line"> sub_thread.setDaemon(<span class="literal">True</span>) <span class="comment"># 设置守护主线程</span></span><br><span class="line"> sub_thread.start()</span><br></pre></td></tr></table></figure></li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line"><span class="comment"># 处理客户端的请求</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handle_client_request</span>(<span class="params">new_socket</span>):</span></span><br><span class="line">    <span class="comment"># 代码执行到此，说明连接建立成功</span></span><br><span class="line">    recv_client_data = new_socket.recv(<span class="number">4096</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(recv_client_data) == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;关闭浏览器了&quot;</span>)</span><br><span class="line">        new_socket.close()</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 对二进制数据进行解码</span></span><br><span class="line">    recv_client_content = recv_client_data.decode(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(recv_client_content)</span><br><span class="line">    <span class="comment"># 根据指定字符串进行分割， 最大分割次数指定2</span></span><br><span class="line">    request_list = recv_client_content.split(<span class="string">&quot; &quot;</span>, maxsplit=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取请求资源路径</span></span><br><span class="line">    request_path = request_list[<span class="number">1</span>]</span><br><span class="line">    <span class="built_in">print</span>(request_path)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 判断请求的是否是根目录，如果条件成立，指定首页数据返回</span></span><br><span class="line">    <span class="keyword">if</span> request_path == <span class="string">&quot;/&quot;</span>:</span><br><span class="line">        request_path = <span class="string">&quot;/index.html&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># 动态打开指定文件</span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;static&quot;</span> + request_path, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">            <span class="comment"># 读取文件数据</span></span><br><span class="line">            file_data = file.read()</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="comment"># 请求资源不存在，返回404数据</span></span><br><span class="line">        <span class="comment"># 响应行</span></span><br><span class="line">        response_line = <span class="string">&quot;HTTP/1.1 404 Not Found\r\n&quot;</span></span><br><span class="line">        <span class="comment"># 响应头</span></span><br><span class="line">        response_header = <span class="string">&quot;Server: PWS1.0\r\n&quot;</span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;static/error.html&quot;</span>, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">            file_data = file.read()</span><br><span class="line">        <span class="comment"># 响应体</span></span><br><span class="line">        response_body = file_data</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 拼接响应报文</span></span><br><span class="line">        response_data = (response_line + response_header + <span class="string">&quot;\r\n&quot;</span>).encode(<span class="string">&quot;utf-8&quot;</span>) + response_body</span><br><span class="line">        <span class="comment"># 发送数据</span></span><br><span class="line">        new_socket.send(response_data)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># 响应行</span></span><br><span class="line">        response_line = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span></span><br><span class="line">        <span class="comment"># 响应头</span></span><br><span class="line">        response_header = <span class="string">&quot;Server: PWS1.0\r\n&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 响应体</span></span><br><span class="line">        response_body = file_data</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 拼接响应报文</span></span><br><span class="line">        response_data = (response_line + response_header + <span class="string">&quot;\r\n&quot;</span>).encode(<span class="string">&quot;utf-8&quot;</span>) + response_body</span><br><span class="line">        <span class="comment"># 发送数据</span></span><br><span class="line">        new_socket.send(response_data)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="comment"># 关闭服务与客户端的套接字</span></span><br><span class="line">        new_socket.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 程序入口函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="comment"># 创建tcp服务端套接字</span></span><br><span class="line">    tcp_server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">    <span class="comment"># 设置端口号复用, 程序退出端口立即释放</span></span><br><span class="line">    tcp_server_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># 绑定端口号</span></span><br><span class="line">    tcp_server_socket.bind((<span class="string">&quot;&quot;</span>, <span class="number">9000</span>))</span><br><span class="line">    <span class="comment"># 设置监听</span></span><br><span class="line">    tcp_server_socket.listen(<span class="number">128</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="comment"># 等待接受客户端的连接请求</span></span><br><span class="line">        new_socket, ip_port = tcp_server_socket.accept()</span><br><span class="line">        <span class="built_in">print</span>(ip_port)</span><br><span class="line">        <span class="comment"># 当客户端和服务器建立连接程，创建子线程</span></span><br><span class="line">        sub_thread = threading.Thread(target=handle_client_request, args=(new_socket,))</span><br><span class="line">        <span class="comment"># 设置守护主线程</span></span><br><span class="line">        sub_thread.setDaemon(<span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># 启动子线程执行对应的任务</span></span><br><span class="line">        sub_thread.start()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h4 id="静态Web服务器-多任务版-1"><a href="#静态Web服务器-多任务版-1" class="headerlink" title="静态Web服务器-多任务版"></a>静态Web服务器-多任务版</h4><h5 id="静态Web服务器的问题"><a href="#静态Web服务器的问题" class="headerlink" title="静态Web服务器的问题"></a>静态Web服务器的问题</h5><p>目前的Web服务器，不能支持多用户同时访问，只能一个一个的处理客户端的请求，那么如何开发多任务版的web服务器同时处理 多个客户端的请求?</p>
<ul>
<li>可以使用多线程，比进程更加节省内存资源。多任务版web服务器程序的实现步骤:</li>
</ul>
<ol>
<li>当客户端和服务端建立连接成功，创建子线程，使用子线程专门处理客户端的请求，防止主线程阻塞。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    conn_socket, ip_port = tcp_server_socket.accept()</span><br><span class="line">    <span class="comment"># 开辟子线程并执行对应的任务</span></span><br><span class="line">    sub_thread = threading.Thread(target=handle_client_request, args=(conn_socket,))</span><br></pre></td></tr></table></figure></li>
<li>把创建的<code>子线程设置成为守护主线程，防止主线程无法退出。</code><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 处理客户端的请求</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handle_client_request</span>(<span class="params">new_socket</span>):</span></span><br><span class="line">    <span class="comment"># 代码执行到此，说明连接建立成功</span></span><br><span class="line">    recv_client_data = new_socket.recv(<span class="number">4096</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(recv_client_data) == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;关闭浏览器了&quot;</span>)</span><br><span class="line">        new_socket.close()</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 对二进制数据进行解码</span></span><br><span class="line">    recv_client_content = recv_client_data.decode(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(recv_client_content)</span><br><span class="line">    <span class="comment"># 根据指定字符串进行分割， 最大分割次数指定2</span></span><br><span class="line">    request_list = recv_client_content.split(<span class="string">&quot; &quot;</span>, maxsplit=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取请求资源路径</span></span><br><span class="line">    request_path = request_list[<span class="number">1</span>]</span><br><span class="line">    <span class="built_in">print</span>(request_path)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 判断请求的是否是根目录，如果条件成立，指定首页数据返回</span></span><br><span class="line">    <span class="keyword">if</span> request_path == <span class="string">&quot;/&quot;</span>:</span><br><span class="line">        request_path = <span class="string">&quot;/index.html&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># 动态打开指定文件</span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;static&quot;</span> + request_path, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">            <span class="comment"># 读取文件数据</span></span><br><span class="line">            file_data = file.read()</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="comment"># 请求资源不存在，返回404数据</span></span><br><span class="line">        <span class="comment"># 响应行</span></span><br><span class="line">        response_line = <span class="string">&quot;HTTP/1.1 404 Not Found\r\n&quot;</span></span><br><span class="line">        <span class="comment"># 响应头</span></span><br><span class="line">        response_header = <span class="string">&quot;Server: PWS1.0\r\n&quot;</span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;static/error.html&quot;</span>, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">            file_data = file.read()</span><br><span class="line">        <span class="comment"># 响应体</span></span><br><span class="line">        response_body = file_data</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 拼接响应报文</span></span><br><span class="line">        response_data = (response_line + response_header + <span class="string">&quot;\r\n&quot;</span>).encode(<span class="string">&quot;utf-8&quot;</span>) + response_body</span><br><span class="line">        <span class="comment"># 发送数据</span></span><br><span class="line">        new_socket.send(response_data)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># 响应行</span></span><br><span class="line">        response_line = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span></span><br><span class="line">        <span class="comment"># 响应头</span></span><br><span class="line">        response_header = <span class="string">&quot;Server: PWS1.0\r\n&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 响应体</span></span><br><span class="line">        response_body = file_data</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 拼接响应报文</span></span><br><span class="line">        response_data = (response_line + response_header + <span class="string">&quot;\r\n&quot;</span>).encode(<span class="string">&quot;utf-8&quot;</span>) + response_body</span><br><span class="line">        <span class="comment"># 发送数据</span></span><br><span class="line">        new_socket.send(response_data)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="comment"># 关闭服务与客户端的套接字</span></span><br><span class="line">        new_socket.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 程序入口函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="comment"># 创建tcp服务端套接字</span></span><br><span class="line">    tcp_server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">    <span class="comment"># 设置端口号复用, 程序退出端口立即释放</span></span><br><span class="line">    tcp_server_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># 绑定端口号</span></span><br><span class="line">    tcp_server_socket.bind((<span class="string">&quot;&quot;</span>, <span class="number">9000</span>))</span><br><span class="line">    <span class="comment"># 设置监听</span></span><br><span class="line">    tcp_server_socket.listen(<span class="number">128</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="comment"># 等待接受客户端的连接请求</span></span><br><span class="line">        new_socket, ip_port = tcp_server_socket.accept()</span><br><span class="line">        <span class="built_in">print</span>(ip_port)</span><br><span class="line">        <span class="comment"># 当客户端和服务器建立连接程，创建子线程</span></span><br><span class="line">        sub_thread = threading.Thread(target=handle_client_request, args=(new_socket,))</span><br><span class="line">        <span class="comment"># 设置守护主线程</span></span><br><span class="line">        sub_thread.setDaemon(<span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># 启动子线程执行对应的任务</span></span><br><span class="line">        sub_thread.start()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="静态Web服务器-面向对象开发"><a href="#静态Web服务器-面向对象开发" class="headerlink" title="静态Web服务器-面向对象开发"></a>静态Web服务器-面向对象开发</h4><p>实现步骤:</p>
<ul>
<li>把提供服务的Web服务器抽象成一个类(HTTPWebServer)<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HttpWebServer</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br></pre></td></tr></table></figure></li>
<li>提供Web服务器的初始化方法，在初始化方法里面创建socket对象<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line"> <span class="comment"># 初始化服务端套接字，设置监听，代码省略..</span></span><br></pre></td></tr></table></figure></li>
<li>提供一个开启Web服务器的方法，让Web服务器处理客户端请求操作。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">start</span>(<span class="params">self</span>):</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    service_client_socket, ip_port = self.tcp_server_socket.accept()</span><br><span class="line">    <span class="comment"># 连接建立成功，开辟子线程处理客户端的请求</span></span><br><span class="line">    sub_thread = threading.Thread(target=self.handle_client_request, args=(service_client_socket,))</span><br><span class="line">    sub_thread.start()</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="以面向对象的方式开发静态Web服务器"><a href="#以面向对象的方式开发静态Web服务器" class="headerlink" title="以面向对象的方式开发静态Web服务器"></a>以面向对象的方式开发静态Web服务器</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义web服务器类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HttpWebServer</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># 创建tcp服务端套接字</span></span><br><span class="line">        tcp_server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">        <span class="comment"># 设置端口号复用, 程序退出端口立即释放</span></span><br><span class="line">        tcp_server_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># 绑定端口号</span></span><br><span class="line">        tcp_server_socket.bind((<span class="string">&quot;&quot;</span>, <span class="number">9000</span>))</span><br><span class="line">        <span class="comment"># 设置监听</span></span><br><span class="line">        tcp_server_socket.listen(<span class="number">128</span>)</span><br><span class="line">        <span class="comment"># 保存创建成功的服务器套接字</span></span><br><span class="line">        self.tcp_server_socket = tcp_server_socket</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 处理客户端的请求  定义为静态方法</span></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">handle_client_request</span>(<span class="params">new_socket</span>):</span></span><br><span class="line">        <span class="comment"># 代码执行到此，说明连接建立成功</span></span><br><span class="line">        recv_client_data = new_socket.recv(<span class="number">4096</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(recv_client_data) == <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;关闭浏览器了&quot;</span>)</span><br><span class="line">            new_socket.close()</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 对二进制数据进行解码</span></span><br><span class="line">        recv_client_content = recv_client_data.decode(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(recv_client_content)</span><br><span class="line">        <span class="comment"># 根据指定字符串进行分割， 最大分割次数指定2</span></span><br><span class="line">        request_list = recv_client_content.split(<span class="string">&quot; &quot;</span>, maxsplit=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 获取请求资源路径</span></span><br><span class="line">        request_path = request_list[<span class="number">1</span>]</span><br><span class="line">        <span class="built_in">print</span>(request_path)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 判断请求的是否是根目录，如果条件成立，指定首页数据返回</span></span><br><span class="line">        <span class="keyword">if</span> request_path == <span class="string">&quot;/&quot;</span>:</span><br><span class="line">            request_path = <span class="string">&quot;/index.html&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># 动态打开指定文件</span></span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;static&quot;</span> + request_path, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">                <span class="comment"># 读取文件数据</span></span><br><span class="line">                file_data = file.read()</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="comment"># 请求资源不存在，返回404数据</span></span><br><span class="line">            <span class="comment"># 响应行</span></span><br><span class="line">            response_line = <span class="string">&quot;HTTP/1.1 404 Not Found\r\n&quot;</span></span><br><span class="line">            <span class="comment"># 响应头</span></span><br><span class="line">            response_header = <span class="string">&quot;Server: PWS1.0\r\n&quot;</span></span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;static/error.html&quot;</span>, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">                file_data = file.read()</span><br><span class="line">            <span class="comment"># 响应体</span></span><br><span class="line">            response_body = file_data</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 拼接响应报文</span></span><br><span class="line">            response_data = (response_line + response_header + <span class="string">&quot;\r\n&quot;</span>).encode(<span class="string">&quot;utf-8&quot;</span>) + response_body</span><br><span class="line">            <span class="comment"># 发送数据</span></span><br><span class="line">            new_socket.send(response_data)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># 响应行</span></span><br><span class="line">            response_line = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span></span><br><span class="line">            <span class="comment"># 响应头</span></span><br><span class="line">            response_header = <span class="string">&quot;Server: PWS1.0\r\n&quot;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># 响应体</span></span><br><span class="line">            response_body = file_data</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 拼接响应报文</span></span><br><span class="line">            response_data = (response_line + response_header + <span class="string">&quot;\r\n&quot;</span>).encode(<span class="string">&quot;utf-8&quot;</span>) + response_body</span><br><span class="line">            <span class="comment"># 发送数据</span></span><br><span class="line">            new_socket.send(response_data)</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            <span class="comment"># 关闭服务与客户端的套接字</span></span><br><span class="line">            new_socket.close()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 启动web服务器进行工作</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">start</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="comment"># 等待接受客户端的连接请求</span></span><br><span class="line">            new_socket, ip_port = self.tcp_server_socket.accept()</span><br><span class="line">            <span class="comment"># 当客户端和服务器建立连接程，创建子线程</span></span><br><span class="line">            sub_thread = threading.Thread(target=self.handle_client_request, args=(new_socket,))</span><br><span class="line">            <span class="comment"># 设置守护主线程</span></span><br><span class="line">            sub_thread.setDaemon(<span class="literal">True</span>)</span><br><span class="line">            <span class="comment"># 启动子线程执行对应的任务</span></span><br><span class="line">            sub_thread.start()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 程序入口函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="comment"># 创建web服务器对象</span></span><br><span class="line">    web_server = HttpWebServer()</span><br><span class="line">    <span class="comment"># 启动web服务器进行工作</span></span><br><span class="line">    web_server.start()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h5 id="命令行启动动态绑定端口号"><a href="#命令行启动动态绑定端口号" class="headerlink" title="命令行启动动态绑定端口号"></a>命令行启动动态绑定端口号</h5><ol>
<li>开发命令行启动动态绑定端口号的静态web服务器<br>实现步骤:</li>
</ol>
<ul>
<li>获取执行python程序的终端命令行参数<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sys.argv</span><br></pre></td></tr></table></figure></li>
<li>判断参数的类型，设置端口号必须是整型<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> sys.argv[<span class="number">1</span>].isdigit():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;启动命令如下: python3 xxx.py 9090&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">port = <span class="built_in">int</span>(sys.argv[<span class="number">1</span>])</span><br></pre></td></tr></table></figure></li>
<li>给Web服务器类的初始化方法添加一个端口号参数，用于绑定端口号<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, port</span>):</span></span><br><span class="line">    self.tcp_server_socket.bind((“”, port))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义web服务器类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HttpWebServer</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, port</span>):</span></span><br><span class="line">        <span class="comment"># 创建tcp服务端套接字</span></span><br><span class="line">        tcp_server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">        <span class="comment"># 设置端口号复用, 程序退出端口立即释放</span></span><br><span class="line">        tcp_server_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># 绑定端口号</span></span><br><span class="line">        tcp_server_socket.bind((<span class="string">&quot;&quot;</span>, port))</span><br><span class="line">        <span class="comment"># 设置监听</span></span><br><span class="line">        tcp_server_socket.listen(<span class="number">128</span>)</span><br><span class="line">        <span class="comment"># 保存创建成功的服务器套接字</span></span><br><span class="line">        self.tcp_server_socket = tcp_server_socket</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 处理客户端的请求</span></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">handle_client_request</span>(<span class="params">new_socket</span>):</span></span><br><span class="line">        <span class="comment"># 代码执行到此，说明连接建立成功</span></span><br><span class="line">        recv_client_data = new_socket.recv(<span class="number">4096</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(recv_client_data) == <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;关闭浏览器了&quot;</span>)</span><br><span class="line">            new_socket.close()</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 对二进制数据进行解码</span></span><br><span class="line">        recv_client_content = recv_client_data.decode(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(recv_client_content)</span><br><span class="line">        <span class="comment"># 根据指定字符串进行分割， 最大分割次数指定2</span></span><br><span class="line">        request_list = recv_client_content.split(<span class="string">&quot; &quot;</span>, maxsplit=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 获取请求资源路径</span></span><br><span class="line">        request_path = request_list[<span class="number">1</span>]</span><br><span class="line">        <span class="built_in">print</span>(request_path)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 判断请求的是否是根目录，如果条件成立，指定首页数据返回</span></span><br><span class="line">        <span class="keyword">if</span> request_path == <span class="string">&quot;/&quot;</span>:</span><br><span class="line">            request_path = <span class="string">&quot;/index.html&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># 动态打开指定文件</span></span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;static&quot;</span> + request_path, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">                <span class="comment"># 读取文件数据</span></span><br><span class="line">                file_data = file.read()</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="comment"># 请求资源不存在，返回404数据</span></span><br><span class="line">            <span class="comment"># 响应行</span></span><br><span class="line">            response_line = <span class="string">&quot;HTTP/1.1 404 Not Found\r\n&quot;</span></span><br><span class="line">            <span class="comment"># 响应头</span></span><br><span class="line">            response_header = <span class="string">&quot;Server: PWS1.0\r\n&quot;</span></span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;static/error.html&quot;</span>, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">                file_data = file.read()</span><br><span class="line">            <span class="comment"># 响应体</span></span><br><span class="line">            response_body = file_data</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 拼接响应报文</span></span><br><span class="line">            response_data = (response_line + response_header + <span class="string">&quot;\r\n&quot;</span>).encode(<span class="string">&quot;utf-8&quot;</span>) + response_body</span><br><span class="line">            <span class="comment"># 发送数据</span></span><br><span class="line">            new_socket.send(response_data)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># 响应行</span></span><br><span class="line">            response_line = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span></span><br><span class="line">            <span class="comment"># 响应头</span></span><br><span class="line">            response_header = <span class="string">&quot;Server: PWS1.0\r\n&quot;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># 响应体</span></span><br><span class="line">            response_body = file_data</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 拼接响应报文</span></span><br><span class="line">            response_data = (response_line + response_header + <span class="string">&quot;\r\n&quot;</span>).encode(<span class="string">&quot;utf-8&quot;</span>) + response_body</span><br><span class="line">            <span class="comment"># 发送数据</span></span><br><span class="line">            new_socket.send(response_data)</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            <span class="comment"># 关闭服务与客户端的套接字</span></span><br><span class="line">            new_socket.close()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 启动web服务器进行工作</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">start</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="comment"># 等待接受客户端的连接请求</span></span><br><span class="line">            new_socket, ip_port = self.tcp_server_socket.accept()</span><br><span class="line">            <span class="comment"># 当客户端和服务器建立连接程，创建子线程</span></span><br><span class="line">            sub_thread = threading.Thread(target=self.handle_client_request, args=(new_socket,))</span><br><span class="line">            <span class="comment"># 设置守护主线程</span></span><br><span class="line">            sub_thread.setDaemon(<span class="literal">True</span>)</span><br><span class="line">            <span class="comment"># 启动子线程执行对应的任务</span></span><br><span class="line">            sub_thread.start()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 程序入口函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(sys.argv)</span><br><span class="line">    <span class="comment"># 判断命令行参数是否等于2,</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(sys.argv) != <span class="number">2</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;执行命令如下: python3 xxx.py 8000&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 判断字符串是否都是数字组成</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> sys.argv[<span class="number">1</span>].isdigit():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;执行命令如下: python3 xxx.py 8000&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取终端命令行参数</span></span><br><span class="line">    port = <span class="built_in">int</span>(sys.argv[<span class="number">1</span>])</span><br><span class="line">    <span class="comment"># 创建web服务器对象</span></span><br><span class="line">    web_server = HttpWebServer(port)</span><br><span class="line">    <span class="comment"># 启动web服务器进行工作</span></span><br><span class="line">    web_server.start()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Python程序操作MySQL数据库"><a href="#Python程序操作MySQL数据库" class="headerlink" title="Python程序操作MySQL数据库"></a>Python程序操作MySQL数据库</h3><p>安装pymysql第三方包:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@liruilong ~]<span class="comment"># yum  -y install pymysql</span></span><br><span class="line">[root@liruilong ~]<span class="comment"># ls</span></span><br></pre></td></tr></table></figure>
<h4 id="pymysql的使用"><a href="#pymysql的使用" class="headerlink" title="pymysql的使用:"></a>pymysql的使用:</h4><ol>
<li>导入 pymysql 包 : import pymysql</li>
<li>创建连接对象:调用pymysql模块中的connect()函数来创建连接对象<br> conn&#x3D;connect(参数列表)</li>
</ol>
<ul>
<li>参数host：连接的mysql主机，如果本机是’localhost’</li>
<li>参数port：连接的mysql主机的端口，默认是3306</li>
<li>参数user：连接的用户名</li>
<li>参数password：连接的密码</li>
<li>参数database：数据库的名称</li>
<li>参数charset：通信采用的编码方式，推荐使用utf8</li>
</ul>
<h4 id="连接对象操作说明"><a href="#连接对象操作说明" class="headerlink" title="连接对象操作说明:"></a>连接对象操作说明:</h4><ul>
<li>关闭连接 conn.close()</li>
<li>提交数据 conn.commit()</li>
<li>撤销数据 conn.rollback()</li>
</ul>
<h4 id="获取游标对象："><a href="#获取游标对象：" class="headerlink" title="获取游标对象："></a>获取游标对象：</h4><p>获取游标对象的目标就是要执行sql语句，完成对数据库的增、删、改、查操作。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 调用连接对象的cursor()方法获取游标对象   </span></span><br><span class="line"> cur =conn.cursor()</span><br></pre></td></tr></table></figure>
<p>游标操作说明:</p>
<ul>
<li>使用游标执行SQL语句: execute(operation [parameters ]) 执行SQL语句，返回受影响的行数，主要用于执行insert、update、delete、select等语句</li>
<li>获取查询结果集中的一条数据:cur.fetchone()返回一个元组, 如 (1,’张三’)</li>
<li>获取查询结果集中的所有数据: cur.fetchall()返回一个元组,如((1,’张三’),(2,’李四’))</li>
<li>关闭游标: cur.close(),表示和数据库操作完成</li>
</ul>
<h4 id="pymysql完成数据的查询操作"><a href="#pymysql完成数据的查询操作" class="headerlink" title="pymysql完成数据的查询操作"></a>pymysql完成数据的查询操作</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建连接对象</span></span><br><span class="line">conn = pymysql.connect(host=<span class="string">&#x27;localhost&#x27;</span>, port=<span class="number">3306</span>, user=<span class="string">&#x27;root&#x27;</span>, password=<span class="string">&#x27;mysql&#x27;</span>,database=<span class="string">&#x27;python&#x27;</span>, charset=<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取游标对象</span></span><br><span class="line">cursor = conn.cursor()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询 SQL 语句</span></span><br><span class="line">sql = <span class="string">&quot;select * from students;&quot;</span></span><br><span class="line"><span class="comment"># 执行 SQL 语句 返回值就是 SQL 语句在执行过程中影响的行数</span></span><br><span class="line">row_count = cursor.execute(sql)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;SQL 语句执行影响的行数%d&quot;</span> % row_count)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 取出结果集中一行数据,　例如:(1, &#x27;张三&#x27;)</span></span><br><span class="line"><span class="comment"># print(cursor.fetchone())</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 取出结果集中的所有数据, 例如:((1, &#x27;张三&#x27;), (2, &#x27;李四&#x27;), (3, &#x27;王五&#x27;))</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> cursor.fetchall():</span><br><span class="line">    <span class="built_in">print</span>(line)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭游标</span></span><br><span class="line">cursor.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭连接</span></span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure>
<h4 id="pymysql完成对数据的增删改"><a href="#pymysql完成对数据的增删改" class="headerlink" title="pymysql完成对数据的增删改"></a>pymysql完成对数据的增删改</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建连接对象</span></span><br><span class="line">conn = pymysql.connect(host=<span class="string">&#x27;localhost&#x27;</span>, port=<span class="number">3306</span>, user=<span class="string">&#x27;root&#x27;</span>, password=<span class="string">&#x27;mysql&#x27;</span>,database=<span class="string">&#x27;python&#x27;</span>, charset=<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取游标对象</span></span><br><span class="line">cursor = conn.cursor()</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># 添加 SQL 语句</span></span><br><span class="line">    <span class="comment"># sql = &quot;insert into students(name) values(&#x27;刘璐&#x27;), (&#x27;王美丽&#x27;);&quot;</span></span><br><span class="line">    <span class="comment"># 删除 SQ L语句</span></span><br><span class="line">    <span class="comment"># sql = &quot;delete from students where id = 5;&quot;</span></span><br><span class="line">    <span class="comment"># 修改 SQL 语句</span></span><br><span class="line">    sql = <span class="string">&quot;update students set name = &#x27;王铁蛋&#x27; where id = 6;&quot;</span></span><br><span class="line">    <span class="comment"># 执行 SQL 语句</span></span><br><span class="line">    row_count = cursor.execute(sql)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;SQL 语句执行影响的行数%d&quot;</span> % row_count)</span><br><span class="line">    <span class="comment"># 提交数据到数据库</span></span><br><span class="line">    conn.commit()</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="comment"># 回滚数据， 即撤销刚刚的SQL语句操作</span></span><br><span class="line">    conn.rollback()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭游标</span></span><br><span class="line">cursor.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭连接</span></span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure>

<ul>
<li>conn.commit() 表示将修改操作提交到数据库</li>
<li>conn.rollback() 表示回滚数据</li>
</ul>
<h5 id="防止SQL注入"><a href="#防止SQL注入" class="headerlink" title="防止SQL注入"></a>防止SQL注入</h5><p>什么是SQL注入?用户提交带有恶意的数据与SQL语句进行字符串方式的拼接，从而影响了SQL语句的语义，最终产生数据泄露的现象。</p>
<p><code>·如何防止SQL注入?SQL语句参数化</code></p>
<p>SQL语言中的参数使用%s来占位，此处不是python中的字符串格式化操作,将SQL语句中%s占位所需要的参数存在一个列表中，把参数列表传递给execute方法中第二个参数<br>防止SQL注入的示例代码:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pymysql <span class="keyword">import</span> connect</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line"></span><br><span class="line">    find_name = <span class="built_in">input</span>(<span class="string">&quot;请输入物品名称：&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建Connection连接</span></span><br><span class="line">    conn = connect(host=<span class="string">&#x27;localhost&#x27;</span>,port=<span class="number">3306</span>,user=<span class="string">&#x27;root&#x27;</span>,password=<span class="string">&#x27;mysql&#x27;</span>,database=<span class="string">&#x27;jing_dong&#x27;</span>,charset=<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    <span class="comment"># 获得Cursor对象</span></span><br><span class="line">    cs1 = conn.cursor()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 非安全的方式</span></span><br><span class="line">    <span class="comment"># 输入 &#x27; or 1 = 1 or &#x27;   (单引号也要输入)</span></span><br><span class="line">    <span class="comment"># sql = &quot;select * from goods where name=&#x27;%s&#x27;&quot; % find_name</span></span><br><span class="line">    <span class="comment"># print(&quot;&quot;&quot;sql===&gt;%s&lt;====&quot;&quot;&quot; % sql)</span></span><br><span class="line">    <span class="comment"># # 执行select语句，并返回受影响的行数：查询所有数据</span></span><br><span class="line">    <span class="comment"># count = cs1.execute(sql)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 安全的方式</span></span><br><span class="line">    <span class="comment"># 构造参数列表</span></span><br><span class="line">    params = [find_name]</span><br><span class="line">    <span class="comment"># 执行select语句，并返回受影响的行数：查询所有数据</span></span><br><span class="line">    count = cs1.execute(<span class="string">&quot;select * from goods where name=%s&quot;</span>, params)</span><br><span class="line">    <span class="comment"># 注意：</span></span><br><span class="line">    <span class="comment"># 如果要是有多个参数，需要进行参数化</span></span><br><span class="line">    <span class="comment"># 那么params = [数值1, 数值2....]，此时sql语句中有多个%s即可</span></span><br><span class="line">    <span class="comment"># %s 不需要带引号</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 打印受影响的行数</span></span><br><span class="line">    <span class="built_in">print</span>(count)</span><br><span class="line">    <span class="comment"># 获取查询的结果</span></span><br><span class="line">    <span class="comment"># result = cs1.fetchone()</span></span><br><span class="line">    result = cs1.fetchall()</span><br><span class="line">    <span class="comment"># 打印查询的结果</span></span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line">    <span class="comment"># 关闭Cursor对象</span></span><br><span class="line">    cs1.close()</span><br><span class="line">    <span class="comment"># 关闭Connection对象</span></span><br><span class="line">    conn.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h4 id="事务的介绍"><a href="#事务的介绍" class="headerlink" title="事务的介绍"></a>事务的介绍</h4><p>事务就是用户定义的一系列执行SQL语句的操作, 这些操作要么完全地执行，要么完全地都不执行， 它是一个不可分割的工作执行单元。</p>
<p>事务的使用场景:在日常生活中，有时我们需要进行银行转账，这个银行转账操作背后就是需要执行多个SQL语句，假如这些SQL执行到一半突然停电了，那么就会导致这个功能只完成了一半，这种情况是不允许出现，要想解决这个问题就需要通过事务来完成。</p>
<h4 id="事务的四大特性"><a href="#事务的四大特性" class="headerlink" title="事务的四大特性"></a>事务的四大特性</h4><ul>
<li><code>原子性Atomicity</code>:一个事务必须被视为一个不可分割的最小工作单元，整个事务中的所有操作要么全部提交成功，要么全部失败回滚，对于一个事务来说，不可能只执行其中的一部分操作，这就是事务的原子性</li>
<li><code>一致性Consistency</code>:数据库总是从一个一致性的状态转换到另一个一致性的状态。(在前面的例子中，一致性确保了，即使在转账过程中系统崩溃，支票账户中也不会损失200美元，因为事务最终没有提交，所以事务中所做的修改也不会保存到数据库中。)</li>
<li><code>隔离性Isolation</code>:通常来说，一个事务所做的修改操作在提交事务之前，对于其他事务来说是不可见的。(在前面的例子中，当执行完第三条语句、第四条语句还未开始时，此时有另外的一个账户汇总程序开始运行，则其看到支票帐户的余额并没有被减去200美元。)</li>
<li><code>持久性Durability</code>:一旦事务提交，则其所做的修改会永久保存到数据库。</li>
</ul>
<h5 id="事务的使用："><a href="#事务的使用：" class="headerlink" title="事务的使用："></a>事务的使用：</h5><ul>
<li>在使用事务之前，先要确保表的存储引擎是 InnoDB 类型, 只有这个类型才可以使用事务，MySQL数据库中表的存储引擎默认是 InnoDB 类型。</li>
<li>表的存储引擎说明:表的存储引擎就是提供存储数据一种机制，不同表的存储引擎提供不同的存储机制。</li>
<li>开启事务后执行修改命令，变更数据会保存到MySQL服务端的缓存文件中，而不维护到物理表中</li>
<li>MySQL数据库默认采用自动提交(autocommit)模式，如果没有显示的开启一个事务,那么每条sql语句都会被当作一个事务执行提交的操作当设置autocommit&#x3D;0就是取消了自动提交事务模式，直到显示的执行commit和rollback表示该事务结束。</li>
<li>set autocommit &#x3D; 0 表示取消自动提交事务模式，需要手动执行commit完成事务的提交</li>
</ul>
<h4 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h4><h5 id="索引的介绍"><a href="#索引的介绍" class="headerlink" title="索引的介绍"></a>索引的介绍</h5><p>索引在MySQL中也叫做“键”，它是一个特殊的文件，它保存着数据表里所有记录的位置信息，更通俗的来说，数据库索引好比是一本书前面的目录，能加快数据库的查询速度。</p>
<h5 id="应用场景-1"><a href="#应用场景-1" class="headerlink" title="应用场景:"></a>应用场景:</h5><p>当数据库中数据量很大时，查找数据会变得很慢，我们就可以通过索引来提高数据库的查询效率。</p>
<h5 id="索引的使用"><a href="#索引的使用" class="headerlink" title="索引的使用"></a>索引的使用</h5><ul>
<li>查看表中已有索引: show index from 表名;</li>
<li>主键列会自动创建索引</li>
<li>索引名不指定，默认使用字段名</li>
</ul>
<h5 id="验证索引性能操作："><a href="#验证索引性能操作：" class="headerlink" title="验证索引性能操作："></a>验证索引性能操作：</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 开启运行时间监测：</span></span><br><span class="line"><span class="keyword">set</span> profiling<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"><span class="comment">-- 查找第1万条数据ha-99999</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> test_index <span class="keyword">where</span> title<span class="operator">=</span><span class="string">&#x27;ha-99999&#x27;</span>;</span><br><span class="line"><span class="comment">-- 查看执行的时间：</span></span><br><span class="line"><span class="keyword">show</span> profiles;</span><br><span class="line"><span class="comment">-- 给title字段创建索引：</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> test_index <span class="keyword">add</span> index (title);</span><br><span class="line"><span class="comment">-- 再次执行查询语句</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> test_index <span class="keyword">where</span> title<span class="operator">=</span><span class="string">&#x27;ha-99999&#x27;</span>;</span><br><span class="line"><span class="comment">-- 再次查看执行的时间</span></span><br><span class="line"><span class="keyword">show</span> profiles;</span><br></pre></td></tr></table></figure>
<h5 id="联合索引"><a href="#联合索引" class="headerlink" title="联合索引"></a><code>联合索引</code></h5><p>联合索引又叫复合索引，即一个索引覆盖表中两个或者多个字段，一般用在多个字段一起查询的时候。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建teacher表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> teacher</span><br><span class="line">(</span><br><span class="line">    id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">10</span>),</span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建联合索引</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> teacher <span class="keyword">add</span> index (name,age);</span><br></pre></td></tr></table></figure>
<p>联合索引的好处:减少磁盘空间开销，因为每创建一个索引，其实就是创建了一个索引文件，那么会增加磁盘空间的开销。</p>
<p><code>联合索引的最左原则</code>在使用联合索引的时候，我们要遵守一个最左原则,即index(name,age)支持 name 、name 和 age 组合查询,而不支持单独 age 查询，因为没有用到创建的联合索引。<br>最左原则示例:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 下面的查询使用到了联合索引</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> stu <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;张三&#x27;</span> <span class="comment">-- 这里使用了联合索引的name部分</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> stu <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;李四&#x27;</span> <span class="keyword">and</span> age<span class="operator">=</span><span class="number">10</span> <span class="comment">-- 这里完整的使用联合索引，包括 name 和 age 部分 </span></span><br><span class="line"><span class="comment">-- 下面的查询没有使用到联合索引</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> stu <span class="keyword">where</span> age<span class="operator">=</span><span class="number">10</span> <span class="comment">-- 因为联合索引里面没有这个组合，只有 name | name age 这两种组合</span></span><br></pre></td></tr></table></figure>
<p><code>在使用联合索引的查询数据时候一定要保证联合索引的最左侧字段出现在查询条件里面，否则联合索引失效</code></p>
<h5 id="MySQL中索引的优点和缺点和使用原则"><a href="#MySQL中索引的优点和缺点和使用原则" class="headerlink" title="MySQL中索引的优点和缺点和使用原则"></a>MySQL中索引的优点和缺点和使用原则</h5><ul>
<li>优点：. &#x3D;&#x3D;加快数据的查询速度&#x3D;&#x3D;</li>
<li>缺点：. &#x3D;&#x3D;创建索引会耗费时间和占用磁盘空间，并且随着数据量的增加所耗费的时间也会增加&#x3D;&#x3D;</li>
</ul>
<p><code>使用原则：</code></p>
<ul>
<li>通过优缺点对比，不是索引越多越好，而是需要自己合理的使用。</li>
<li>对经常<code>更新的表就避免对其进行过多索引的创建</code>，对经常用于<code>查询的字段应该创建索引</code>，</li>
<li>数据量小的表最好不要使用索引，因为由于数据较少，可能<code>查询全部数据花费的时间比遍历索引的时间还要短</code>，索引就可能不会产生优化效+ 果。</li>
<li><code>在一字段上相同值比较多不要建立索引</code>，比如在学生表的”性别”字段上只有男，女两个不同值。相反的，<code>在一个字段上不同值较多可是建立索引。</code></li>
</ul>
<h3 id="闭包-amp-装饰器"><a href="#闭包-amp-装饰器" class="headerlink" title="闭包&amp;装饰器"></a>闭包&amp;装饰器</h3><h4 id="闭包的介绍"><a href="#闭包的介绍" class="headerlink" title="闭包的介绍:"></a>闭包的介绍:</h4><p>我们前面已经学过了函数，我们知道当函数调用完，函数内定义的变量都销毁了，但是我们有时候需要保存函数内的这个变量，每次在这个变量的基础上完成一些列的操作，比如: 每次在这个变量的基础上和其它数字进行求和计算，那怎么办呢?我们就可以通过咱们今天学习的闭包来解决这个需求。<br><code>闭包的定义:</code>在函数嵌套的前提下，内部函数使用了外部函数的变量，并且外部函数返回了内部函数，我们把这个使用外部函数变量的内部函数称为闭包。</p>
<h5 id="闭包的构成条件"><a href="#闭包的构成条件" class="headerlink" title="闭包的构成条件"></a>闭包的构成条件</h5><p>通过闭包的定义，我们可以得知闭包的形成条件:</p>
<ul>
<li>在函数嵌套(函数里面再定义函数)的前提下</li>
<li>内部函数使用了外部函数的变量(还包括外部函数的参数)</li>
<li>外部函数返回了内部函数<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义一个外部函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func_out</span>(<span class="params">num1</span>):</span></span><br><span class="line">    <span class="comment"># 定义一个内部函数</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func_inner</span>(<span class="params">num2</span>):</span></span><br><span class="line">        <span class="comment"># 内部函数使用了外部函数的变量(num1)</span></span><br><span class="line">        result = num1 + num2</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;结果是:&quot;</span>, result)</span><br><span class="line">    <span class="comment"># 外部函数返回了内部函数，这里返回的内部函数就是闭包</span></span><br><span class="line">    <span class="keyword">return</span> func_inner</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建闭包实例    </span></span><br><span class="line">f = func_out(<span class="number">1</span>)</span><br><span class="line"><span class="comment"># 执行闭包</span></span><br><span class="line">f(<span class="number">2</span>)</span><br><span class="line">f(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>结果是: 3<br>结果是: 4</p>
</blockquote>
</li>
</ul>
<p>闭包执行结果的说明:通过上面的输出结果可以看出闭包保存了外部函数内的变量num1，每次执行闭包都是在num1 &#x3D; 1 基础上进行计算。</p>
<h4 id="闭包的作用"><a href="#闭包的作用" class="headerlink" title="闭包的作用"></a>闭包的作用</h4><p>闭包可以保存外部函数内的变量，不会随着外部函数调用完而销毁。<br><code>注意点:</code>由于闭包引用了外部函数的变量，则外部函数的变量没有及时释放，消耗内存。</p>
<h4 id="闭包的使用"><a href="#闭包的使用" class="headerlink" title="闭包的使用"></a>闭包的使用</h4><h5 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h5><blockquote>
<p>需求: 根据配置信息使用闭包实现不同人的对话信息，例如对话:<br>张三: 到北京了吗? 李四: 已经到了，放心吧。</p>
</blockquote>
<ul>
<li>定义外部函数接收不同的配置信息参数，参数是人名</li>
<li>定义内部函数接收对话信息参数</li>
<li>在内部函数里面把配置信息和对话信息进行拼接输出<br>功能代码的实现<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 外部函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">config_name</span>(<span class="params">name</span>):</span></span><br><span class="line">    <span class="comment"># 内部函数</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">say_info</span>(<span class="params">info</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(name + <span class="string">&quot;: &quot;</span> + info)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> say_info</span><br><span class="line"></span><br><span class="line">tom = config_name(<span class="string">&quot;Tom&quot;</span>)</span><br><span class="line"></span><br><span class="line">tom(<span class="string">&quot;你好!&quot;</span>)</span><br><span class="line">tom(<span class="string">&quot;你好, 在吗?&quot;</span>)</span><br><span class="line"></span><br><span class="line">jerry = config_name(<span class="string">&quot;jerry&quot;</span>)</span><br><span class="line"></span><br><span class="line">jerry(<span class="string">&quot;不在, 不和玩!&quot;</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>运行结果:<br>Tom: 你好!<br>Tom: 你好, 在吗?<br>jerry: 不在, 不和玩!</p>
</blockquote>
</li>
</ul>
<p>闭包案例说明:<code>闭包还可以提高代码的可重用性，不需要再手动定义额外的功能函数。</code></p>
<h4 id="修改闭包内使用的外部变量"><a href="#修改闭包内使用的外部变量" class="headerlink" title="修改闭包内使用的外部变量"></a>修改闭包内使用的外部变量</h4><p>修改闭包内使用的外部变量的错误示例:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># 定义一个外部函数</span><br><span class="line">def func_out(num1):</span><br><span class="line"></span><br><span class="line">    # 定义一个内部函数</span><br><span class="line">    def func_inner(num2):</span><br><span class="line">        # 这里本意想要修改外部num1的值，实际上是在内部函数定义了一个局部变量num1</span><br><span class="line">        num1 = 10</span><br><span class="line">        # 内部函数使用了外部函数的变量(num1)</span><br><span class="line">        result = num1 + num2</span><br><span class="line">        print(&quot;结果是:&quot;, result)</span><br><span class="line"></span><br><span class="line">    print(num1)</span><br><span class="line">    func_inner(1)</span><br><span class="line">    print(num1)</span><br><span class="line"></span><br><span class="line">    # 外部函数返回了内部函数，这里返回的内部函数就是闭包</span><br><span class="line">    return func_inner</span><br><span class="line"></span><br><span class="line"># 创建闭包实例</span><br><span class="line">f = func_out(1)</span><br><span class="line"># 执行闭包</span><br><span class="line">f(2)</span><br></pre></td></tr></table></figure>
<h4 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h4><ul>
<li><p>装饰器的定义:<code>就是给已有函数增加额外功能的函数，它本质上就是一个闭包函数。</code>类似于AOP环绕通知的逆向应用<br>装饰器的功能特点:</p>
</li>
<li><p>不修改已有函数的源代码</p>
</li>
<li><p>不修改已有函数的调用方式</p>
</li>
<li><p>给已有函数增加额外的功能</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加一个登录验证的功能</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check</span>(<span class="params">fn</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>():</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;请先登录....&quot;</span>)</span><br><span class="line">        fn()</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">comment</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;发表评论&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用装饰器来装饰函数</span></span><br><span class="line">comment = check(comment)</span><br><span class="line">comment()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 装饰器的基本雏形</span></span><br><span class="line"><span class="comment"># def decorator(fn): # fn:目标函数.</span></span><br><span class="line"><span class="comment">#     def inner():</span></span><br><span class="line"><span class="comment">#         &#x27;&#x27;&#x27;执行函数之前&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#         fn() # 执行被装饰的函数</span></span><br><span class="line"><span class="comment">#         &#x27;&#x27;&#x27;执行函数之后&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#     return inner</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>执行结果:<br>请先登录….<br>发表评论</p>
</blockquote>
</li>
<li><p>闭包函数有且<code>只有一个参数，必须是函数类型</code>，这样定义的函数才是<code>装饰器</code>。</p>
</li>
<li><p>写代码要遵循<code>开放封闭原则</code>，<code>它规定已经实现的功能代码不允许被修改，但可以被扩展</code>。</p>
</li>
</ul>
<h4 id="装饰器的语法糖写法"><a href="#装饰器的语法糖写法" class="headerlink" title="装饰器的语法糖写法"></a>装饰器的语法糖写法</h4><p>如果有多个函数都需要添加登录验证的功能，每次都需要编写func &#x3D; check(func)这样代码对已有函数进行装饰，这种做法还是比较麻烦。</p>
<p>Python给提供了一个装饰函数更加简单的写法，那就是语法糖，语法糖的书写格式是: @装饰器名字，通过语法糖的方式也可以完成对已有函数的装饰.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加一个登录验证的功能</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check</span>(<span class="params">fn</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;装饰器函数执行了&quot;</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>():</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;请先登录....&quot;</span>)</span><br><span class="line">        fn()</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用语法糖方式来装饰函数</span></span><br><span class="line"><span class="meta">@check</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">comment</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;发表评论&quot;</span>)</span><br><span class="line"></span><br><span class="line">comment()</span><br></pre></td></tr></table></figure>
<h5 id="装饰器的使用"><a href="#装饰器的使用" class="headerlink" title="装饰器的使用"></a>装饰器的使用</h5><p>装饰器的使用场景</p>
<ul>
<li>函数执行时间的统计</li>
<li>输出日志信息</li>
</ul>
<p>装饰器实现已有函数执行时间的统计</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># 装饰器函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_time</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>():</span></span><br><span class="line">        begin = time.time()</span><br><span class="line">        func()</span><br><span class="line">        end = time.time()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;函数执行花费%f&quot;</span> % (end-begin))</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@get_time</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100000</span>):</span><br><span class="line">        <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line">func1()</span><br></pre></td></tr></table></figure>
<blockquote>
</blockquote>
<p>…<br>99995<br>99996<br>99997<br>99998<br>99999<br>函数执行花费0.329066</p>
<h5 id="通用装饰器的使用"><a href="#通用装饰器的使用" class="headerlink" title="通用装饰器的使用"></a>通用装饰器的使用</h5><h6 id="装饰带有参数的函数"><a href="#装饰带有参数的函数" class="headerlink" title="装饰带有参数的函数"></a>装饰带有参数的函数</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加输出日志的功能</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logging</span>(<span class="params">fn</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>(<span class="params">num1, num2</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;--正在努力计算--&quot;</span>)</span><br><span class="line">        fn(num1, num2)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用装饰器装饰函数</span></span><br><span class="line"><span class="meta">@logging</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_num</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    result = a + b</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line">sum_num(<span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>–正在努力计算–<br>3</p>
</blockquote>
<h6 id="装饰带有返回值的函数"><a href="#装饰带有返回值的函数" class="headerlink" title="装饰带有返回值的函数"></a>装饰带有返回值的函数</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加输出日志的功能</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logging</span>(<span class="params">fn</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>(<span class="params">num1, num2</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;--正在努力计算--&quot;</span>)</span><br><span class="line">        result = fn(num1, num2)</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用装饰器装饰函数</span></span><br><span class="line"><span class="meta">@logging</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_num</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    result = a + b</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">result = sum_num(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>–正在努力计算–<br>3</p>
</blockquote>
<h6 id="装饰带有不定长参数的函数"><a href="#装饰带有不定长参数的函数" class="headerlink" title="装饰带有不定长参数的函数"></a>装饰带有不定长参数的函数</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加输出日志的功能</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logging</span>(<span class="params">fn</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;--正在努力计算--&quot;</span>)</span><br><span class="line">        fn(*args, **kwargs)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用语法糖装饰函数</span></span><br><span class="line"><span class="meta">@logging</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_num</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">    result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> args:</span><br><span class="line">        result += value</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> kwargs.values():</span><br><span class="line">        result += value</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line"></span><br><span class="line">sum_num(<span class="number">1</span>, <span class="number">2</span>, a=<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>–正在努力计算–<br>13</p>
</blockquote>
<h6 id="通用装饰器"><a href="#通用装饰器" class="headerlink" title="通用装饰器"></a>通用装饰器</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加输出日志的功能</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logging</span>(<span class="params">fn</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;--正在努力计算--&quot;</span>)</span><br><span class="line">        result = fn(*args, **kwargs)</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用语法糖装饰函数</span></span><br><span class="line"><span class="meta">@logging</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_num</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">    result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> args:</span><br><span class="line">        result += value</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> kwargs.values():</span><br><span class="line">        result += value</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"><span class="meta">@logging</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">subtraction</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    result = a - b</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line"></span><br><span class="line">result = sum_num(<span class="number">1</span>, <span class="number">2</span>, a=<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"></span><br><span class="line">subtraction(<span class="number">4</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>–正在努力计算–<br>13<br>–正在努力计算–<br>2</p>
</blockquote>
<h6 id="多个装饰器的使用"><a href="#多个装饰器的使用" class="headerlink" title="多个装饰器的使用"></a>多个装饰器的使用</h6><p><code>多个装饰器的装饰过程是: 离函数最近的装饰器先装饰，然后外面的装饰器再进行装饰，由内到外的装饰过程</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_div</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;对被装饰的函数的返回值 div标签&quot;&quot;&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&lt;div&gt;&quot;</span> + func() + <span class="string">&quot;&lt;/div&gt;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_p</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;对被装饰的函数的返回值 p标签&quot;&quot;&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&lt;p&gt;&quot;</span> + func() + <span class="string">&quot;&lt;/p&gt;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 装饰过程: </span></span><br><span class="line"><span class="comment"># 1 content = make_p(content) </span></span><br><span class="line"><span class="comment"># 2 content = make_div(content)</span></span><br><span class="line"><span class="comment"># content = make_div(make_p(content))</span></span><br><span class="line"><span class="meta">@make_div</span></span><br><span class="line"><span class="meta">@make_p</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">content</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;人生苦短&quot;</span></span><br><span class="line"></span><br><span class="line">result = content()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>
<h6 id="带有参数的装饰器"><a href="#带有参数的装饰器" class="headerlink" title="带有参数的装饰器"></a>带有参数的装饰器</h6><p>带有参数的装饰器就是使用<code>装饰器装饰函数的时候可以传入指定参数，语法格式: @装饰器(参数,...)</code><br><code>错误写法</code>:&#x3D;&#x3D;装饰器只能接收一个参数，并且还是函数类型。&#x3D;&#x3D;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decorator</span>(<span class="params">fn, flag</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>(<span class="params">num1, num2</span>):</span></span><br><span class="line">        <span class="keyword">if</span> flag == <span class="string">&quot;+&quot;</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;--正在努力加法计算--&quot;</span>)</span><br><span class="line">        <span class="keyword">elif</span> flag == <span class="string">&quot;-&quot;</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;--正在努力减法计算--&quot;</span>)</span><br><span class="line">        result = fn(num1, num2)</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@decorator(<span class="params"><span class="string">&#x27;+&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    result = a + b</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">result = add(<span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Traceback (most recent call last):<br>  File “&#x2F;home&#x2F;python&#x2F;Desktop&#x2F;test&#x2F;hho.py”, line 12, in <module><br>    @decorator(‘+’)<br>TypeError: decorator() missing 1 required positional argument: ‘flag’</p>
</blockquote>
<p><code>正确写法</code>:&#x3D;&#x3D;在装饰器外面再包裹上一个函数，让最外面的函数接收参数，返回的是装饰器，因为@符号后面必须是装饰器实例。&#x3D;&#x3D;<br>在装饰器外面再包裹上一个函数，让最外面的函数接收参数，返回的是装饰器，<code>因为@符号后面必须是装饰器实例。</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加输出日志的功能</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logging</span>(<span class="params">flag</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">decorator</span>(<span class="params">fn</span>):</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inner</span>(<span class="params">num1, num2</span>):</span></span><br><span class="line">            <span class="keyword">if</span> flag == <span class="string">&quot;+&quot;</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;--正在努力加法计算--&quot;</span>)</span><br><span class="line">            <span class="keyword">elif</span> flag == <span class="string">&quot;-&quot;</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;--正在努力减法计算--&quot;</span>)</span><br><span class="line">            result = fn(num1, num2)</span><br><span class="line">            <span class="keyword">return</span> result</span><br><span class="line">        <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 返回装饰器</span></span><br><span class="line">    <span class="keyword">return</span> decorator</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用装饰器装饰函数</span></span><br><span class="line"><span class="meta">@logging(<span class="params"><span class="string">&quot;+&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    result = a + b</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@logging(<span class="params"><span class="string">&quot;-&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sub</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    result = a - b</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">result = add(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"></span><br><span class="line">result = sub(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure>
<h5 id="类装饰器的使用"><a href="#类装饰器的使用" class="headerlink" title="类装饰器的使用"></a>类装饰器的使用</h5><p>装饰器还有<code>一种特殊的用法就是类装饰器，就是通过定义一个类来装饰函数。</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Check</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, fn</span>):</span></span><br><span class="line">        <span class="comment"># 初始化操作在此完成</span></span><br><span class="line">        self.__fn = fn</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 实现__call__方法，表示对象是一个可调用对象，可以像调用函数一样进行调用。</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__call__</span>(<span class="params">self, *args, **kwargs</span>):</span></span><br><span class="line">        <span class="comment"># 添加装饰功能</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;请先登陆...&quot;</span>)</span><br><span class="line">        self.__fn()</span><br><span class="line"></span><br><span class="line"><span class="meta">@Check</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">comment</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;发表评论&quot;</span>)</span><br><span class="line">comment()</span><br></pre></td></tr></table></figure>
<ul>
<li>@Check 等价于 comment &#x3D; Check(comment), 所以需要提供一个init方法，并多增加一个fn参数。</li>
<li>要想类的实例对象能够像函数一样调用，需要在类里面使用call方法，<code>把类的实例变成可调用对象(callable)，也就是说可以像调用函数一样进行调用。</code><br><code>在call方法里进行对fn函数的装饰，可以添加额外的功能。</code><blockquote>
<p>执行结果:<br>请先登陆…<br>发表评论</p>
</blockquote>
</li>
</ul>
<h3 id="mini-web框架"><a href="#mini-web框架" class="headerlink" title="mini-web框架"></a>mini-web框架</h3><h4 id="web框架概述"><a href="#web框架概述" class="headerlink" title="web框架概述"></a>web框架概述</h4><p>web框架和web服务器的关系介绍：</p>
<p>前面已经学习过web服务器, 我们知道web服务器主要是接收用户的http请求,根据用户的请求返回不同的资源数据，但是之前我们开发的是静态web服务器，返回的都是静态资源数据，假如我们想要web服务器返回动态资源那么该如何进行处理呢？</p>
<p>使用web框架专门负责处理用户的动态资源请求，这个web框架其实就是一个为web服务器提供服务的应用程序，简称web框架。</p>
<p>关系说明:</p>
<ul>
<li><p>web服务器接收浏览器发起的请求，如果是动态资源请求找web框架来处理</p>
</li>
<li><p>web框架负责处理浏览器的动态资源请求，把处理的结果发生给web服务器</p>
</li>
<li><p>web服务器再把响应结果发生给浏览器</p>
</li>
<li><p>静态资源:不需要经常变化的资源，这种资源web服务器可以提前准备好，比如: png&#x2F;jpg&#x2F;css&#x2F;js等文件。</p>
</li>
<li><p>动态资源:和静态资源相反, 这种资源会经常变化，比如: 我们在京东浏览商品时经常会根据条件进行筛选，选择不同条件, 浏览的商品就不同，这种资源web服务器无法提前准备好，需要web框架来帮web服务器进行准备，在这里web服务器可以把.html的资源请求认为是动态资源请求交由web框架进行处理。</p>
</li>
<li><p>WSGI协议:Web服务器网关接口(Python Web Server Gateway Interface，缩写为WSGI)是为Python语言定义的Web服务器和Web应用程序或框架之间的一种简单而通用的接口。自从WSGI被开发出来以后，许多其它语言中也出现了类似接口。它是web服务器和web框架之间进行协同工作的一个规则，<code>WSGI协议规定web服务器把动态资源的请求信息传给web框架处理，web框架把处理好的结果返回给web服务器。</code></p>
</li>
</ul>
<h4 id="框架程序开发"><a href="#框架程序开发" class="headerlink" title="框架程序开发"></a>框架程序开发</h4><h5 id="框架职责介绍"><a href="#框架职责介绍" class="headerlink" title="框架职责介绍"></a>框架职责介绍</h5><ul>
<li>接收web服务器的动态资源请求，给web服务器提供处理动态资源请求的服务。</li>
</ul>
<h5 id="动态资源判断"><a href="#动态资源判断" class="headerlink" title="动态资源判断"></a>动态资源判断</h5><p>根据请求资源路径的后缀名进行判断</p>
<ul>
<li>如果请求资源路径的后缀名是.html则是动态资源请求, 让web框架程序进行处理。</li>
<li>否则是静态资源请求，让web服务器程序进行处理。</li>
</ul>
<p><code>web服务器程序(web.py)代码:</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> framework</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义web服务器类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HttpWebServer</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, port</span>):</span></span><br><span class="line">        <span class="comment"># 创建tcp服务端套接字</span></span><br><span class="line">        tcp_server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">        <span class="comment"># 设置端口号复用, 程序退出端口立即释放</span></span><br><span class="line">        tcp_server_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># 绑定端口号</span></span><br><span class="line">        tcp_server_socket.bind((<span class="string">&quot;&quot;</span>, port))</span><br><span class="line">        <span class="comment"># 设置监听</span></span><br><span class="line">        tcp_server_socket.listen(<span class="number">128</span>)</span><br><span class="line">        self.tcp_server_socket = tcp_server_socket</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 处理客户的请求,申明静态方法</span></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">handle_client_quest</span>(<span class="params">new_socket</span>):</span></span><br><span class="line">        <span class="comment"># 代码执行到此，说明连接建立成功</span></span><br><span class="line">        recv_client_data = new_socket.recv(<span class="number">4096</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(recv_client_data) == <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;关闭浏览器了&quot;</span>)</span><br><span class="line">            <span class="comment"># 关闭服务与客户端的套接字</span></span><br><span class="line">            new_socket.close()</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 对二进制数据进行解码</span></span><br><span class="line">        recv_client_content = recv_client_data.decode(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(recv_client_content)</span><br><span class="line">        <span class="comment"># 根据指定字符串进行分割， 最大分割次数指定2</span></span><br><span class="line">        request_list = recv_client_content.split(<span class="string">&quot; &quot;</span>, maxsplit=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 获取请求资源路径</span></span><br><span class="line">        request_path = request_list[<span class="number">1</span>]</span><br><span class="line">        <span class="built_in">print</span>(request_path)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 判断请求的是否是根目录，如果条件成立，指定首页数据返回</span></span><br><span class="line">        <span class="keyword">if</span> request_path == <span class="string">&quot;/&quot;</span>:</span><br><span class="line">            request_path = <span class="string">&quot;/index.html&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 判断是否是动态资源请求</span></span><br><span class="line">        <span class="keyword">if</span> request_path.endswith(<span class="string">&quot;.html&quot;</span>):</span><br><span class="line">            <span class="string">&quot;&quot;&quot;这里是动态资源请求，把请求信息交给框架处理&quot;&quot;&quot;</span></span><br><span class="line">            <span class="comment"># 字典存储用户的请求信息</span></span><br><span class="line">            env = &#123;</span><br><span class="line">                <span class="string">&quot;request_path&quot;</span>: request_path</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 获取处理结果</span></span><br><span class="line">            status, headers, response_body = framework.handle_request(env)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 使用框架处理的数据拼接响应报文</span></span><br><span class="line">            <span class="comment"># 响应行</span></span><br><span class="line">            response_line = <span class="string">&quot;HTTP/1.1 %s\r\n&quot;</span> % status</span><br><span class="line">            <span class="comment"># 响应头</span></span><br><span class="line">            response_header = <span class="string">&quot;&quot;</span></span><br><span class="line">            <span class="comment"># 遍历头部信息</span></span><br><span class="line">            <span class="keyword">for</span> header <span class="keyword">in</span> headers:</span><br><span class="line">                <span class="comment"># 拼接多个响应头</span></span><br><span class="line">                response_header += <span class="string">&quot;%s: %s\r\n&quot;</span> % header</span><br><span class="line">            response_data = (response_line +</span><br><span class="line">                             response_header +</span><br><span class="line">                             <span class="string">&quot;\r\n&quot;</span> +</span><br><span class="line">                             response_body).encode(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">            <span class="comment"># 发送数据</span></span><br><span class="line">            new_socket.send(response_data)</span><br><span class="line">            <span class="comment"># 关闭socket</span></span><br><span class="line">            new_socket.close()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="string">&quot;&quot;&quot;这里是静态资源请求&quot;&quot;&quot;</span></span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                <span class="comment"># 动态打开指定文件</span></span><br><span class="line">                <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;static&quot;</span> + request_path, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">                    <span class="comment"># 读取文件数据</span></span><br><span class="line">                    file_data = file.read()</span><br><span class="line">            <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                <span class="comment"># 请求资源不存在，返回404数据</span></span><br><span class="line">                <span class="comment"># 响应行</span></span><br><span class="line">                response_line = <span class="string">&quot;HTTP/1.1 404 Not Found\r\n&quot;</span></span><br><span class="line">                <span class="comment"># 响应头</span></span><br><span class="line">                response_header = <span class="string">&quot;Server: PWS1.0\r\n&quot;</span></span><br><span class="line">                <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;static/error.html&quot;</span>, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">                    file_data = file.read()</span><br><span class="line">                <span class="comment"># 响应体</span></span><br><span class="line">                response_body = file_data</span><br><span class="line"></span><br><span class="line">                <span class="comment"># 拼接响应报文</span></span><br><span class="line">                response_data = (response_line + response_header + <span class="string">&quot;\r\n&quot;</span>).encode(<span class="string">&quot;utf-8&quot;</span>) + response_body</span><br><span class="line">                <span class="comment"># 发送数据</span></span><br><span class="line">                new_socket.send(response_data)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># 响应行</span></span><br><span class="line">                response_line = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span></span><br><span class="line">                <span class="comment"># 响应头</span></span><br><span class="line">                response_header = <span class="string">&quot;Server: PWS1.0\r\n&quot;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># 响应体</span></span><br><span class="line">                response_body = file_data</span><br><span class="line"></span><br><span class="line">                <span class="comment"># 拼接响应报文</span></span><br><span class="line">                response_data = (response_line + response_header + <span class="string">&quot;\r\n&quot;</span>).encode(<span class="string">&quot;utf-8&quot;</span>) + response_body</span><br><span class="line">                <span class="comment"># 发送数据</span></span><br><span class="line">                new_socket.send(response_data)</span><br><span class="line">            <span class="keyword">finally</span>:</span><br><span class="line">                <span class="comment"># 关闭服务与客户端的套接字</span></span><br><span class="line">                new_socket.close()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">start</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="comment"># 等待接受客户端的连接请求</span></span><br><span class="line">            new_socket, ip_port = self.tcp_server_socket.accept()</span><br><span class="line">            sub_thread = threading.Thread(target=self.handle_client_quest, args=(new_socket,))</span><br><span class="line">            <span class="comment"># 设置守护线程</span></span><br><span class="line">            sub_thread.setDaemon(<span class="literal">True</span>)</span><br><span class="line">            sub_thread.start()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 程序入口函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取命令行参数判断长度</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(sys.argv) != <span class="number">2</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;执行命令如下: python3 xxx.py 9000&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 判断端口号是否是数字</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> sys.argv[<span class="number">1</span>].isdigit():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;执行命令如下: python3 xxx.py 9000&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 需要转成int类型</span></span><br><span class="line">    port = <span class="built_in">int</span>(sys.argv[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建web服务器</span></span><br><span class="line">    web_server = HttpWebServer(port)</span><br><span class="line">    <span class="comment"># 启动web服务器</span></span><br><span class="line">    web_server.start()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<h4 id="处理客户端的动态资源请求"><a href="#处理客户端的动态资源请求" class="headerlink" title="处理客户端的动态资源请求"></a>处理客户端的动态资源请求</h4><ol>
<li>创建web框架程序</li>
<li>接收web服务器的动态资源请求</li>
<li>处理web服务器的动态资源请求并把处理结果返回给web服务器</li>
<li>web服务器把处理结果组装成响应报文发送给浏览器</li>
</ol>
<p><code>web框架程序(framework.py)代码:</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;miniweb框架，负责处理动态资源请求&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取首页数据</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="comment"># 响应状态</span></span><br><span class="line">    status = <span class="string">&quot;200 OK&quot;</span>;</span><br><span class="line">    <span class="comment"># 响应头</span></span><br><span class="line">    response_header = [(<span class="string">&quot;Server&quot;</span>, <span class="string">&quot;PWS2.0&quot;</span>)]</span><br><span class="line">    <span class="comment"># 处理后的数据</span></span><br><span class="line">    data = time.ctime()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> status, response_header, data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 没有找到动态资源</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">not_found</span>():</span></span><br><span class="line">    <span class="comment"># 响应状态</span></span><br><span class="line">    status = <span class="string">&quot;404 Not Found&quot;</span>;</span><br><span class="line">    <span class="comment"># 响应头</span></span><br><span class="line">    response_header = [(<span class="string">&quot;Server&quot;</span>, <span class="string">&quot;PWS2.0&quot;</span>)]</span><br><span class="line">    <span class="comment"># 处理后的数据</span></span><br><span class="line">    data = <span class="string">&quot;not found&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> status, response_header, data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 处理动态资源请求</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handle_request</span>(<span class="params">env</span>):</span></span><br><span class="line">    <span class="comment"># 获取动态请求资源路径</span></span><br><span class="line">    request_path = env[<span class="string">&quot;request_path&quot;</span>]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;接收到的动态资源请求:&quot;</span>, request_path)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> request_path == <span class="string">&quot;/index.html&quot;</span>:</span><br><span class="line">        <span class="comment"># 获取首页数据</span></span><br><span class="line">        result = index()</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># 没有找到动态资源</span></span><br><span class="line">        result = not_found()</span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>
<h5 id="模板替换功能开发-使用模拟数据替换模板变量"><a href="#模板替换功能开发-使用模拟数据替换模板变量" class="headerlink" title="模板替换功能开发,使用模拟数据替换模板变量"></a>模板替换功能开发,使用模拟数据替换模板变量</h5><p><code>framework.py示例代码:</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取首页数据</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="comment"># 响应状态</span></span><br><span class="line">    status = <span class="string">&quot;200 OK&quot;</span>;</span><br><span class="line">    <span class="comment"># 响应头</span></span><br><span class="line">    response_header = [(<span class="string">&quot;Server&quot;</span>, <span class="string">&quot;PWS2.0&quot;</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 1. 打开模板文件，读取数据</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;template/index.html&quot;</span>, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        file_data = file.read()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 处理后的数据, 从数据库查询</span></span><br><span class="line">    data = time.ctime()</span><br><span class="line">    <span class="comment"># 2. 替换模板文件中的模板遍历</span></span><br><span class="line">    result = file_data.replace(<span class="string">&quot;&#123;%content%&#125;&quot;</span>, data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> status, response_header, result</span><br></pre></td></tr></table></figure>
<h5 id="路由列表功能开发"><a href="#路由列表功能开发" class="headerlink" title="路由列表功能开发"></a>路由列表功能开发</h5><ul>
<li>什么是路由？路由就是请求的URL到处理函数的映射，也就是说提前把请求的URL和处理函数关联好。</li>
<li>路由列表:这么多的路由如何管理呢， 可以使用一个路由列表进行管理，通过路由列表保存每一个路由。</li>
<li>在路由列表添加路由,根据用户请求遍历路由列表处理用户请求<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义路由列表</span></span><br><span class="line">route_list = [</span><br><span class="line">    (<span class="string">&quot;/index.html&quot;</span>, index),</span><br><span class="line">    (<span class="string">&quot;/center.html&quot;</span>, center)</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 处理动态资源请求</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handle_request</span>(<span class="params">env</span>):</span></span><br><span class="line">    <span class="comment"># 获取动态请求资源路径</span></span><br><span class="line">    request_path = env[<span class="string">&quot;request_path&quot;</span>]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;接收到的动态资源请求:&quot;</span>, request_path)</span><br><span class="line">    <span class="comment"># 遍历路由列表，选择执行的函数</span></span><br><span class="line">    <span class="keyword">for</span> path, func <span class="keyword">in</span> route_list:</span><br><span class="line">        <span class="keyword">if</span> request_path == path:</span><br><span class="line">            result = func()</span><br><span class="line">            <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># 没有找到动态资源</span></span><br><span class="line">        result = not_found()</span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="装饰器方式的添加路由"><a href="#装饰器方式的添加路由" class="headerlink" title="装饰器方式的添加路由"></a>装饰器方式的添加路由</h5><p>前面我们已经实现了路由列表，但是每次添加路由都需要手动添加来完成，接下来我们想要完成路由的自动添加，可以通过装饰器来实现，在使用装饰器对处理函数进行装饰的时候我们需要知道装饰的函数和那个请求路径进行关联，也就是说装饰器需要接收一个url参数，这样我们定义的装饰器是一个带有参数的装饰器。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;miniweb框架，负责处理动态资源请求&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义路由列表</span></span><br><span class="line">route_list = []</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义带有参数的装饰器</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">route</span>(<span class="params">path</span>):</span></span><br><span class="line">    <span class="comment"># 装饰器</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">decorator</span>(<span class="params">func</span>):</span></span><br><span class="line">        <span class="comment"># 当执行装饰器装饰指定函数的时候，把路径和函数添加到路由列表</span></span><br><span class="line">        route_list.append((path, func))</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inner</span>():</span></span><br><span class="line">            <span class="comment"># 执行指定函数</span></span><br><span class="line">            <span class="keyword">return</span> func()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> inner</span><br><span class="line">    <span class="comment"># 返回装饰器</span></span><br><span class="line">    <span class="keyword">return</span> decorator</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取首页数据</span></span><br><span class="line"><span class="meta">@route(<span class="params"><span class="string">&quot;/index.html&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="comment"># 响应状态</span></span><br><span class="line">    status = <span class="string">&quot;200 OK&quot;</span>;</span><br><span class="line">    <span class="comment"># 响应头</span></span><br><span class="line">    response_header = [(<span class="string">&quot;Server&quot;</span>, <span class="string">&quot;PWS2.0&quot;</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 打开模板文件，读取数据</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;template/index.html&quot;</span>, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        file_data = file.read()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 处理后的数据, 从数据库查询</span></span><br><span class="line">    data = time.ctime()</span><br><span class="line">    <span class="comment"># 替换模板文件中的模板遍历</span></span><br><span class="line">    result = file_data.replace(<span class="string">&quot;&#123;%content%&#125;&quot;</span>, data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> status, response_header, result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取个人中心数据</span></span><br><span class="line"><span class="meta">@route(<span class="params"><span class="string">&quot;/center.html&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">center</span>():</span></span><br><span class="line">    <span class="comment"># 响应状态</span></span><br><span class="line">    status = <span class="string">&quot;200 OK&quot;</span>;</span><br><span class="line">    <span class="comment"># 响应头</span></span><br><span class="line">    response_header = [(<span class="string">&quot;Server&quot;</span>, <span class="string">&quot;PWS2.0&quot;</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 打开模板文件，读取数据</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;template/center.html&quot;</span>, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        file_data = file.read()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 处理后的数据, 从数据库查询</span></span><br><span class="line">    data = time.ctime()</span><br><span class="line">    <span class="comment"># 替换模板文件中的模板遍历</span></span><br><span class="line">    result = file_data.replace(<span class="string">&quot;&#123;%content%&#125;&quot;</span>, data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> status, response_header, result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 没有找到动态资源</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">not_found</span>():</span></span><br><span class="line">    <span class="comment"># 响应状态</span></span><br><span class="line">    status = <span class="string">&quot;404 Not Found&quot;</span>;</span><br><span class="line">    <span class="comment"># 响应头</span></span><br><span class="line">    response_header = [(<span class="string">&quot;Server&quot;</span>, <span class="string">&quot;PWS2.0&quot;</span>)]</span><br><span class="line">    <span class="comment"># 处理后的数据</span></span><br><span class="line">    data = <span class="string">&quot;not found&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> status, response_header, data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 处理动态资源请求</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handle_request</span>(<span class="params">env</span>):</span></span><br><span class="line">    <span class="comment"># 获取动态请求资源路径</span></span><br><span class="line">    request_path = env[<span class="string">&quot;request_path&quot;</span>]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;接收到的动态资源请求:&quot;</span>, request_path)</span><br><span class="line">    <span class="comment"># 遍历路由列表，选择执行的函数</span></span><br><span class="line">    <span class="keyword">for</span> path, func <span class="keyword">in</span> route_list:</span><br><span class="line">        <span class="keyword">if</span> request_path == path:</span><br><span class="line">            result = func()</span><br><span class="line">            <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># 没有找到动态资源</span></span><br><span class="line">        result = not_found()</span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<h5 id="显示股票信息页面的开发"><a href="#显示股票信息页面的开发" class="headerlink" title="显示股票信息页面的开发"></a>显示股票信息页面的开发</h5><h6 id="数据准备"><a href="#数据准备" class="headerlink" title="数据准备"></a>数据准备</h6><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建数据库</span></span><br><span class="line"><span class="keyword">create</span> database stock_db charset<span class="operator">=</span>utf8;</span><br><span class="line"><span class="comment">-- 切换数据库</span></span><br><span class="line">use stock_db;</span><br><span class="line"><span class="comment">-- 执行sql文件</span></span><br><span class="line">source stock_db.sql;</span><br></pre></td></tr></table></figure>
<ul>
<li>根据sql语句查询股票信息<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 获取首页数据</span></span><br><span class="line"><span class="meta">@route(<span class="params"><span class="string">&quot;/index.html&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="comment"># 响应状态</span></span><br><span class="line">    status = <span class="string">&quot;200 OK&quot;</span>;</span><br><span class="line">    <span class="comment"># 响应头</span></span><br><span class="line">    response_header = [(<span class="string">&quot;Server&quot;</span>, <span class="string">&quot;PWS2.0&quot;</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 打开模板文件，读取数据</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;template/index.html&quot;</span>, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        file_data = file.read()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 处理后的数据, 从数据库查询</span></span><br><span class="line">    conn = pymysql.connect(host=<span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">                           port=<span class="number">3306</span>,</span><br><span class="line">                           user=<span class="string">&quot;root&quot;</span>,</span><br><span class="line">                           password=<span class="string">&quot;mysql&quot;</span>,</span><br><span class="line">                           database=<span class="string">&quot;stock_db&quot;</span>,</span><br><span class="line">                           charset=<span class="string">&quot;utf8&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取游标</span></span><br><span class="line">    cursor = conn.cursor()</span><br><span class="line">    <span class="comment"># 查询sql语句</span></span><br><span class="line">    sql = <span class="string">&quot;select * from info;&quot;</span></span><br><span class="line">    <span class="comment"># 执行sql</span></span><br><span class="line">    cursor.execute(sql)</span><br><span class="line">    <span class="comment"># 获取结果集</span></span><br><span class="line">    result = cursor.fetchall()</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure></li>
<li>使用查询数据替换模板变量<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取首页数据</span></span><br><span class="line"><span class="meta">@route(<span class="params"><span class="string">&quot;/index.html&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="comment"># 响应状态</span></span><br><span class="line">    status = <span class="string">&quot;200 OK&quot;</span>;</span><br><span class="line">    <span class="comment"># 响应头</span></span><br><span class="line">    response_header = [(<span class="string">&quot;Server&quot;</span>, <span class="string">&quot;PWS2.0&quot;</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 打开模板文件，读取数据</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;template/index.html&quot;</span>, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        file_data = file.read()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 处理后的数据, 从数据库查询</span></span><br><span class="line">    conn = pymysql.connect(host=<span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">                           port=<span class="number">3306</span>,</span><br><span class="line">                           user=<span class="string">&quot;root&quot;</span>,</span><br><span class="line">                           password=<span class="string">&quot;mysql&quot;</span>,</span><br><span class="line">                           database=<span class="string">&quot;stock_db&quot;</span>,</span><br><span class="line">                           charset=<span class="string">&quot;utf8&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取游标</span></span><br><span class="line">    cursor = conn.cursor()</span><br><span class="line">    <span class="comment"># 查询sql语句</span></span><br><span class="line">    sql = <span class="string">&quot;select * from info;&quot;</span></span><br><span class="line">    <span class="comment"># 执行sql</span></span><br><span class="line">    cursor.execute(sql)</span><br><span class="line">    <span class="comment"># 获取结果集</span></span><br><span class="line">    result = cursor.fetchall()</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line"></span><br><span class="line">    data = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> result:</span><br><span class="line">        data += <span class="string">&#x27;&#x27;&#x27;&lt;tr&gt;</span></span><br><span class="line"><span class="string">                    &lt;td&gt;%s&lt;/td&gt;</span></span><br><span class="line"><span class="string">                    &lt;td&gt;%s&lt;/td&gt;</span></span><br><span class="line"><span class="string">                    &lt;td&gt;%s&lt;/td&gt;</span></span><br><span class="line"><span class="string">                    &lt;td&gt;%s&lt;/td&gt;</span></span><br><span class="line"><span class="string">                    &lt;td&gt;%s&lt;/td&gt;</span></span><br><span class="line"><span class="string">                    &lt;td&gt;%s&lt;/td&gt;</span></span><br><span class="line"><span class="string">                    &lt;td&gt;%s&lt;/td&gt;</span></span><br><span class="line"><span class="string">                    &lt;td&gt;%s&lt;/td&gt;</span></span><br><span class="line"><span class="string">                    &lt;td&gt;&lt;input type=&quot;button&quot; value=&quot;添加&quot; id=&quot;toAdd&quot; name=&quot;toAdd&quot; systemidvaule=&quot;000007&quot;&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="string">                   &lt;/tr&gt;&#x27;&#x27;&#x27;</span> % row</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 替换模板文件中的模板遍历</span></span><br><span class="line">    result = file_data.replace(<span class="string">&quot;&#123;%content%&#125;&quot;</span>, data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> status, response_header, result</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="个人中心数据接口的开发"><a href="#个人中心数据接口的开发" class="headerlink" title="个人中心数据接口的开发"></a>个人中心数据接口的开发</h5><p>根据sql语句查询个人中心数据.将个人中心数据转成json字符串并返回</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 个人中心数据接口开发</span></span><br><span class="line"><span class="meta">@route(<span class="params"><span class="string">&quot;/center_data.html&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">center_data</span>():</span></span><br><span class="line">    <span class="comment"># 响应状态</span></span><br><span class="line">    status = <span class="string">&quot;200 OK&quot;</span>;</span><br><span class="line">    <span class="comment"># 响应头</span></span><br><span class="line">    response_header = [(<span class="string">&quot;Server&quot;</span>, <span class="string">&quot;PWS2.0&quot;</span>), (<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;text/html;charset=utf-8&quot;</span>)]</span><br><span class="line">    conn = pymysql.connect(host=<span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">                           port=<span class="number">3306</span>,</span><br><span class="line">                           user=<span class="string">&quot;root&quot;</span>,</span><br><span class="line">                           password=<span class="string">&quot;mysql&quot;</span>,</span><br><span class="line">                           database=<span class="string">&quot;stock_db&quot;</span>,</span><br><span class="line">                           charset=<span class="string">&quot;utf8&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取游标</span></span><br><span class="line">    cursor = conn.cursor()</span><br><span class="line">    <span class="comment"># 查询sql语句</span></span><br><span class="line">    sql = <span class="string">&#x27;&#x27;&#x27;select i.code, i.short, i.chg, </span></span><br><span class="line"><span class="string">             i.turnover, i.price, i.highs, f.note_info </span></span><br><span class="line"><span class="string">             from info as i inner join focus as f on i.id = f.info_id;&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># 执行sql</span></span><br><span class="line">    cursor.execute(sql)</span><br><span class="line">    <span class="comment"># 获取结果集</span></span><br><span class="line">    result = cursor.fetchall()</span><br><span class="line">    <span class="comment"># 关闭游标</span></span><br><span class="line">    cursor.close()</span><br><span class="line">    <span class="comment"># 关闭数据库连接</span></span><br><span class="line">    conn.close()</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line">     <span class="comment"># 个人中心数据列表</span></span><br><span class="line">    center_data_list = <span class="built_in">list</span>()</span><br><span class="line">    <span class="comment"># 遍历每一行数据转成字典</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> result:</span><br><span class="line">        <span class="comment"># 创建空的字典</span></span><br><span class="line">        center_dict = <span class="built_in">dict</span>()</span><br><span class="line">        center_dict[<span class="string">&quot;code&quot;</span>] = row[<span class="number">0</span>]</span><br><span class="line">        center_dict[<span class="string">&quot;short&quot;</span>] = row[<span class="number">1</span>]</span><br><span class="line">        center_dict[<span class="string">&quot;chg&quot;</span>] = row[<span class="number">2</span>]</span><br><span class="line">        center_dict[<span class="string">&quot;turnover&quot;</span>] = row[<span class="number">3</span>]</span><br><span class="line">        center_dict[<span class="string">&quot;price&quot;</span>] = <span class="built_in">str</span>(row[<span class="number">4</span>])</span><br><span class="line">        center_dict[<span class="string">&quot;highs&quot;</span>] = <span class="built_in">str</span>(row[<span class="number">5</span>])</span><br><span class="line">        center_dict[<span class="string">&quot;note_info&quot;</span>] = row[<span class="number">6</span>]</span><br><span class="line">        <span class="comment"># 添加每个字典信息</span></span><br><span class="line">        center_data_list.append(center_dict)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 把列表字典转成json字符串, 并在控制台显示</span></span><br><span class="line">    json_str = json.dumps(center_data_list,ensure_ascii=<span class="literal">False</span>)</span><br><span class="line">    <span class="built_in">print</span>(json_str)</span><br><span class="line">    <span class="keyword">return</span> status, response_header, json_str</span><br></pre></td></tr></table></figure>
<p>代码说明:</p>
<ul>
<li>json.dumps函数把字典转成json字符串:函数的第一个参数表示要把指定对象转成json字符串,参数的第二个参数ensure_ascii&#x3D;False表示不使用ascii编码，可以在控制台显示中文。</li>
<li>响应头添加Content-Type表示指定数据的编码格式</li>
</ul>
<h5 id="ajax请求数据渲染个人中心页面"><a href="#ajax请求数据渲染个人中心页面" class="headerlink" title="ajax请求数据渲染个人中心页面"></a>ajax请求数据渲染个人中心页面</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取个人中心数据</span></span><br><span class="line"><span class="meta">@route(<span class="params"><span class="string">&quot;/center.html&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">center</span>():</span></span><br><span class="line">    <span class="comment"># 响应状态</span></span><br><span class="line">    status = <span class="string">&quot;200 OK&quot;</span></span><br><span class="line">    <span class="comment"># 响应头</span></span><br><span class="line">    response_header = [(<span class="string">&quot;Server&quot;</span>, <span class="string">&quot;PWS2.0&quot;</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 打开模板文件，读取数据</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;template/center.html&quot;</span>, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        file_data = file.read()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 替换模板文件中的模板遍历</span></span><br><span class="line">    result = file_data.replace(<span class="string">&quot;&#123;%content%&#125;&quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> status, response_header, result</span><br></pre></td></tr></table></figure>
<p>根据用户请求返回个人中心空模板文件数据,在个人中心模板文件添加ajax请求获取个人中心数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">// 发送ajax请求获取个人中心页面数据</span><br><span class="line">$.get(<span class="string">&quot;center_data.html&quot;</span>, function (data) &#123;</span><br><span class="line"></span><br><span class="line">    var data_array = data;</span><br><span class="line"></span><br><span class="line">    // 获取table标签对象</span><br><span class="line">    var $table = $(<span class="string">&quot;.table&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span>(var i = <span class="number">0</span>; i &lt; data_array.length; i++)&#123;</span><br><span class="line">        // 获取每一条对象</span><br><span class="line">        var center_obj = data_array[i];</span><br><span class="line">        var row_html = <span class="string">&#x27;&lt;tr&gt;&#x27;</span> +</span><br><span class="line">            <span class="string">&#x27;&lt;td&gt;&#x27;</span>+ center_obj.code +<span class="string">&#x27;&lt;/td&gt;&#x27;</span> +</span><br><span class="line">            <span class="string">&#x27;&lt;td&gt;&#x27;</span>+ center_obj.short +<span class="string">&#x27;&lt;/td&gt;&#x27;</span> +</span><br><span class="line">            <span class="string">&#x27;&lt;td&gt;&#x27;</span>+ center_obj.chg +<span class="string">&#x27;&lt;/td&gt;&#x27;</span> +</span><br><span class="line">            <span class="string">&#x27;&lt;td&gt;&#x27;</span>+ center_obj.turnover +<span class="string">&#x27;&lt;/td&gt;&#x27;</span> +</span><br><span class="line">            <span class="string">&#x27;&lt;td&gt;&#x27;</span>+ center_obj.price +<span class="string">&#x27;&lt;/td&gt;&#x27;</span> +</span><br><span class="line">            <span class="string">&#x27;&lt;td&gt;&#x27;</span>+ center_obj.highs +<span class="string">&#x27;&lt;/td&gt;&#x27;</span> +</span><br><span class="line">            <span class="string">&#x27;&lt;td&gt;&#x27;</span>+ center_obj.note_info +<span class="string">&#x27;&lt;/td&gt;&#x27;</span> +</span><br><span class="line">            <span class="string">&#x27;&lt;td&gt;&lt;a type=&quot;button&quot; class=&quot;btn btn-default btn-xs&quot; href=&quot;/update/000007.html&quot;&gt; &lt;span class=&quot;glyphicon glyphicon-star&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt; 修改 &lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;button&quot; value=&quot;删除&quot; id=&quot;toDel&quot; name=&quot;toDel&quot; systemidvaule=&quot;000007&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&#x27;</span>;</span><br><span class="line">        // 为table标签添加每一行组装的html数据</span><br><span class="line">        $table.append(row_html);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;, <span class="string">&quot;json&quot;</span>);</span><br></pre></td></tr></table></figure>


<h4 id="logging日志"><a href="#logging日志" class="headerlink" title="logging日志"></a>logging日志</h4><h5 id="logging日志的介绍"><a href="#logging日志的介绍" class="headerlink" title="logging日志的介绍"></a>logging日志的介绍</h5><p>在现实生活中，记录日志非常重要，比如:银行转账时会有转账记录；飞机飞行过程中，会有个黑盒子(飞行数据记录器)记录着飞机的飞行过程，那在咱们python程序中想要记录程序在运行时所产生的日志信息，怎么做呢?<br>可以使用 logging 这个包来完成<br>记录程序日志信息的目的是:</p>
<ul>
<li>可以很方便的了解程序的运行情况</li>
<li>可以分析用户的操作行为、喜好等信息</li>
<li>方便开发人员检查bug</li>
</ul>
<h5 id="x3D-x3D-logging日志级别介绍-x3D-x3D"><a href="#x3D-x3D-logging日志级别介绍-x3D-x3D" class="headerlink" title="&#x3D;&#x3D;logging日志级别介绍&#x3D;&#x3D;"></a>&#x3D;&#x3D;logging日志级别介绍&#x3D;&#x3D;</h5><p>日志等级可以分为5个，从低到高分别是:DEBUG,INFO,WARNING,ERROR,CRITICAL<br>日志等级说明:</p>
<ul>
<li><code>DEBUG</code>：程序调试bug时使用</li>
<li><code>INFO</code>：程序正常运行时使用</li>
<li><code>WARNING</code>：程序未按预期运行时使用，但并不是错误，如:用户登录密码错误</li>
<li><code>ERROR</code>：程序出错误时使用，如:IO操作失败</li>
<li><code>CRITICAL</code>：特别严重的问题，导致程序不能再继续运行时使用，如:磁盘空间为空，一般很少使用<br>默认的是WARNING等级，当在WARNING或WARNING之上等级的才记录日志信息。<br>日志等级从低到高的顺序是: DEBUG &lt; INFO &lt; WARNING &lt; ERROR &lt; CRITICAL</li>
</ul>
<h5 id="logging日志的使用"><a href="#logging日志的使用" class="headerlink" title="logging日志的使用"></a>logging日志的使用</h5><p>在 logging 包中记录日志的方式有两种:</p>
<ul>
<li>输出到控制台</li>
<li>保存到日志文件<br>日志信息输出到控制台的示例代码:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line">logging.debug(<span class="string">&#x27;这是一个debug级别的日志信息&#x27;</span>)</span><br><span class="line">logging.info(<span class="string">&#x27;这是一个info级别的日志信息&#x27;</span>)</span><br><span class="line">logging.warning(<span class="string">&#x27;这是一个warning级别的日志信息&#x27;</span>)</span><br><span class="line">logging.error(<span class="string">&#x27;这是一个error级别的日志信息&#x27;</span>)</span><br><span class="line">logging.critical(<span class="string">&#x27;这是一个critical级别的日志信息&#x27;</span>)</span><br></pre></td></tr></table></figure>
日志信息只显示了大于等于WARNING级别的日志，这说明<code>·默认的日志级别设置为WARNING·</code>logging日志等级和输出格式的设置:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置日志等级和输出日志格式</span></span><br><span class="line">logging.basicConfig(level=logging.DEBUG,</span><br><span class="line">                    <span class="built_in">format</span>=<span class="string">&#x27;%(asctime)s - %(filename)s[line:%(lineno)d] - %(levelname)s: %(message)s&#x27;</span>)</span><br><span class="line"></span><br><span class="line">logging.debug(<span class="string">&#x27;这是一个debug级别的日志信息&#x27;</span>)</span><br><span class="line">logging.info(<span class="string">&#x27;这是一个info级别的日志信息&#x27;</span>)</span><br><span class="line">logging.warning(<span class="string">&#x27;这是一个warning级别的日志信息&#x27;</span>)</span><br><span class="line">logging.error(<span class="string">&#x27;这是一个error级别的日志信息&#x27;</span>)</span><br><span class="line">logging.critical(<span class="string">&#x27;这是一个critical级别的日志信息&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li>level 表示设置的日志等级</li>
<li>format 表示日志的输出格式, 参数说明:<ul>
<li>%(levelname)s: 打印日志级别名称</li>
<li>%(filename)s: 打印当前执行程序名</li>
<li>%(lineno)d: 打印日志的当前行号</li>
<li>%(asctime)s: 打印日志的时间</li>
<li>%(message)s: 打印日志信息<br>日志信息保存到日志文件的示例代码:</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line">logging.basicConfig(level=logging.DEBUG,</span><br><span class="line">                    <span class="built_in">format</span>=<span class="string">&#x27;%(asctime)s - %(filename)s[line:%(lineno)d] - %(levelname)s: %(message)s&#x27;</span>,</span><br><span class="line">                    filename=<span class="string">&quot;log.txt&quot;</span>,</span><br><span class="line">                    filemode=<span class="string">&quot;w&quot;</span>)</span><br><span class="line"></span><br><span class="line">logging.debug(<span class="string">&#x27;这是一个debug级别的日志信息&#x27;</span>)</span><br><span class="line">logging.info(<span class="string">&#x27;这是一个info级别的日志信息&#x27;</span>)</span><br><span class="line">logging.warning(<span class="string">&#x27;这是一个warning级别的日志信息&#x27;</span>)</span><br><span class="line">logging.error(<span class="string">&#x27;这是一个error级别的日志信息&#x27;</span>)</span><br><span class="line">logging.critical(<span class="string">&#x27;这是一个critical级别的日志信息&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="logging日志在mini-web项目中应用"><a href="#logging日志在mini-web项目中应用" class="headerlink" title="logging日志在mini-web项目中应用"></a>logging日志在mini-web项目中应用</h5><h6 id="web-py-程序使用logging日志示例"><a href="#web-py-程序使用logging日志示例" class="headerlink" title="web.py 程序使用logging日志示例:"></a>web.py 程序使用logging日志示例:</h6><p>1.程序入口模块设置logging日志的设置</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"> <span class="keyword">import</span> threading</span><br><span class="line"> <span class="keyword">import</span> sys</span><br><span class="line"> <span class="keyword">import</span> framework</span><br><span class="line"> <span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"> <span class="comment"># logging日志的配置</span></span><br><span class="line"> logging.basicConfig(level=logging.DEBUG,</span><br><span class="line">                     <span class="built_in">format</span>=<span class="string">&#x27;%(asctime)s - %(filename)s[line:%(lineno)d] - %(levelname)s: %(message)s&#x27;</span>,</span><br><span class="line">                     filename=<span class="string">&quot;log.txt&quot;</span>,</span><br><span class="line">                     filemode=<span class="string">&quot;w&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>2.INFO级别的日志输出，示例代码:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断是否是动态资源请求</span></span><br><span class="line"> <span class="keyword">if</span> request_path.endswith(<span class="string">&quot;.html&quot;</span>):</span><br><span class="line">     <span class="string">&quot;&quot;&quot;这里是动态资源请求，把请求信息交给框架处理&quot;&quot;&quot;</span></span><br><span class="line">     logging.info(<span class="string">&quot;动态资源请求:&quot;</span> + request_path)</span><br><span class="line">     ...</span><br><span class="line"> <span class="keyword">else</span>:</span><br><span class="line">     <span class="string">&quot;&quot;&quot;这里是静态资源请求&quot;&quot;&quot;</span></span><br><span class="line">     logging.info(<span class="string">&quot;静态资源请求:&quot;</span> + request_path)</span><br><span class="line">     ...</span><br></pre></td></tr></table></figure>
<p>3.WARNING级别的日志输出，示例代码:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取命令行参数判断长度</span></span><br><span class="line"> <span class="keyword">if</span> <span class="built_in">len</span>(sys.argv) != <span class="number">2</span>:</span><br><span class="line">     <span class="built_in">print</span>(<span class="string">&quot;执行命令如下: python3 xxx.py 9000&quot;</span>)</span><br><span class="line">     logging.warning(<span class="string">&quot;用户在命令行启动程序参数个数不正确!&quot;</span>)</span><br><span class="line">     <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line"> <span class="comment"># 判断端口号是否是数字</span></span><br><span class="line"> <span class="keyword">if</span> <span class="keyword">not</span> sys.argv[<span class="number">1</span>].isdigit():</span><br><span class="line">     <span class="built_in">print</span>(<span class="string">&quot;执行命令如下: python3 xxx.py 9000&quot;</span>)</span><br><span class="line">     logging.warning(<span class="string">&quot;用户在命令行启动程序参数不是数字字符串!&quot;</span>)</span><br><span class="line">     <span class="keyword">return</span></span><br></pre></td></tr></table></figure>
<h5 id="framework-py-程序使用logging日志示例"><a href="#framework-py-程序使用logging日志示例" class="headerlink" title="framework.py 程序使用logging日志示例:"></a>framework.py 程序使用logging日志示例:</h5><p>4.ERROR级别的日志输出，示例代码:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 处理动态资源请求</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handle_request</span>(<span class="params">env</span>):</span></span><br><span class="line">    <span class="comment"># 获取动态请求资源路径</span></span><br><span class="line">    request_path = env[<span class="string">&quot;request_path&quot;</span>]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;接收到的动态资源请求:&quot;</span>, request_path)</span><br><span class="line">    <span class="comment"># 遍历路由列表，选择执行的函数</span></span><br><span class="line">    <span class="keyword">for</span> path, func <span class="keyword">in</span> route_list:</span><br><span class="line">        <span class="keyword">if</span> request_path == path:</span><br><span class="line">            result = func()</span><br><span class="line">            <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        logging.error(<span class="string">&quot;没有设置相应的路由:&quot;</span> + request_path)</span><br><span class="line">        <span class="comment"># 没有找到动态资源</span></span><br><span class="line">        result = not_found()</span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;logging日志配置信息在程序入口模块设置一次，整个程序都可以生效&#x3D;&#x3D;。<code>logging.basicConfig </code>表示 logging 日志配置操作</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>Python 复习笔记</p><p><a href="https://liruilongs.github.io/2021/04/19/Python/Python 复习笔记/">https://liruilongs.github.io/2021/04/19/Python/Python 复习笔记/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><a href="https://liruilongs.github.io"><p>山河已无恙</p></a></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2021-04-19</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2023-06-21</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="recommend-area"><div class="recommend-post"><span class="is-size-6 has-text-grey has-mr-7"># 相关文章</span><br><span>  1.<a class="is-size-6" href="/2022/11/09/Python/%E3%80%90python%E5%B0%8F%E8%84%9A%E6%9C%AC%E3%80%91%E7%9B%91%E5%90%AC%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E6%95%B0%E6%8D%AE%E5%8F%91%E9%80%81%E5%91%8A%E8%AD%A6%E7%9F%AD%E4%BF%A1/" target="_blank">【python小脚本】监听日志文件异常数据发送告警短信</a><br></span><span>  2.<a class="is-size-6" href="/2022/07/13/Python/Python%E5%AE%9E%E6%88%98%E4%B9%8B%E5%87%BD%E6%95%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/" target="_blank">Python实战之函数的一些奇技淫巧</a><br></span><span>  3.<a class="is-size-6" href="/2022/07/06/Python/Python%E5%AE%9E%E6%88%98%E4%B9%8B%E7%94%A8%E5%86%85%E7%BD%AE%E6%A8%A1%E5%9D%97%E6%9D%A5%E6%9E%84%E5%BB%BAREST%E6%9C%8D%E5%8A%A1%E3%80%81RPC%E6%9C%8D%E5%8A%A1/" target="_blank">Python实战之用内置模块来构建REST服务、RPC服务</a><br></span><span>  4.<a class="is-size-6" href="/2022/05/30/Python/Python%E5%AE%9E%E6%88%98%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C%E7%94%9F%E6%88%90%E5%99%A8/" target="_blank">Python中迭代器&amp;生成器的&quot;奇技淫巧&quot;</a><br></span><span>  5.<a class="is-size-6" href="/2022/05/04/Python/Python%E5%AE%9E%E6%88%98%E4%B9%8B%E6%95%B0%E5%AD%97%E3%80%81%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4%E7%9A%84%E9%AB%98%E7%BA%A7%E5%A4%84%E7%90%86/" target="_blank">Python实战之数字、日期和时间的高级处理</a><br></span><span>  6.<a class="is-size-6" href="/2022/05/04/Python/Python%E5%AE%9E%E6%88%98%E4%B9%8B%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86/" target="_blank">Python实战之字符串和文本处理</a><br></span><span>  7.<a class="is-size-6" href="/2022/05/02/Python/Python%E5%AE%9E%E6%88%98%E4%B9%8BLinux%E4%B8%8B%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99%E7%9A%84%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/" target="_blank">Python实战之Linux下脚本编写的&quot;奇技淫巧&quot;</a><br></span><span>  8.<a class="is-size-6" href="/2022/04/30/Python/Python%E5%AE%9E%E6%88%98%E4%B9%8B%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/" target="_blank">Python实战之数据结构和算法</a><br></span></div><div class="recommend-post"><span class="is-size-6 has-text-grey has-mr-7"># 推荐文章</span><br><span>  1.<a class="is-size-6" href="/2021/08/28/K8s/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8AKubernetes%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97-%E4%BB%8EDocker%E5%88%B0Kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A8%E6%8E%A5%E8%A7%A6%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" target="_blank">《Kubernetes权威指南:从Docker到Kubernetes实践全接触》读书笔记</a><br></span><span>  2.<a class="is-size-6" href="/2020/07/30/Java/Java%E4%B8%ADtry%7B%7Dcatch%E7%9A%84%E9%9A%90%E8%97%8F(%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%BC%82%E5%B8%B8%E5%9D%97)/" target="_blank">Java中try{}catch的隐藏(如何优雅的实现异常块)</a><br></span><span>  3.<a class="is-size-6" href="/2021/07/05/Java/%E3%80%8A%E5%88%86%E5%B8%83%E5%BC%8F%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AE%9E%E8%B7%B5%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" target="_blank">《分布式消息中间件实践》 读书笔记</a><br></span><span>  4.<a class="is-size-6" href="/2021/07/02/Java/%E3%80%8A%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" target="_blank">《微服务架构设计模式》读书笔记</a><br></span><span>  5.<a class="is-size-6" href="/2022/02/11/Java/%E3%80%90JAVA%E5%86%B7%E7%9F%A5%E8%AF%86%E3%80%91JAVA%E7%9C%9F%E7%9A%84%E4%B8%8D%E6%94%AF%E6%8C%81%E5%A4%9A%E7%BB%A7%E6%89%BF%E5%90%97%EF%BC%9F%E7%94%A8%E5%86%85%E9%83%A8%E7%B1%BB%E5%8E%BB%E5%AE%9E%E7%8E%B0%E5%AE%83%E5%90%A7%EF%BC%81/" target="_blank">【JAVA冷知识】JAVA居然支持多继承吗？让我们用内部类去吧</a><br></span><span>  6.<a class="is-size-6" href="/2022/02/11/Java/%E3%80%90JAVA%E5%86%B7%E7%9F%A5%E8%AF%86%E3%80%91%E4%BB%80%E4%B9%88%E6%98%AF%E9%80%86%E5%8F%98(contravariant)&amp;%E5%8D%8F%E5%8F%98(covariant)%EF%BC%9F%E6%95%B0%E7%BB%84%E6%94%AF%E6%8C%81%E5%8D%8F%E5%8F%98&amp;%E9%80%86%E5%8F%98%E5%90%97%EF%BC%9F%E6%B3%9B%E5%9E%8B%E5%91%A2%EF%BC%9F/" target="_blank">【JAVA冷知识】什么是逆变(contravariant)与协变(covariant)？数组支持协变&amp;逆变吗？泛型呢？</a><br></span></div></div><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/css/share.min.css"><div class="social-share"></div><script src="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/img/alipay%EF%BF%A5.png" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/img/wechat%EF%BF%A5.png" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/05/03/Linux/Linux%20%E6%96%87%E4%BB%B6%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C%E7%BB%83%E4%B9%A0%E9%A2%98%E6%95%B4%E7%90%86(%E5%8A%9B%E6%89%A3)/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Linux 文件数据操作练习题整理(力扣)</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/04/19/web/ElementUI%20table%20%E5%8D%95%E5%85%83%E6%A0%BC%E7%BC%96%E8%BE%91%E5%90%88%E5%B9%B6/"><span class="level-item">ElementUI table 单元格编辑合并</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--><div class="card"><div class="card-content"><div class="title is-5">评论</div><div id="comment-container"></div><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/gitalk/1.6.0/gitalk.css"><script> $.getScript('/js/gitalk.min.js', function () { 
            var gitalk = new Gitalk({
            language:'zh-CN',
            id: '778231c84bdcc4a54ea3091f5ef4df25',
            repo: 'blog_comment',
            owner: 'LIRUILONGS',
            clientID: '9fdc9739266d48d5f62e',
            clientSecret: 'c1cc33697d099a2197650ec9dadcb16bd4904655',
            admin: ["LIRUILONGS"],
            createIssueManually: true,
            distractionFreeMode: true,
            perPage: 10,
            pagerDirection: 'last',
            proxy: 'https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token',
            
            enableHotKey: true,
            isLocked: false
        })
        gitalk.render('comment-container')});</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="is-flex is-mobile" href="#写在前面"><span class="mr-2">1</span><span>写在前面</span></a></li><li><a class="is-flex is-mobile" href="#Python-基础入门"><span class="mr-2">2</span><span>Python 基础入门</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#Python版本"><span class="mr-2">2.1</span><span>Python版本</span></a></li><li><a class="is-flex is-mobile" href="#Python解释器的作用"><span class="mr-2">2.2</span><span>Python解释器的作用</span></a></li><li><a class="is-flex is-mobile" href="#linxu上编码"><span class="mr-2">2.3</span><span>linxu上编码</span></a></li><li><a class="is-flex is-mobile" href="#PyCharm的作用"><span class="mr-2">2.4</span><span>PyCharm的作用</span></a></li><li><a class="is-flex is-mobile" href="#PyCharm基本使用"><span class="mr-2">2.5</span><span>PyCharm基本使用</span></a></li><li><a class="is-flex is-mobile" href="#注释的分类及语法"><span class="mr-2">2.6</span><span>注释的分类及语法</span></a></li><li><a class="is-flex is-mobile" href="#变量"><span class="mr-2">2.7</span><span>变量</span></a></li><li><a class="is-flex is-mobile" href="#定义变量"><span class="mr-2">2.8</span><span>定义变量</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#标识符"><span class="mr-2">2.8.1</span><span>标识符</span></a></li><li><a class="is-flex is-mobile" href="#命名习惯"><span class="mr-2">2.8.2</span><span>命名习惯</span></a></li><li><a class="is-flex is-mobile" href="#使用变量"><span class="mr-2">2.8.3</span><span>使用变量</span></a></li><li><a class="is-flex is-mobile" href="#认识bug"><span class="mr-2">2.8.4</span><span>认识bug</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#Debug工具"><span class="mr-2">2.9</span><span>Debug工具</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#打断点"><span class="mr-2">2.9.1</span><span>打断点</span></a></li><li><a class="is-flex is-mobile" href="#Debug输出面板分类"><span class="mr-2">2.9.2</span><span>Debug输出面板分类</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#认识数据类型"><span class="mr-2">2.10</span><span>认识数据类型</span></a></li><li><a class="is-flex is-mobile" href="#输出"><span class="mr-2">2.11</span><span>输出</span></a></li><li><a class="is-flex is-mobile" href="#格式化输出"><span class="mr-2">2.12</span><span>格式化输出</span></a></li><li><a class="is-flex is-mobile" href="#格式化符号"><span class="mr-2">2.13</span><span>格式化符号</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#转义字符"><span class="mr-2">2.13.1</span><span>转义字符</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#结束符"><span class="mr-2">2.14</span><span>结束符</span></a></li><li><a class="is-flex is-mobile" href="#输入"><span class="mr-2">2.15</span><span>输入</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#输入的语法"><span class="mr-2">2.15.1</span><span>输入的语法</span></a></li><li><a class="is-flex is-mobile" href="#输入的特点"><span class="mr-2">2.15.2</span><span>输入的特点</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#转换数据类型的作用"><span class="mr-2">2.16</span><span>转换数据类型的作用</span></a></li><li><a class="is-flex is-mobile" href="#转换数据类型的函数"><span class="mr-2">2.17</span><span>转换数据类型的函数</span></a></li><li><a class="is-flex is-mobile" href="#快速体验"><span class="mr-2">2.18</span><span>快速体验</span></a></li><li><a class="is-flex is-mobile" href="#实例"><span class="mr-2">2.19</span><span>实例</span></a></li><li><a class="is-flex is-mobile" href="#运算符的分类"><span class="mr-2">2.20</span><span>运算符的分类</span></a></li><li><a class="is-flex is-mobile" href="#算数运算符"><span class="mr-2">2.21</span><span>算数运算符</span></a></li><li><a class="is-flex is-mobile" href="#赋值运算符"><span class="mr-2">2.22</span><span>赋值运算符</span></a></li><li><a class="is-flex is-mobile" href="#复合赋值运算符"><span class="mr-2">2.23</span><span>复合赋值运算符</span></a></li><li><a class="is-flex is-mobile" href="#比较运算符"><span class="mr-2">2.24</span><span>比较运算符</span></a></li><li><a class="is-flex is-mobile" href="#逻辑运算符"><span class="mr-2">2.25</span><span>逻辑运算符</span></a></li><li><a class="is-flex is-mobile" href="#拓展"><span class="mr-2">2.26</span><span>拓展</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#条件语句"><span class="mr-2">3</span><span>条件语句</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#if-语法"><span class="mr-2">3.1</span><span>if 语法</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#语法"><span class="mr-2">3.1.1</span><span>语法</span></a></li><li><a class="is-flex is-mobile" href="#实例：上网"><span class="mr-2">3.1.2</span><span>实例：上网</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#if…else…"><span class="mr-2">3.2</span><span>if…else…</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#语法-1"><span class="mr-2">3.2.1</span><span>语法</span></a></li><li><a class="is-flex is-mobile" href="#实用版：网吧上网"><span class="mr-2">3.2.2</span><span>实用版：网吧上网</span></a></li><li><a class="is-flex is-mobile" href="#多重判断"><span class="mr-2">3.2.3</span><span>多重判断</span></a></li><li><a class="is-flex is-mobile" href="#实例：工龄判断"><span class="mr-2">3.2.4</span><span>实例：工龄判断</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#if嵌套"><span class="mr-2">3.3</span><span>if嵌套</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#语法-2"><span class="mr-2">3.3.1</span><span>语法</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#实例：坐公交"><span class="mr-2">3.4</span><span>实例：坐公交</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#判断是否能上车"><span class="mr-2">3.4.1</span><span>判断是否能上车</span></a></li><li><a class="is-flex is-mobile" href="#判断是否能坐下"><span class="mr-2">3.4.2</span><span>判断是否能坐下</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#应用：猜拳游戏"><span class="mr-2">3.5</span><span>应用：猜拳游戏</span></a></li><li><a class="is-flex is-mobile" href="#三目运算符"><span class="mr-2">3.6</span><span>三目运算符</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#循环简介"><span class="mr-2">4</span><span>循环简介</span></a><ul class="menu-list"><ul class="menu-list"><li><a class="is-flex is-mobile" href="#循环的作用"><span class="mr-2">4.1.1</span><span>循环的作用</span></a></li><li><a class="is-flex is-mobile" href="#循环的分类"><span class="mr-2">4.1.2</span><span>循环的分类</span></a></li></ul><li><a class="is-flex is-mobile" href="#while的语法"><span class="mr-2">4.2</span><span>while的语法</span></a></li><li><a class="is-flex is-mobile" href="#while的应用"><span class="mr-2">4.3</span><span>while的应用</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#应用一：计算1-100累加和"><span class="mr-2">4.3.1</span><span>应用一：计算1-100累加和</span></a></li><li><a class="is-flex is-mobile" href="#方法二：计数器控制"><span class="mr-2">4.3.2</span><span>方法二：计数器控制</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#break和continue"><span class="mr-2">4.4</span><span>break和continue</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#理解"><span class="mr-2">4.4.1</span><span>理解</span></a></li><li><a class="is-flex is-mobile" href="#情况一：break"><span class="mr-2">4.4.2</span><span>情况一：break</span></a></li><li><a class="is-flex is-mobile" href="#情况二：continue"><span class="mr-2">4.4.3</span><span>情况二：continue</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#while循环嵌套"><span class="mr-2">4.5</span><span>while循环嵌套</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#应用场景"><span class="mr-2">4.5.1</span><span>应用场景</span></a></li><li><a class="is-flex is-mobile" href="#语法-3"><span class="mr-2">4.5.2</span><span>语法</span></a></li><li><a class="is-flex is-mobile" href="#代码"><span class="mr-2">4.5.3</span><span>代码</span></a></li><li><a class="is-flex is-mobile" href="#理解执行流程"><span class="mr-2">4.5.4</span><span>理解执行流程</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#while循环嵌套应用"><span class="mr-2">4.6</span><span>while循环嵌套应用</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#代码-1"><span class="mr-2">4.6.1</span><span>代码</span></a></li><li><a class="is-flex is-mobile" href="#代码-2"><span class="mr-2">4.6.2</span><span>代码</span></a></li><li><a class="is-flex is-mobile" href="#九九乘法表"><span class="mr-2">4.6.3</span><span>九九乘法表</span></a></li><li><a class="is-flex is-mobile" href="#代码-3"><span class="mr-2">4.6.4</span><span>代码</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#for循环"><span class="mr-2">4.7</span><span>for循环</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#语法-4"><span class="mr-2">4.7.1</span><span>语法</span></a></li><li><a class="is-flex is-mobile" href="#快速体验-1"><span class="mr-2">4.7.2</span><span>快速体验</span></a></li><li><a class="is-flex is-mobile" href="#break"><span class="mr-2">4.7.3</span><span>break</span></a></li><li><a class="is-flex is-mobile" href="#continue"><span class="mr-2">4.7.4</span><span>continue</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#else"><span class="mr-2">4.8</span><span>else</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#退出循环的方式"><span class="mr-2">4.8.1</span><span>退出循环的方式 </span></a></li><li><a class="is-flex is-mobile" href="#退出循环的方式-1"><span class="mr-2">4.8.2</span><span>退出循环的方式</span></a></li></ul></li></ul></li><li><a class="is-flex is-mobile" href="#数据序列"><span class="mr-2">5</span><span>数据序列</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#认识字符串"><span class="mr-2">5.1</span><span>认识字符串</span></a></li><li><a class="is-flex is-mobile" href="#字符串特征"><span class="mr-2">5.2</span><span>字符串特征</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#字符串输出"><span class="mr-2">5.2.1</span><span>字符串输出</span></a></li><li><a class="is-flex is-mobile" href="#字符串输入"><span class="mr-2">5.2.2</span><span>字符串输入</span></a></li><li><a class="is-flex is-mobile" href="#下标"><span class="mr-2">5.2.3</span><span>下标</span></a></li><li><a class="is-flex is-mobile" href="#快速体验-2"><span class="mr-2">5.2.4</span><span>快速体验</span></a></li><li><a class="is-flex is-mobile" href="#切片"><span class="mr-2">5.2.5</span><span>切片</span></a></li><li><a class="is-flex is-mobile" href="#语法-7"><span class="mr-2">5.2.6</span><span>语法</span></a></li><li><a class="is-flex is-mobile" href="#体验"><span class="mr-2">5.2.7</span><span>体验</span></a></li><li><a class="is-flex is-mobile" href="#常用操作方法"><span class="mr-2">5.2.8</span><span>常用操作方法</span></a></li><li><a class="is-flex is-mobile" href="#查找"><span class="mr-2">5.2.9</span><span>查找</span></a></li><li><a class="is-flex is-mobile" href="#修改"><span class="mr-2">5.2.10</span><span>修改</span></a></li><li><a class="is-flex is-mobile" href="#判断"><span class="mr-2">5.2.11</span><span>判断</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#列表"><span class="mr-2">5.3</span><span>列表</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#列表的应用场景"><span class="mr-2">5.3.1</span><span>列表的应用场景</span></a></li><li><a class="is-flex is-mobile" href="#列表的格式"><span class="mr-2">5.3.2</span><span>列表的格式</span></a></li><li><a class="is-flex is-mobile" href="#列表的常用操作"><span class="mr-2">5.3.3</span><span>列表的常用操作</span></a></li><li><a class="is-flex is-mobile" href="#判断是否存在"><span class="mr-2">5.3.4</span><span>判断是否存在</span></a></li><li><a class="is-flex is-mobile" href="#增加"><span class="mr-2">5.3.5</span><span>增加</span></a></li><li><a class="is-flex is-mobile" href="#删除"><span class="mr-2">5.3.6</span><span>删除</span></a></li><li><a class="is-flex is-mobile" href="#修改-1"><span class="mr-2">5.3.7</span><span>修改</span></a></li><li><a class="is-flex is-mobile" href="#复制"><span class="mr-2">5.3.8</span><span>复制</span></a></li><li><a class="is-flex is-mobile" href="#for"><span class="mr-2">5.3.9</span><span>for</span></a></li><li><a class="is-flex is-mobile" href="#列表嵌套"><span class="mr-2">5.3.10</span><span>列表嵌套</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#元组"><span class="mr-2">5.4</span><span>元组</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#元组的应用场景"><span class="mr-2">5.4.1</span><span>元组的应用场景</span></a></li><li><a class="is-flex is-mobile" href="#定义元组"><span class="mr-2">5.4.2</span><span>定义元组</span></a></li><li><a class="is-flex is-mobile" href="#元组的常见操作"><span class="mr-2">5.4.3</span><span>元组的常见操作</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#字典"><span class="mr-2">5.5</span><span>字典</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#字典的应用场景"><span class="mr-2">5.5.1</span><span>字典的应用场景</span></a></li><li><a class="is-flex is-mobile" href="#创建字典的语法"><span class="mr-2">5.5.2</span><span>创建字典的语法</span></a></li><li><a class="is-flex is-mobile" href="#查"><span class="mr-2">5.5.3</span><span>查</span></a></li><li><a class="is-flex is-mobile" href="#遍历字典的键值"><span class="mr-2">5.5.4</span><span>遍历字典的键值</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#集合"><span class="mr-2">5.6</span><span>集合</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#创建集合"><span class="mr-2">5.6.1</span><span>创建集合</span></a></li><li><a class="is-flex is-mobile" href="#查找数据"><span class="mr-2">5.6.2</span><span>查找数据</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#公共操作"><span class="mr-2">5.7</span><span>公共操作</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#in或not-in"><span class="mr-2">5.7.1</span><span>in或not in</span></a></li><li><a class="is-flex is-mobile" href="#enumerate-语法"><span class="mr-2">5.7.2</span><span>enumerate()  语法</span></a></li><li><a class="is-flex is-mobile" href="#set"><span class="mr-2">5.7.3</span><span>set()</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#推导式"><span class="mr-2">5.8</span><span>推导式</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#列表推导式"><span class="mr-2">5.8.1</span><span>列表推导式</span></a></li><li><a class="is-flex is-mobile" href="#带if的列表推导式"><span class="mr-2">5.8.2</span><span>带if的列表推导式</span></a></li><li><a class="is-flex is-mobile" href="#多个for循环实现列表推导式"><span class="mr-2">5.8.3</span><span>多个for循环实现列表推导式</span></a></li><li><a class="is-flex is-mobile" href="#字典推导式"><span class="mr-2">5.8.4</span><span>字典推导式</span></a></li><li><a class="is-flex is-mobile" href="#集合推导式"><span class="mr-2">5.8.5</span><span>集合推导式</span></a></li></ul></li></ul></li><li><a class="is-flex is-mobile" href="#函数-1"><span class="mr-2">6</span><span>函数</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#函数的作用"><span class="mr-2">6.1</span><span>函数的作用</span></a></li><li><a class="is-flex is-mobile" href="#函数的使用步骤"><span class="mr-2">6.2</span><span>函数的使用步骤</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#调用函数"><span class="mr-2">6.2.1</span><span>调用函数</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#函数的参数作用"><span class="mr-2">6.3</span><span>函数的参数作用</span></a></li><li><a class="is-flex is-mobile" href="#函数的返回值作用"><span class="mr-2">6.4</span><span>函数的返回值作用</span></a></li><li><a class="is-flex is-mobile" href="#应用"><span class="mr-2">6.5</span><span>应用</span></a></li><li><a class="is-flex is-mobile" href="#函数的说明文档"><span class="mr-2">6.6</span><span>函数的说明文档</span></a></li><li><a class="is-flex is-mobile" href="#语法-8"><span class="mr-2">6.7</span><span>语法</span></a></li><li><a class="is-flex is-mobile" href="#函数嵌套调用"><span class="mr-2">6.8</span><span>函数嵌套调用</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#打印图形"><span class="mr-2">6.8.1</span><span>打印图形</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#函数计算"><span class="mr-2">6.9</span><span>函数计算</span></a></li><li><a class="is-flex is-mobile" href="#函数变量作用域"><span class="mr-2">6.10</span><span>函数变量作用域</span></a></li><li><a class="is-flex is-mobile" href="#多函数程序执行流程"><span class="mr-2">6.11</span><span>多函数程序执行流程</span></a></li><li><a class="is-flex is-mobile" href="#函数的返回值"><span class="mr-2">6.12</span><span>函数的返回值</span></a></li><li><a class="is-flex is-mobile" href="#函数的参数"><span class="mr-2">6.13</span><span>函数的参数</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#位置参数"><span class="mr-2">6.13.1</span><span>位置参数</span></a></li><li><a class="is-flex is-mobile" href="#关键字参数"><span class="mr-2">6.13.2</span><span>关键字参数</span></a></li><li><a class="is-flex is-mobile" href="#缺省参数"><span class="mr-2">6.13.3</span><span>缺省参数</span></a></li><li><a class="is-flex is-mobile" href="#不定长参数"><span class="mr-2">6.13.4</span><span>不定长参数</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#拆包和交换变量值"><span class="mr-2">6.14</span><span>拆包和交换变量值</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#拆包"><span class="mr-2">6.14.1</span><span>拆包</span></a></li><li><a class="is-flex is-mobile" href="#交换变量值"><span class="mr-2">6.14.2</span><span>交换变量值</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#引用"><span class="mr-2">6.15</span><span>引用</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#引用当做实参"><span class="mr-2">6.15.1</span><span>引用当做实参</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#可变和不可变类型"><span class="mr-2">6.16</span><span>可变和不可变类型</span></a></li><li><a class="is-flex is-mobile" href="#应用：学员管理系统"><span class="mr-2">6.17</span><span>应用：学员管理系统</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#系统简介"><span class="mr-2">6.17.1</span><span>系统简介</span></a></li><li><a class="is-flex is-mobile" href="#步骤分析"><span class="mr-2">6.17.2</span><span>步骤分析</span></a></li><li><a class="is-flex is-mobile" href="#退出系统"><span class="mr-2">6.17.3</span><span>退出系统</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#递归"><span class="mr-2">6.18</span><span>递归</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#递归的特点"><span class="mr-2">6.18.1</span><span>递归的特点</span></a></li><li><a class="is-flex is-mobile" href="#应用：3以内数字累加和"><span class="mr-2">6.18.2</span><span>应用：3以内数字累加和</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#lambda-表达式"><span class="mr-2">6.19</span><span>lambda 表达式</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#lambda的应用场景"><span class="mr-2">6.19.1</span><span>lambda的应用场景</span></a></li><li><a class="is-flex is-mobile" href="#lambda语法"><span class="mr-2">6.19.2</span><span>lambda语法</span></a></li><li><a class="is-flex is-mobile" href="#lambda实现"><span class="mr-2">6.19.3</span><span>lambda实现</span></a></li><li><a class="is-flex is-mobile" href="#可变参数：-kwargs"><span class="mr-2">6.19.4</span><span>可变参数：**kwargs</span></a></li><li><a class="is-flex is-mobile" href="#列表数据按字典key的值排序"><span class="mr-2">6.19.5</span><span>列表数据按字典key的值排序</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#高阶函数"><span class="mr-2">6.20</span><span>高阶函数</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#体验高阶函数"><span class="mr-2">6.20.1</span><span>体验高阶函数</span></a></li><li><a class="is-flex is-mobile" href="#filter"><span class="mr-2">6.20.2</span><span>filter()</span></a></li></ul></li></ul></li><li><a class="is-flex is-mobile" href="#文件"><span class="mr-2">7</span><span>文件</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#文件操作"><span class="mr-2">7.1</span><span>文件操作</span></a></li><li><a class="is-flex is-mobile" href="#文件操作的作用"><span class="mr-2">7.2</span><span>文件操作的作用</span></a></li><li><a class="is-flex is-mobile" href="#文件的基本操作"><span class="mr-2">7.3</span><span>文件的基本操作</span></a></li><li><a class="is-flex is-mobile" href="#文件操作步骤"><span class="mr-2">7.4</span><span>文件操作步骤</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#打开文件模式"><span class="mr-2">7.4.1</span><span>打开文件模式</span></a></li><li><a class="is-flex is-mobile" href="#读"><span class="mr-2">7.4.2</span><span>读</span></a></li><li><a class="is-flex is-mobile" href="#seek"><span class="mr-2">7.4.3</span><span>seek()</span></a></li><li><a class="is-flex is-mobile" href="#关闭"><span class="mr-2">7.4.4</span><span>关闭</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#文件备份"><span class="mr-2">7.5</span><span>文件备份</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#步骤"><span class="mr-2">7.5.1</span><span>步骤</span></a></li><li><a class="is-flex is-mobile" href="#代码实现"><span class="mr-2">7.5.2</span><span>代码实现</span></a></li><li><a class="is-flex is-mobile" href="#思考"><span class="mr-2">7.5.3</span><span>思考</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#文件和文件夹的操作"><span class="mr-2">7.6</span><span>文件和文件夹的操作</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#文件重命名"><span class="mr-2">7.6.1</span><span>文件重命名</span></a></li><li><a class="is-flex is-mobile" href="#删除文件"><span class="mr-2">7.6.2</span><span>删除文件</span></a></li><li><a class="is-flex is-mobile" href="#创建文件夹"><span class="mr-2">7.6.3</span><span>创建文件夹</span></a></li><li><a class="is-flex is-mobile" href="#删除文件夹"><span class="mr-2">7.6.4</span><span>删除文件夹</span></a></li><li><a class="is-flex is-mobile" href="#获取当前目录"><span class="mr-2">7.6.5</span><span>获取当前目录</span></a></li><li><a class="is-flex is-mobile" href="#改变默认目录"><span class="mr-2">7.6.6</span><span>改变默认目录</span></a></li><li><a class="is-flex is-mobile" href="#获取目录列表"><span class="mr-2">7.6.7</span><span>获取目录列表</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#应用案例"><span class="mr-2">7.7</span><span>应用案例</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#面向对象基础"><span class="mr-2">8</span><span>面向对象基础</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#理解面向对象"><span class="mr-2">8.1</span><span>理解面向对象</span></a></li><li><a class="is-flex is-mobile" href="#类和对象"><span class="mr-2">8.2</span><span>类和对象</span></a></li><li><a class="is-flex is-mobile" href="#理解类和对象"><span class="mr-2">8.3</span><span>理解类和对象</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#类"><span class="mr-2">8.3.1</span><span>类</span></a></li><li><a class="is-flex is-mobile" href="#对象"><span class="mr-2">8.3.2</span><span>对象</span></a></li><li><a class="is-flex is-mobile" href="#self-self指的是调用该函数的对象。"><span class="mr-2">8.3.3</span><span>self:self指的是调用该函数的对象。</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#添加和获取对象属性"><span class="mr-2">8.4</span><span>添加和获取对象属性</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#类里面获取对象属性"><span class="mr-2">8.4.1</span><span>类里面获取对象属性</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#魔法方法"><span class="mr-2">8.5</span><span>魔法方法</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#del-1"><span class="mr-2">8.5.1</span><span>__del__()</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#综合应用"><span class="mr-2">8.6</span><span>综合应用</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#定义类-1"><span class="mr-2">8.6.1</span><span>定义类</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#5-1-2-2-创建对象，调用相关实例方法"><span class="mr-2">8.7</span><span>5.1.2.2 创建对象，调用相关实例方法</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#代码总览"><span class="mr-2">8.7.1</span><span>代码总览</span></a></li><li><a class="is-flex is-mobile" href="#创建对象并调用实例属性和方法"><span class="mr-2">8.7.2</span><span>创建对象并调用实例属性和方法</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#面向对象-继承"><span class="mr-2">8.8</span><span>面向对象-继承</span></a></li><li><a class="is-flex is-mobile" href="#继承的概念"><span class="mr-2">8.9</span><span>继承的概念</span></a></li><li><a class="is-flex is-mobile" href="#单继承"><span class="mr-2">8.10</span><span>单继承</span></a></li><li><a class="is-flex is-mobile" href="#多继承"><span class="mr-2">8.11</span><span>多继承</span></a></li><li><a class="is-flex is-mobile" href="#子类重写父类同名方法和属性"><span class="mr-2">8.12</span><span>子类重写父类同名方法和属性</span></a></li><li><a class="is-flex is-mobile" href="#子类调用父类的同名方法和属性"><span class="mr-2">8.13</span><span>子类调用父类的同名方法和属性</span></a></li><li><a class="is-flex is-mobile" href="#多层继承"><span class="mr-2">8.14</span><span>多层继承</span></a></li><li><a class="is-flex is-mobile" href="#super-调用父类方法"><span class="mr-2">8.15</span><span>super()调用父类方法</span></a></li><li><a class="is-flex is-mobile" href="#私有权限"><span class="mr-2">8.16</span><span>私有权限</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#定义私有属性和方法"><span class="mr-2">8.16.1</span><span>定义私有属性和方法</span></a></li><li><a class="is-flex is-mobile" href="#获取和修改私有属性值"><span class="mr-2">8.16.2</span><span>获取和修改私有属性值</span></a></li></ul></li></ul></li><li><a class="is-flex is-mobile" href="#异常"><span class="mr-2">9</span><span>异常</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#了解异常"><span class="mr-2">9.1</span><span>了解异常</span></a></li><li><a class="is-flex is-mobile" href="#异常的写法"><span class="mr-2">9.2</span><span>异常的写法</span></a></li><li><a class="is-flex is-mobile" href="#捕获指定异常"><span class="mr-2">9.3</span><span>捕获指定异常</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#捕获多个指定异常"><span class="mr-2">9.3.1</span><span>捕获多个指定异常</span></a></li><li><a class="is-flex is-mobile" href="#捕获异常描述信息"><span class="mr-2">9.3.2</span><span>捕获异常描述信息</span></a></li><li><a class="is-flex is-mobile" href="#捕获所有异常"><span class="mr-2">9.3.3</span><span>捕获所有异常</span></a></li><li><a class="is-flex is-mobile" href="#异常的else"><span class="mr-2">9.3.4</span><span>异常的else</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#异常的finally"><span class="mr-2">9.4</span><span>异常的finally</span></a></li><li><a class="is-flex is-mobile" href="#异常的传递"><span class="mr-2">9.5</span><span>异常的传递</span></a></li><li><a class="is-flex is-mobile" href="#自定义异常"><span class="mr-2">9.6</span><span>自定义异常</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#模块和包"><span class="mr-2">10</span><span>模块和包</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#模块"><span class="mr-2">10.1</span><span>模块</span></a></li><li><a class="is-flex is-mobile" href="#导入模块"><span class="mr-2">10.2</span><span>导入模块</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#as定义别名"><span class="mr-2">10.2.1</span><span>as定义别名</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#制作模块"><span class="mr-2">10.3</span><span>制作模块</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#定义模块"><span class="mr-2">10.3.1</span><span>定义模块</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#测试模块"><span class="mr-2">10.4</span><span>测试模块</span></a></li><li><a class="is-flex is-mobile" href="#调用模块"><span class="mr-2">10.5</span><span>调用模块</span></a></li><li><a class="is-flex is-mobile" href="#注意事项"><span class="mr-2">10.6</span><span>注意事项</span></a></li><li><a class="is-flex is-mobile" href="#模块定位顺序"><span class="mr-2">10.7</span><span>模块定位顺序</span></a></li><li><a class="is-flex is-mobile" href="#all"><span class="mr-2">10.8</span><span>__all__</span></a></li><li><a class="is-flex is-mobile" href="#包"><span class="mr-2">10.9</span><span>包</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#制作包"><span class="mr-2">10.9.1</span><span>制作包</span></a></li><li><a class="is-flex is-mobile" href="#导入包"><span class="mr-2">10.9.2</span><span>导入包</span></a></li><li><a class="is-flex is-mobile" href="#方法一"><span class="mr-2">10.9.3</span><span>方法一</span></a></li><li><a class="is-flex is-mobile" href="#方法二"><span class="mr-2">10.9.4</span><span>方法二</span></a></li></ul></li></ul></li><li><a class="is-flex is-mobile" href="#课程：面向对象版学员管理系统"><span class="mr-2">11</span><span>课程：面向对象版学员管理系统</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#系统需求"><span class="mr-2">11.1</span><span>系统需求</span></a></li><li><a class="is-flex is-mobile" href="#准备程序文件"><span class="mr-2">11.2</span><span>准备程序文件</span></a></li><li><a class="is-flex is-mobile" href="#创建程序文件"><span class="mr-2">11.3</span><span>创建程序文件</span></a></li><li><a class="is-flex is-mobile" href="#student-py"><span class="mr-2">11.4</span><span>student.py</span></a></li><li><a class="is-flex is-mobile" href="#managerSystem-py"><span class="mr-2">11.5</span><span>managerSystem.py</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#管理系统框架"><span class="mr-2">11.5.1</span><span>管理系统框架</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#main-py"><span class="mr-2">11.6</span><span>main.py</span></a></li><li><a class="is-flex is-mobile" href="#定义系统功能函数"><span class="mr-2">11.7</span><span>定义系统功能函数</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#加载学员信息"><span class="mr-2">11.7.1</span><span>加载学员信息</span></a></li></ul></li></ul></li><li><a class="is-flex is-mobile" href="#多任务的介绍"><span class="mr-2">12</span><span>多任务的介绍</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#Python-多进程"><span class="mr-2">12.1</span><span>Python 多进程</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#导入进程包"><span class="mr-2">12.1.1</span><span>导入进程包</span></a></li><li><a class="is-flex is-mobile" href="#多进程完成多任务的代码"><span class="mr-2">12.1.2</span><span>多进程完成多任务的代码</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#获取进程编号"><span class="mr-2">12.2</span><span>获取进程编号</span></a></li><li><a class="is-flex is-mobile" href="#获取进程编号的目的"><span class="mr-2">12.3</span><span>获取进程编号的目的</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#获取当前进程编号"><span class="mr-2">12.3.1</span><span>获取当前进程编号</span></a></li><li><a class="is-flex is-mobile" href="#获取当前父进程编号"><span class="mr-2">12.3.2</span><span>获取当前父进程编号</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#进程执行带有参数的任务"><span class="mr-2">12.4</span><span>进程执行带有参数的任务</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#进程执行带有参数的任务的介绍"><span class="mr-2">12.4.1</span><span>进程执行带有参数的任务的介绍</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#进程的注意点"><span class="mr-2">12.5</span><span>进程的注意点</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#进程之间不共享全局变量"><span class="mr-2">12.5.1</span><span>进程之间不共享全局变量:</span></a></li><li><a class="is-flex is-mobile" href="#主进程会等待所有的子进程执行结束再结束"><span class="mr-2">12.5.2</span><span>主进程会等待所有的子进程执行结束再结束</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#多线程的使用"><span class="mr-2">12.6</span><span>多线程的使用</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#导入线程模块"><span class="mr-2">12.6.1</span><span>导入线程模块</span></a></li><li><a class="is-flex is-mobile" href="#线程类Thread参数说明"><span class="mr-2">12.6.2</span><span>线程类Thread参数说明</span></a></li><li><a class="is-flex is-mobile" href="#启动线程"><span class="mr-2">12.6.3</span><span>启动线程</span></a></li><li><a class="is-flex is-mobile" href="#多线程完成多任务"><span class="mr-2">12.6.4</span><span>多线程完成多任务</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#线程执行带有参数的任务"><span class="mr-2">12.7</span><span>线程执行带有参数的任务</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#线程执行带有参数的任务的介绍"><span class="mr-2">12.7.1</span><span>线程执行带有参数的任务的介绍</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#线程的注意点"><span class="mr-2">12.8</span><span>线程的注意点</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#线程之间执行是无序的"><span class="mr-2">12.8.1</span><span>线程之间执行是无序的</span></a></li><li><a class="is-flex is-mobile" href="#主线程会等待所有的子线程执行结束再结束"><span class="mr-2">12.8.2</span><span>主线程会等待所有的子线程执行结束再结束</span></a></li><li><a class="is-flex is-mobile" href="#线程之间共享全局变量"><span class="mr-2">12.8.3</span><span>线程之间共享全局变量</span></a></li><li><a class="is-flex is-mobile" href="#线程之间共享全局变量数据出现错误问题"><span class="mr-2">12.8.4</span><span>线程之间共享全局变量数据出现错误问题</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#互斥锁"><span class="mr-2">12.9</span><span>互斥锁</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#互斥锁的使用"><span class="mr-2">12.9.1</span><span>互斥锁的使用</span></a></li><li><a class="is-flex is-mobile" href="#使用互斥锁完成2个线程对同一个全局变量各加100万次的操作"><span class="mr-2">12.9.2</span><span>使用互斥锁完成2个线程对同一个全局变量各加100万次的操作</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#死锁"><span class="mr-2">12.10</span><span>死锁:</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#死锁示例"><span class="mr-2">12.10.1</span><span>死锁示例</span></a></li><li><a class="is-flex is-mobile" href="#避免死锁"><span class="mr-2">12.10.2</span><span>避免死锁</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#进程和线程的对比的三个方向"><span class="mr-2">12.11</span><span>进程和线程的对比的三个方向</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#网络编程"><span class="mr-2">13</span><span>网络编程</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#socket-的概念"><span class="mr-2">13.1</span><span>socket 的概念</span></a></li><li><a class="is-flex is-mobile" href="#TCP-网络应用程序开发流程"><span class="mr-2">13.2</span><span>TCP 网络应用程序开发流程</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#TCP-网络应用程序开发流程的介绍"><span class="mr-2">13.2.1</span><span>TCP 网络应用程序开发流程的介绍</span></a></li><li><a class="is-flex is-mobile" href="#TCP-客户端程序开发流程的介绍"><span class="mr-2">13.2.2</span><span>TCP 客户端程序开发流程的介绍</span></a></li><li><a class="is-flex is-mobile" href="#TCP-客户端程序开发"><span class="mr-2">13.2.3</span><span>TCP 客户端程序开发</span></a></li><li><a class="is-flex is-mobile" href="#导入-socket-模块-import-socket"><span class="mr-2">13.2.4</span><span>导入 socket 模块 import socket</span></a></li><li><a class="is-flex is-mobile" href="#创建客户端-socket-对象-socket-socket-AddressFamily-Type"><span class="mr-2">13.2.5</span><span>创建客户端 socket 对象 socket.socket(AddressFamily, Type)</span></a></li><li><a class="is-flex is-mobile" href="#TCP-服务端程序开发流程的介绍"><span class="mr-2">13.2.6</span><span>TCP 服务端程序开发流程的介绍</span></a></li><li><a class="is-flex is-mobile" href="#TCP服务端程序开发"><span class="mr-2">13.2.7</span><span>TCP服务端程序开发</span></a></li><li><a class="is-flex is-mobile" href="#导入-socket-模块-import-socket-1"><span class="mr-2">13.2.8</span><span>导入 socket 模块  import socket</span></a></li><li><a class="is-flex is-mobile" href="#创建服务端-socket-对象-socket-socket-AddressFamily-Type"><span class="mr-2">13.2.9</span><span>创建服务端 socket 对象    socket.socket(AddressFamily, Type)</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#TCP网络应用程序的注意点"><span class="mr-2">13.3</span><span>TCP网络应用程序的注意点</span></a></li><li><a class="is-flex is-mobile" href="#案例-多任务版TCP服务端程序开发"><span class="mr-2">13.4</span><span>案例-多任务版TCP服务端程序开发</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#具体实现步骤"><span class="mr-2">13.4.1</span><span>具体实现步骤</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#socket之send和recv原理剖析"><span class="mr-2">13.5</span><span>socket之send和recv原理剖析</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#1-认识TCP-socket的发送和接收缓冲区"><span class="mr-2">13.5.1</span><span>1. 认识TCP socket的发送和接收缓冲区</span></a></li><li><a class="is-flex is-mobile" href="#2-send原理剖析"><span class="mr-2">13.5.2</span><span>2. send原理剖析</span></a></li><li><a class="is-flex is-mobile" href="#3-recv原理剖析"><span class="mr-2">13.5.3</span><span>3. recv原理剖析</span></a></li><li><a class="is-flex is-mobile" href="#send和recv原理剖析图"><span class="mr-2">13.5.4</span><span>send和recv原理剖析图</span></a></li></ul></li></ul></li><li><a class="is-flex is-mobile" href="#Python静态Web服务器"><span class="mr-2">14</span><span>Python静态Web服务器</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#搭建Python自带静态Web服务器"><span class="mr-2">14.1</span><span>搭建Python自带静态Web服务器</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#如何搭建Python自带的静态Web服务器"><span class="mr-2">14.1.1</span><span>如何搭建Python自带的静态Web服务器</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#返回固定页面数据"><span class="mr-2">14.2</span><span>返回固定页面数据</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#开发自己的静态Web服务器"><span class="mr-2">14.2.1</span><span>开发自己的静态Web服务器</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#根据不同映射返回固定页面数据"><span class="mr-2">14.3</span><span>根据不同映射返回固定页面数据</span></a></li><li><a class="is-flex is-mobile" href="#静态Web服务器-多任务版"><span class="mr-2">14.4</span><span>静态Web服务器-多任务版</span></a></li><li><a class="is-flex is-mobile" href="#静态Web服务器-多任务版-1"><span class="mr-2">14.5</span><span>静态Web服务器-多任务版</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#静态Web服务器的问题"><span class="mr-2">14.5.1</span><span>静态Web服务器的问题</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#静态Web服务器-面向对象开发"><span class="mr-2">14.6</span><span>静态Web服务器-面向对象开发</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#以面向对象的方式开发静态Web服务器"><span class="mr-2">14.6.1</span><span>以面向对象的方式开发静态Web服务器</span></a></li><li><a class="is-flex is-mobile" href="#命令行启动动态绑定端口号"><span class="mr-2">14.6.2</span><span>命令行启动动态绑定端口号</span></a></li></ul></li></ul></li><li><a class="is-flex is-mobile" href="#Python程序操作MySQL数据库"><span class="mr-2">15</span><span>Python程序操作MySQL数据库</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#pymysql的使用"><span class="mr-2">15.1</span><span>pymysql的使用:</span></a></li><li><a class="is-flex is-mobile" href="#连接对象操作说明"><span class="mr-2">15.2</span><span>连接对象操作说明:</span></a></li><li><a class="is-flex is-mobile" href="#获取游标对象："><span class="mr-2">15.3</span><span>获取游标对象：</span></a></li><li><a class="is-flex is-mobile" href="#pymysql完成数据的查询操作"><span class="mr-2">15.4</span><span>pymysql完成数据的查询操作</span></a></li><li><a class="is-flex is-mobile" href="#pymysql完成对数据的增删改"><span class="mr-2">15.5</span><span>pymysql完成对数据的增删改</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#防止SQL注入"><span class="mr-2">15.5.1</span><span>防止SQL注入</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#事务的介绍"><span class="mr-2">15.6</span><span>事务的介绍</span></a></li><li><a class="is-flex is-mobile" href="#事务的四大特性"><span class="mr-2">15.7</span><span>事务的四大特性</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#事务的使用："><span class="mr-2">15.7.1</span><span>事务的使用：</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#索引"><span class="mr-2">15.8</span><span>索引</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#索引的介绍"><span class="mr-2">15.8.1</span><span>索引的介绍</span></a></li><li><a class="is-flex is-mobile" href="#应用场景-1"><span class="mr-2">15.8.2</span><span>应用场景:</span></a></li><li><a class="is-flex is-mobile" href="#索引的使用"><span class="mr-2">15.8.3</span><span>索引的使用</span></a></li><li><a class="is-flex is-mobile" href="#验证索引性能操作："><span class="mr-2">15.8.4</span><span>验证索引性能操作：</span></a></li><li><a class="is-flex is-mobile" href="#联合索引"><span class="mr-2">15.8.5</span><span>联合索引</span></a></li><li><a class="is-flex is-mobile" href="#MySQL中索引的优点和缺点和使用原则"><span class="mr-2">15.8.6</span><span>MySQL中索引的优点和缺点和使用原则</span></a></li></ul></li></ul></li><li><a class="is-flex is-mobile" href="#闭包-amp-装饰器"><span class="mr-2">16</span><span>闭包&amp;装饰器</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#闭包的介绍"><span class="mr-2">16.1</span><span>闭包的介绍:</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#闭包的构成条件"><span class="mr-2">16.1.1</span><span>闭包的构成条件</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#闭包的作用"><span class="mr-2">16.2</span><span>闭包的作用</span></a></li><li><a class="is-flex is-mobile" href="#闭包的使用"><span class="mr-2">16.3</span><span>闭包的使用</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#案例"><span class="mr-2">16.3.1</span><span>案例</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#修改闭包内使用的外部变量"><span class="mr-2">16.4</span><span>修改闭包内使用的外部变量</span></a></li><li><a class="is-flex is-mobile" href="#装饰器"><span class="mr-2">16.5</span><span>装饰器</span></a></li><li><a class="is-flex is-mobile" href="#装饰器的语法糖写法"><span class="mr-2">16.6</span><span>装饰器的语法糖写法</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#装饰器的使用"><span class="mr-2">16.6.1</span><span>装饰器的使用</span></a></li><li><a class="is-flex is-mobile" href="#带有参数的装饰器"><span class="mr-2">16.6.2</span><span>带有参数的装饰器</span></a></li><li><a class="is-flex is-mobile" href="#类装饰器的使用"><span class="mr-2">16.6.3</span><span>类装饰器的使用</span></a></li></ul></li></ul></li><li><a class="is-flex is-mobile" href="#mini-web框架"><span class="mr-2">17</span><span>mini-web框架</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#web框架概述"><span class="mr-2">17.1</span><span>web框架概述</span></a></li><li><a class="is-flex is-mobile" href="#框架程序开发"><span class="mr-2">17.2</span><span>框架程序开发</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#框架职责介绍"><span class="mr-2">17.2.1</span><span>框架职责介绍</span></a></li><li><a class="is-flex is-mobile" href="#动态资源判断"><span class="mr-2">17.2.2</span><span>动态资源判断</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#处理客户端的动态资源请求"><span class="mr-2">17.3</span><span>处理客户端的动态资源请求</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#模板替换功能开发-使用模拟数据替换模板变量"><span class="mr-2">17.3.1</span><span>模板替换功能开发,使用模拟数据替换模板变量</span></a></li><li><a class="is-flex is-mobile" href="#路由列表功能开发"><span class="mr-2">17.3.2</span><span>路由列表功能开发</span></a></li><li><a class="is-flex is-mobile" href="#装饰器方式的添加路由"><span class="mr-2">17.3.3</span><span>装饰器方式的添加路由</span></a></li><li><a class="is-flex is-mobile" href="#数据准备"><span class="mr-2">17.3.4</span><span>数据准备</span></a></li><li><a class="is-flex is-mobile" href="#个人中心数据接口的开发"><span class="mr-2">17.3.5</span><span>个人中心数据接口的开发</span></a></li><li><a class="is-flex is-mobile" href="#ajax请求数据渲染个人中心页面"><span class="mr-2">17.3.6</span><span>ajax请求数据渲染个人中心页面</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#logging日志"><span class="mr-2">17.4</span><span>logging日志</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#logging日志的介绍"><span class="mr-2">17.4.1</span><span>logging日志的介绍</span></a></li><li><a class="is-flex is-mobile" href="#x3D-x3D-logging日志级别介绍-x3D-x3D"><span class="mr-2">17.4.2</span><span>==logging日志级别介绍==</span></a></li><li><a class="is-flex is-mobile" href="#logging日志的使用"><span class="mr-2">17.4.3</span><span>logging日志的使用</span></a></li><li><a class="is-flex is-mobile" href="#web-py-程序使用logging日志示例"><span class="mr-2">17.4.4</span><span>web.py 程序使用logging日志示例:</span></a></li><li><a class="is-flex is-mobile" href="#framework-py-程序使用logging日志示例"><span class="mr-2">17.4.5</span><span>framework.py 程序使用logging日志示例:</span></a></li></ul></li></ul></li></ul></div></div><style>.menu-list > li > a.is-active + .menu-list { display: block; }.menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="profile"><div class="card-content"><nav class=""><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7.jpg" alt="山河已无恙"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">山河已无恙</p><p class="is-size-6 is-block">爱自己，是终生浪漫的开始</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>中国·呼和浩特</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">318</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">102</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">153</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://liruilong.blog.csdn.net/?t=1&amp;type=blog" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/LIRUILONGS"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="CSDN" href="https://liruilong.blog.csdn.net/"><i class="fa fa-code"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:1224965096@qq.com"><i class="fa fa-envelope"></i></a></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://liruilong.blog.csdn.net/?t=1&amp;type=blog" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">CSDN</span></span><span class="level-right"><span class="level-item tag">liruilong.blog.csdn.net</span></span></a></li><li><a class="level is-mobile" href="https://www.cnblogs.com/liruilong/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">博客园</span></span><span class="level-right"><span class="level-item tag">www.cnblogs.com</span></span></a></li><li><a class="level is-mobile" href="https://github.com/LIRUILONGS" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Githup</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li><li><a class="level is-mobile" href="https://gitee.com/liruilonger" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">码云</span></span><span class="level-right"><span class="level-item tag">gitee.com</span></span></a></li></ul></div></div></div><!--!--><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-20T08:40:00.000Z">2023-11-20</time></p><p class="title"><a href="/2023/11/20/%E5%BE%85%E5%8F%91%E5%B8%83/Golang%20VScode%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">Golang VScode 开发环境搭建</a></p><p class="categories"><a href="/categories/GO/">GO</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-16T01:44:37.000Z">2023-11-16</time></p><p class="title"><a href="/2023/11/16/%E5%BE%85%E5%8F%91%E5%B8%83/%E5%9F%BA%E4%BA%8E%20selenium%20%E5%AE%9E%E7%8E%B0%E7%BD%91%E7%AB%99%E5%9B%BE%E7%89%87%E9%87%87%E9%9B%86/">基于 selenium 实现网站图片采集</a></p><p class="categories"><a href="/categories/selenium/">selenium</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-14T08:52:18.000Z">2023-11-14</time></p><p class="title"><a href="/2023/11/14/%E5%BE%85%E5%8F%91%E5%B8%83/K8s%20Pod%20%E5%88%9B%E5%BB%BA%E5%9F%8B%E7%82%B9%E5%A4%84%E7%90%86(Mutating%20%20Admission%20Webhook)/">K8s Pod 创建埋点处理(Mutating  Admission Webhook)</a></p><p class="categories"><a href="/categories/test3/">test3</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-13T20:29:38.000Z">2023-11-14</time></p><p class="title"><a href="/2023/11/14/%E5%BE%85%E5%8F%91%E5%B8%83/%E5%85%B3%E4%BA%8E-Kubernetes%E4%B8%ADAdmission-Controllers-%E7%9A%84%E4%B8%80%E4%BA%9B%E7%AC%94%E8%AE%B0/">关于 Kubernetes中Admission Controllers(准入控制器) 认知的一些笔记</a></p><p class="categories"><a href="/categories/Kubernetes/">Kubernetes</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-10T07:55:27.000Z">2023-11-10</time></p><p class="title"><a href="/2023/11/10/%E5%BE%85%E5%8F%91%E5%B8%83/Linux-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B9%8B%E4%BD%BF%E7%94%A8-Tuned-%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88/">Linux 性能优化之使用 Tuned 配置优化方案</a></p><p class="categories"><a href="/categories/Linux/">Linux</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/AdaFace/"><span class="level-start"><span class="level-item">AdaFace</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Ajax/"><span class="level-start"><span class="level-item">Ajax</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Ansible/"><span class="level-start"><span class="level-item">Ansible</span></span><span class="level-end"><span class="level-item tag">23</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/AppCube/"><span class="level-start"><span class="level-item">AppCube</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Bind9/"><span class="level-start"><span class="level-item">Bind9</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/CI-CD/"><span class="level-start"><span class="level-item">CI/CD</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/CSS/"><span class="level-start"><span class="level-item">CSS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Ceph/"><span class="level-start"><span class="level-item">Ceph</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/DAD-3DHeads/"><span class="level-start"><span class="level-item">DAD-3DHeads</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/DNS/"><span class="level-start"><span class="level-item">DNS</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><a class="level is-mobile is-marginless" href="/categories/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2023/11/"><span class="level-start"><span class="level-item">十一月 2023</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2023/10/"><span class="level-start"><span class="level-item">十月 2023</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2023/09/"><span class="level-start"><span class="level-item">九月 2023</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2023/08/"><span class="level-start"><span class="level-item">八月 2023</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2023/07/"><span class="level-start"><span class="level-item">七月 2023</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><a class="level is-mobile is-marginless" href="/archives/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Kubernetes/"><span class="tag">Kubernetes</span><span class="tag is-grey-lightest">91</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag is-grey-lightest">34</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ansible/"><span class="tag">Ansible</span><span class="tag is-grey-lightest">25</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag is-grey-lightest">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ceph/"><span class="tag">Ceph</span><span class="tag is-grey-lightest">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Docker/"><span class="tag">Docker</span><span class="tag is-grey-lightest">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JAVA/"><span class="tag">JAVA</span><span class="tag is-grey-lightest">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenShift/"><span class="tag">OpenShift</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/"><span class="tag">程序人生</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DNS/"><span class="tag">DNS</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go/"><span class="tag">Go</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OKD/"><span class="tag">OKD</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/selenium/"><span class="tag">selenium</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%AE%B9%E5%99%A8/"><span class="tag">容器</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BD%91%E7%BB%9C/"><span class="tag">网络</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CKA/"><span class="tag">CKA</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GO/"><span class="tag">GO</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ISCSI/"><span class="tag">ISCSI</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NFS/"><span class="tag">NFS</span><span class="tag is-grey-lightest">3</span></a></div></div><div class="field is-grouped is-grouped-multiline"><a class="tags has-addons" href="/tags/"><span class="tag">查看全部&gt;&gt;</span></a></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="订阅"></div></div></form></div></div></div><!--!--><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="山河已无恙" height="28"></a><p class="size-small"><span>&copy; 2024 山河已无恙</span>  Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a> &amp; <a href="https://github.com/removeif/hexo-theme-amazing" target="_blank">Amazing</a> <br><span>© <a href="http://www.beian.miit.gov.cn/" target="_blank">备案号</a><br></span><span>© 版权说明：[本网站所有内容均收集于互联网或自己创作,<br />&nbsp;&nbsp;&nbsp;&nbsp;方便于网友与自己学习交流，如有侵权，请<a href="/message" target="_blank">留言</a>，立即处理]<br /></span><span><span id="statistic-times">loading...</span><script>function createTime(time) {
            var n = new Date(time);
            now.setTime(now.getTime() + 250),
                days = (now - n) / 1e3 / 60 / 60 / 24,
                dnum = Math.floor(days),
                hours = (now - n) / 1e3 / 60 / 60 - 24 * dnum,
                hnum = Math.floor(hours),
            1 == String(hnum).length && (hnum = "0" + hnum),
                minutes = (now - n) / 1e3 / 60 - 1440 * dnum - 60 * hnum,
                mnum = Math.floor(minutes),
            1 == String(mnum).length && (mnum = "0" + mnum),
                seconds = (now - n) / 1e3 - 86400 * dnum - 3600 * hnum - 60 * mnum,
                snum = Math.round(seconds),
            1 == String(snum).length && (snum = "0" + snum),
                document.getElementById("statistic-times").innerHTML = "❤️本站自 <strong>"+time.split(" ")[0].replace(/\//g,".")+"</strong> 已运行 <strong>" + dnum + "</strong> 天 <strong>" + hnum + "</strong> 小时 <strong>" + mnum + "</strong> 分 <strong>" + snum + "</strong> 秒！❤️";
        }var now = new Date();setInterval("createTime('2021/6/26 21:27:00')", 250,"");</script><br></span><div class="size-small"><span>❤️感谢 <strong><span id="busuanzi_value_site_uv">99+</span></strong> 小伙伴的 <strong><span id="busuanzi_value_site_pv">99+</span></strong> 次光临！❤️</span></div></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/removeif/hexo-theme-amazing"><i class="fab fa-github"></i></a></p></div><div class="sideMusic"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="/js/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script><meting-js style="width: auto;height: 2000px;" server="netease" type="playlist" id="2364053447" theme="#2980b9" loop="all" autoplay="false" order="list" storageName="aplayer-setting" lrctype="0" list-max-height="400px" fixed="true"></meting-js></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" async></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><!--!--><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/KaTeX/0.11.1/katex.min.css"><script src="https://cdnjs.loli.net/ajax/libs/KaTeX/0.11.1/katex.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/KaTeX/0.11.1/contrib/auto-render.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/KaTeX/0.11.1/contrib/mhchem.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdnjs.loli.net/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><div id="outdated"><h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly.&amp;npsb;<a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now </a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">×</a></p></div><script src="https://cdnjs.loli.net/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js" defer></script><script>window.addEventListener("load", function () {
            outdatedBrowser({
                bgColor: '#f25648',
                color: '#ffffff',
                lowerThan: 'object-fit' // display on IE11 or below
            });
        });</script><!--!--><script src="/js/main.js" defer></script><script>$.getScript('/js/comment-issue-data.js',function(){loadIssueData('9fdc9739266d48d5f62e','c1cc33697d099a2197650ec9dadcb16bd4904655','LIRUILONGS','blog_comment',false);})</script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script><script type="text/javascript">var pjax = new Pjax({
            elements: "a",//代表点击链接就更新
            selectors: [  //代表要更新的节点
                ".section",
                "title"
            ],
            cache: true,
            cacheBust:false
        })

        function loadBusuanzi(){
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js", function () {});
        }

        function loadMathJax() { //加载mathjax
            $.getScript("//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML", function () {
                MathJax.Hub.Config({ tex2jax: { inlineMath: [['$', '$'], ['\(', '\)']] } });
                var math = document.getElementsByClassName("entry-content")[0];
                MathJax.Hub.Queue(["Typeset", MathJax.Hub, math]);
            });
        };

        // 开始 PJAX 执行的函数
        document.addEventListener('pjax:send', function () {
        });
        
        // PJAX 完成之后执行的函数，可以和上面的重载放在一起
        document.addEventListener('pjax:complete', function () {
            $(".section").css({opacity:1});
            if(false){
                $.getScript('/js/comment-issue-data.js',function(){loadIssueData('9fdc9739266d48d5f62e','c1cc33697d099a2197650ec9dadcb16bd4904655','LIRUILONGS','blog_comment',false);});
            }
            if(false){
                loadMathJax();
            }
            loadMainJs(jQuery, window.moment, window.ClipboardJS, window.IcarusThemeSettings);
            loadBackTop();
            loadBusuanzi();
            if(typeof loadBanner == 'function'){
                loadBanner();
            }
        });</script></body></html>