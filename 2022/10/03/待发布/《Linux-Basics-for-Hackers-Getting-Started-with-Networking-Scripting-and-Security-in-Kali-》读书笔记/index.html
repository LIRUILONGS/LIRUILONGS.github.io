<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>《Linux Basics for Hackers：Getting Started with Networking, Scripting, and Security in Kali 》读书笔记 - 山河已无恙</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="山河已无恙"><meta name="msapplication-TileImage" content="https://cdn.jsdelivr.net/gh/removeif/removeif-demo@latest/img/favicon.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="山河已无恙"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta description="傍晚时分，你坐在屋檐下，看着天慢慢地黑下去，心里寂寞而凄凉，感到自己的生命被剥夺了。当时我是个年轻人，但我害怕这样生活下去，衰老下去。在我看来，这是比死亡更可怕的事。——–王小波"><meta property="og:type" content="blog"><meta property="og:title" content="山河已无恙"><meta property="og:url" content="https://mp.weixin.qq.com/s?__biz=MzkyNjIxNTYwMw==&amp;mid=2247496480&amp;idx=1&amp;sn=a9971fed3962ef2a1aeda1f0bda65f86&amp;chksm=c2380ffcf54f86eaba8daac6caca72a70f38e61a8d25dc2a66d3a17b87c02530e326dcaea14b#rd"><meta property="og:site_name" content="山河已无恙"><meta property="og:description" content="傍晚时分，你坐在屋檐下，看着天慢慢地黑下去，心里寂寞而凄凉，感到自己的生命被剥夺了。当时我是个年轻人，但我害怕这样生活下去，衰老下去。在我看来，这是比死亡更可怕的事。——–王小波"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://mp.weixin.qq.com/img/头像.jpg"><meta property="article:published_time" content="2022-10-03T08:59:46.000Z"><meta property="article:modified_time" content="2023-06-21T11:25:59.165Z"><meta property="article:author" content="LIRUILONGS"><meta property="article:tag" content="Linux"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/头像.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://liruilongs.github.io/2022/10/03/%E5%BE%85%E5%8F%91%E5%B8%83/%E3%80%8ALinux-Basics-for-Hackers-Getting-Started-with-Networking-Scripting-and-Security-in-Kali-%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"},"headline":"山河已无恙","image":["https://img-blog.csdnimg.cn/b9e212c75a4049f89da3686b5e881554.png","https://img-blog.csdnimg.cn/6a347d21fef44a709ff6e5722b939c97.png","https://img-blog.csdnimg.cn/6092c8f0028741e9b9e3779eb99d0cca.png","https://img-blog.csdnimg.cn/565362f58d154421a571ec732dc52f1f.png","https://img-blog.csdnimg.cn/a4fa7977a50042de8304f239168e9e7d.png","https://img-blog.csdnimg.cn/07167d1112bf4c56a36916e5262e3b13.png"],"datePublished":"2022-10-03T08:59:46.000Z","dateModified":"2023-06-21T11:25:59.165Z","author":{"@type":"Person","name":"山河已无恙"},"description":"傍晚时分，你坐在屋檐下，看着天慢慢地黑下去，心里寂寞而凄凉，感到自己的生命被剥夺了。当时我是个年轻人，但我害怕这样生活下去，衰老下去。在我看来，这是比死亡更可怕的事。——–王小波"}</script><link rel="canonical" href="https://liruilongs.github.io/2022/10/03/%E5%BE%85%E5%8F%91%E5%B8%83/%E3%80%8ALinux-Basics-for-Hackers-Getting-Started-with-Networking-Scripting-and-Security-in-Kali-%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"><link rel="alternate" href="/path/to/atom.xml" title="山河已无恙" type="application/atom+xml"><link rel="icon" href="https://cdn.jsdelivr.net/gh/removeif/removeif-demo@latest/img/favicon.png"><meta name="referrer" content="no-referrer-when-downgrade"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Ubuntu:400,600|Source+Code+Pro|Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;amp;subset=latin,latin-ext|Inconsolata|Itim|Lobster.css"><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="/js/globalUtils.js"></script><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?3f06f2b732a5b1034c989f74e28d0eea";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css"><script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script><link rel="stylesheet" href="/live2d/waifu.css"><script type="text/javascript" async src="/live2d/autoload.js"></script><meta name="generator" content="Hexo 5.4.2"></head><body class="is-3-column has-navbar-fixed-top"><nav class="navbar navbar-main is-fixed-top"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="山河已无恙" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/media">影音</a><a class="navbar-item" href="/album">相册</a><a class="navbar-item" href="/friend">友链</a><a class="navbar-item" href="/self-talking">生活小记</a><a class="navbar-item" href="/message">留言墙</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Gitee" href="https://gitee.com/liruilonger"><i class="fab fa-git-square fa-1x"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="GitHub" href="https://github.com/LIRUILONGS"><i class="fab fa-github fa-1x"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul fa-1x"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search fa-1x"></i></a><a class="navbar-item" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon fa-1x" id="night-icon"></i></a></div></div></div></nav><script type="text/javascript" src="/js/theme-setting.js"></script><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><!--!--><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><i class="far fa-calendar-plus"> </i>2022-10-03  <a class="commentCountImg" href="/2022/10/03/%E5%BE%85%E5%8F%91%E5%B8%83/%E3%80%8ALinux-Basics-for-Hackers-Getting-Started-with-Networking-Scripting-and-Security-in-Kali-%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/#comment-container"><span class="display-none-class">93aa4092ca1082810fdc06d0f33447b6</span><i class="far fa-comment-dots"></i> <span class="commentCount" id="93aa4092ca1082810fdc06d0f33447b6">99+</span>  </a><span class="level-item"><i class="far fa-clock"> </i>1 小时  <i class="fas fa-pencil-alt"> </i>13.4 k</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">《Linux Basics for Hackers：Getting Started with Networking, Scripting, and Security in Kali 》读书笔记</h1><div class="content"><p><strong><font color="009688"> 傍晚时分，你坐在屋檐下，看着天慢慢地黑下去，心里寂寞而凄凉，感到自己的生命被剥夺了。当时我是个年轻人，但我害怕这样生活下去，衰老下去。在我看来，这是比死亡更可怕的事。——–王小波</strong></font></p>
<span id="more"></span>
<h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><hr>
<ul>
<li>中英文版下载地址：<a target="_blank" rel="noopener" href="https://github.com/OpenCyberTranslationProject/Linux-Basics-for-Hackers">https://github.com/OpenCyberTranslationProject/Linux-Basics-for-Hackers</a></li>
<li>vmware Kali虚机下载：<a target="_blank" rel="noopener" href="https://www.kali.org/get-kali/">https://www.kali.org/get-kali/</a></li>
<li>谷歌上一个pdf网站看到，豆瓣了下，评分还好，搜了下有国内大佬们翻译了中文版的 <code>^_^</code>，所以写这篇博客</li>
<li>书籍适合入门安全领域相关，但是对Linux所知甚少的小伙伴</li>
<li>博文内容涉及：<ul>
<li>进程优先级设置修改</li>
<li>创建存储设备块的副本</li>
<li>系统日志管理</li>
<li>几种不同的匿名访问方式</li>
<li>理解和检查无线设备</li>
</ul>
</li>
</ul>
<p><strong><font color="009688"> 傍晚时分，你坐在屋檐下，看着天慢慢地黑下去，心里寂寞而凄凉，感到自己的生命被剥夺了。当时我是个年轻人，但我害怕这样生活下去，衰老下去。在我看来，这是比死亡更可怕的事。——–王小波</strong></font></p>
<hr>
<p><img src="https://img-blog.csdnimg.cn/b9e212c75a4049f89da3686b5e881554.png" alt="在这里插入图片描述"></p>
<p>下载好虚机之后，vmware 的窗口不太方便使用，我们需要配置ssh登录</p>
<p>学习的内核版本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$ uname -a</span><br><span class="line">Linux kali 5.18.0-kali5-amd64 <span class="comment">#1 SMP PREEMPT_DYNAMIC Debian 5.18.5-1kali6 (2022-07-07) x86_64 GNU/Linux</span></span><br><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$</span><br></pre></td></tr></table></figure>

<p>同样重要的是，在开始之前，你不应该以root身份登录执行日常任务，因为当你以root身份登录时，任何入侵你的系统的人都会立即获得root权限，从而“拥有”你的系统。需要以普通用户身份登录</p>
<p>下载的虚机帐密：<code>kali/kali</code>,配置的ssh登录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$ sudo sed <span class="string">&#x27;s/#PasswordAuthentication yes/PasswordAuthentication yes/g&#x27;</span> /etc/ssh/sshd_config -i</span><br><span class="line">[sudo] password <span class="keyword">for</span> kali: </span><br><span class="line">                                                                             </span><br><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$ sed <span class="string">&#x27;s/#PasswordAuthentication yes/PasswordAuthentication yes/g&#x27;</span> /etc/ssh/sshd_config | grep -i pass</span><br><span class="line"><span class="comment">#PermitRootLogin prohibit-password</span></span><br><span class="line"><span class="comment"># To disable tunneled clear text passwords, change to no here!</span></span><br><span class="line">PasswordAuthentication yes</span><br><span class="line"><span class="comment">#PermitEmptyPasswords no</span></span><br><span class="line"><span class="comment"># Change to yes to enable challenge-response passwords (beware issues with</span></span><br><span class="line"><span class="comment">#KerberosOrLocalPasswd yes</span></span><br><span class="line"><span class="comment"># PasswordAuthentication.  Depending on your PAM configuration,</span></span><br><span class="line"><span class="comment"># PAM authentication via KbdInteractiveAuthentication may bypass</span></span><br><span class="line"><span class="comment"># the setting of &quot;PermitRootLogin without-password&quot;.</span></span><br><span class="line"><span class="comment"># PAM authentication, then enable this but set PasswordAuthentication</span></span><br><span class="line"><span class="comment"># Allow client to pass locale environment variables</span></span><br></pre></td></tr></table></figure>
<p>如果需要配置root免密登录，需要配置这个</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$ cat /etc/ssh/sshd_config | grep -i root </span><br><span class="line"><span class="comment">#PermitRootLogin prohibit-password</span></span><br><span class="line"><span class="comment"># the setting of &quot;PermitRootLogin without-password&quot;.</span></span><br><span class="line"><span class="comment">#ChrootDirectory none</span></span><br></pre></td></tr></table></figure>
<p>修改完配置需要重启服务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$ systemctl status sshd</span><br><span class="line">Unit sshd.service could not be found.</span><br><span class="line"></span><br><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$ service start sshd</span><br><span class="line">start: unrecognized service</span><br><span class="line">                                                                             </span><br><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$ /etc/init.d/ssh restart </span><br><span class="line">Restarting ssh (via systemctl): ssh.service.</span><br><span class="line">                                                                             </span><br><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$ </span><br></pre></td></tr></table></figure>
<p>系统命名搜索</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$ whereis vmstat</span><br><span class="line">vmstat: /usr/bin/vmstat /usr/share/man/man8/vmstat.8.gz</span><br><span class="line"></span><br><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$ <span class="built_in">which</span> vmstat</span><br><span class="line">/usr/bin/vmstat</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="进程优先级设置修改"><a href="#进程优先级设置修改" class="headerlink" title="进程优先级设置修改"></a>进程优先级设置修改</h3><h4 id="使用nice命令改变进程优先级"><a href="#使用nice命令改变进程优先级" class="headerlink" title="使用nice命令改变进程优先级"></a>使用nice命令改变进程优先级</h4><p><code>nice</code>的值范围从<code>-20到+19</code>，默认值为0(见下图)。<code>高nice值为低优先级，低nice值为高优先级</code>。当进程启动时，它继承其父进程的nice值。<code>进程的所有者可以降低进程的优先级，但不能增加其优先级。</code>当然，超级用户或根用户可以<code>随意将nice值设置为他们喜欢的任何值</code>。</p>
<p><img src="https://img-blog.csdnimg.cn/6a347d21fef44a709ff6e5722b939c97.png" alt="在这里插入图片描述"></p>
<p><code>启动进程</code>时，可以使用<code>nice</code>命令<code>设置优先级</code>，然后在使用<code>renice</code>命令开始运行进程后<code>更改优先级</code>。nice命令要求增加nice值，而renice命令要求niceness的绝对值。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─<span class="variable">$nice</span> -n -10 /bin/slowprocess</span><br></pre></td></tr></table></figure>

<h5 id="在运行进程时设置优先级"><a href="#在运行进程时设置优先级" class="headerlink" title="在运行进程时设置优先级"></a>在运行进程时设置优先级</h5><p>出于演示目的，我们假设我们有一个名为<code>slowprocess的进程位于/bin/slowprocess</code>。</p>
<p>如果我们<code>希望它加速执行完成</code>，我们可以使用nice命令启动该过程：此命令会将<code>nice值递增-10</code>，从而增加其优先级并为其分配更多资源。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─<span class="variable">$nice</span> -n -10 /bin/slowprocess</span><br></pre></td></tr></table></figure>


<p>给予slowprocess一个较低的优先级，我们可以将其好的值正增加10：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─<span class="variable">$nice</span> -n 10 /bin/slowprocess</span><br></pre></td></tr></table></figure>

<h4 id="使用renice命令改变正在运行的进程优先级"><a href="#使用renice命令改变正在运行的进程优先级" class="headerlink" title="使用renice命令改变正在运行的进程优先级"></a>使用renice命令改变正在运行的进程优先级</h4><p><code>renice</code>命令采用介于<code>-20和19之间的绝对值</code>，并将优先级设置为该特定级别，而不是从其开始的级别增加或减少。此外，renice所针对的进程的PID而不是名字。因此，<code>如果slowprocess在您的系统上使用过多的资源，并且你想给它一个较低的优先级，从而允许其他进程具有更高的优先级和更多的资源，你可以重新设置slowprocess(PID为6996)并给出一个更高的值</code>，如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─<span class="variable">$renice</span> 20 6996</span><br></pre></td></tr></table></figure>

<p>与<code>nice</code>一样，只有<code>root</code>用户可以将进程重新设置为负值以赋予其更高的优先级，但任何用户都可以使用<code>renice</code>来降低优先级。</p>
<p>还可以使用top工具更改nice值。随着top运行，只需按R键，然后提供PID和nice值。如清单6-4中top正在运行，当我按下R键并提供PID和nice值时，我得到以下输出：</p>
<p><img src="https://img-blog.csdnimg.cn/6092c8f0028741e9b9e3779eb99d0cca.png" alt="在这里插入图片描述"></p>
<h3 id="创建存储设备块的副本"><a href="#创建存储设备块的副本" class="headerlink" title="创建存储设备块的副本"></a>创建存储设备块的副本</h3><p>在信息安全和黑客的世界里，一个Linux归档命令在实用性方面胜过其他命令。<strong>dd</strong>命令<code>逐个比特位复制文件、文件系统</code>，甚至整个硬盘驱动器。这意味着即<code>使删除的文件也会被复制(是的，重要的是要知道您删除的文件可能是可恢复的)</code>，以便于发现和恢复。大多数逻辑复制实用程序(如<strong>cp</strong>)不会复制已删除的文件。</p>
<p>一旦黑客拥有目标系统，<strong>dd</strong>命令将允许他们将整个硬盘驱动器或存储设备复制到他们的系统。此外，那些想要抓住黑客的人</p>
<ul>
<li>即调查调查人员 </li>
<li>可能会使用此命令来制作硬盘驱动器的物理副本，其中包含已删除的文件和其他可能有助于查找针对黑客证据的构件。</li>
</ul>
<p>需要注意的是，<strong>dd</strong>命令<code>不应该用于典型的文件和存储设备的日常复制</code>，因为它非常慢，其他命令执行起来更快、更有效。但是，当您需要一个没有文件系统或其他逻辑结构的存储设备的副本时(例如在取证调查中)，它是非常好的。</p>
<p><strong>dd</strong>命令的基本语法如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dd <span class="keyword">if</span>=inputfile of=outputfile</span><br></pre></td></tr></table></figure>
<p>因此，如果您想为您的闪存驱动器创建一个物理副本，假设闪存驱动器是sdb，您将输入以下内容:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─<span class="variable">$dd</span> <span class="keyword">if</span>=/dev/sdb of=/root/flashcopy</span><br><span class="line"></span><br><span class="line">1257441=0 records <span class="keyword">in</span></span><br><span class="line"></span><br><span class="line">1257440+0 records out</span><br><span class="line"></span><br><span class="line">7643809280 bytes (7.6 GB) copied, 1220.729 s, 5.2 MB/s</span><br></pre></td></tr></table></figure>
<p>让我们分解这个命令：<strong>dd</strong> 是指定输入文件的物理“复制”命令，**&#x2F;dev&#x2F;sdb** 表示指定输出文件的&#x2F;dev目录下的闪存驱动器，**&#x2F;root&#x2F;flashcopy** 是要将物理副本复制到的文件的名称。</p>
<p><strong>dd命</strong>令可以使用许多参数选项，您可以对这些选项进行一些研究，但其中最有用的是 <strong>noerror</strong> 选项和 <strong>bs</strong> (块大小)选项。顾名思义，即使遇到错误，<strong>noerror</strong> 选项也会继续复制。<strong>bs</strong> 选项允许您确定要复制的数据的块大小(每个块的读&#x2F;写字节数)。默认情况下，它被设置为512字节，但是可以更改它以加快进度。通常，这将设置为设备的扇区大小，通常为4KB(4096字节)。有了这些选项，您的命令将如下所示:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─<span class="variable">$dd</span> <span class="keyword">if</span>=/dev/media of=/root/flashcopy bs=4096 conv:noerror</span><br></pre></td></tr></table></figure>

<h3 id="rsyslog-日志记录守护进程"><a href="#rsyslog-日志记录守护进程" class="headerlink" title="rsyslog 日志记录守护进程"></a>rsyslog 日志记录守护进程</h3><p>Linux使用一个名为<strong>syslogd</strong> 的守护进程来自动记录计算机上的事件。<strong>syslog</strong> 的几个变体，包括rsyslog和syslog-ng，在Linux的不同发行版上使用，尽管它们的操作非常相似，但仍然存在一些细微的差异。由于Kali Linux是在Debian上构建的，并且Debian默认情况下带有rsyslog，所以我们将在本章重点介绍这个实用程序。如果您想使用其他发行版，那么有必要对它们的日志系统做一些研究。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$ cat /etc/rsyslog.conf</span><br><span class="line"><span class="comment"># /etc/rsyslog.conf configuration file for rsyslog</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># For more information install rsyslog-doc and see</span></span><br><span class="line"><span class="comment"># /usr/share/doc/rsyslog-doc/html/configuration/index.html</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#################</span></span><br><span class="line"><span class="comment">#### MODULES ####</span></span><br><span class="line"><span class="comment">#################</span></span><br><span class="line"></span><br><span class="line">module(load=<span class="string">&quot;imuxsock&quot;</span>) <span class="comment"># provides support for local system logging</span></span><br><span class="line">module(load=<span class="string">&quot;imklog&quot;</span>)   <span class="comment"># provides kernel logging support</span></span><br><span class="line"><span class="comment">#module(load=&quot;immark&quot;)  # provides --MARK-- message capability</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># provides UDP syslog reception</span></span><br><span class="line"><span class="comment">#module(load=&quot;imudp&quot;)</span></span><br><span class="line"><span class="comment">#input(type=&quot;imudp&quot; port=&quot;514&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># provides TCP syslog reception</span></span><br><span class="line"><span class="comment">#module(load=&quot;imtcp&quot;)</span></span><br><span class="line"><span class="comment">#input(type=&quot;imtcp&quot; port=&quot;514&quot;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">###########################</span></span><br><span class="line"><span class="comment">#### GLOBAL DIRECTIVES ####</span></span><br><span class="line"><span class="comment">###########################</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Use traditional timestamp format.</span></span><br><span class="line"><span class="comment"># To enable high precision timestamps, comment out the following line.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="variable">$ActionFileDefaultTemplate</span> RSYSLOG_TraditionalFileFormat</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Set the default permissions for all log files.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="variable">$FileOwner</span> root</span><br><span class="line"><span class="variable">$FileGroup</span> adm</span><br><span class="line"><span class="variable">$FileCreateMode</span> 0640</span><br><span class="line"><span class="variable">$DirCreateMode</span> 0755</span><br><span class="line"><span class="variable">$Umask</span> 0022</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Where to place spool and state files</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="variable">$WorkDirectory</span> /var/spool/rsyslog</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Include all config files in /etc/rsyslog.d/</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="variable">$IncludeConfig</span> /etc/rsyslog.d/*.conf</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">###############</span></span><br><span class="line"><span class="comment">#### RULES ####</span></span><br><span class="line"><span class="comment">###############</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># First some standard log files.  Log by facility.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">auth,authpriv.*                 /var/<span class="built_in">log</span>/auth.log</span><br><span class="line">*.*;auth,authpriv.none          -/var/<span class="built_in">log</span>/syslog</span><br><span class="line"><span class="comment">#cron.*                         /var/log/cron.log</span></span><br><span class="line">daemon.*                        -/var/<span class="built_in">log</span>/daemon.log</span><br><span class="line">kern.*                          -/var/<span class="built_in">log</span>/kern.log</span><br><span class="line">lpr.*                           -/var/<span class="built_in">log</span>/lpr.log</span><br><span class="line">mail.*                          -/var/<span class="built_in">log</span>/mail.log</span><br><span class="line">user.*                          -/var/<span class="built_in">log</span>/user.log</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Logging for the mail system.  Split it up so that</span></span><br><span class="line"><span class="comment"># it is easy to write scripts to parse these files.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">mail.info                       -/var/<span class="built_in">log</span>/mail.info</span><br><span class="line">mail.warn                       -/var/<span class="built_in">log</span>/mail.warn</span><br><span class="line">mail.err                        /var/<span class="built_in">log</span>/mail.err</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Some &quot;catch-all&quot; log files.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">*.=debug;\</span><br><span class="line">        auth,authpriv.none;\</span><br><span class="line">        mail.none               -/var/<span class="built_in">log</span>/debug</span><br><span class="line">*.=info;*.=notice;*.=warn;\</span><br><span class="line">        auth,authpriv.none;\</span><br><span class="line">        cron,daemon.none;\</span><br><span class="line">        mail.none               -/var/<span class="built_in">log</span>/messages</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Emergencies are sent to everybody logged in.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">*.emerg                         :omusrmsg:*</span><br><span class="line"></span><br><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$</span><br></pre></td></tr></table></figure>
<p>每一行都是一个单独的日志记录规则，说明记录了哪些消息以及记录到哪里。这些规则的基本格式如下:<code>facility.priority action</code></p>
<p><strong>facility</strong> 关键字引用正在记录其消息的程序，例如邮件、内核或打印系统。</p>
<ul>
<li><strong>auth&#x2F;authpriv</strong>安全&#x2F;授权消息</li>
<li><strong>cron</strong>时钟守护进程</li>
<li><strong>daemon</strong>其他守护进程</li>
<li><strong>kern</strong>内核消息</li>
<li><strong>lpr</strong>打印系统</li>
<li><strong>mail</strong>邮件系统</li>
<li><strong>user</strong>常规用户级别消息</li>
</ul>
<p><strong>priority</strong> 关键字决定为该程序记录哪种类型的消息。warning、warn、error、err、emerg、panic，这些都已被弃用，不应该使用。</p>
<ul>
<li>debug</li>
<li>info</li>
<li>notice</li>
<li>warning</li>
<li>warn</li>
<li>error</li>
<li>err</li>
<li>crit</li>
<li>alert</li>
<li>emerg</li>
<li>panic</li>
</ul>
<p><strong>action</strong> 关键字引用将发送日志的位置。</p>
<h3 id="使用-logrotate-自动清理日志"><a href="#使用-logrotate-自动清理日志" class="headerlink" title="使用 logrotate 自动清理日志"></a>使用 logrotate 自动清理日志</h3><p>日志文件会占用空间，所以如果不定期删除它们，它们最终会填满整个硬盘驱动器。另一方面，如果太频繁地删除日志文件，那么在将来的某个时间点就没有日志供研究了。您可以使用 logrotate 通过切割日志来确定这些符合相反需求之间的平衡。</p>
<p>logrotate 是通过将日志文件移动到其他位置来定期归档日志文件的过程，从而为您留下一个新的日志文件。然后，在指定的一段时间之后，归档的位置将被清理。</p>
<p>您的系统已经在使用 logrotate 实用程序的 cron 作业切割转储日志文件。您可以配置 logrotate 实用程序，以使用<code>/etc/logrotate.conf </code>文本文件选择日志转储备份的规律性</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$ cat /etc/logrotate.conf</span><br><span class="line"><span class="comment"># see &quot;man logrotate&quot; for details</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># global options do not affect preceding include directives</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># rotate log files weekly</span></span><br><span class="line">weekly</span><br><span class="line"></span><br><span class="line"><span class="comment"># keep 4 weeks worth of backlogs</span></span><br><span class="line">rotate 4</span><br><span class="line"></span><br><span class="line"><span class="comment"># create new (empty) log files after rotating old ones</span></span><br><span class="line">create</span><br><span class="line"></span><br><span class="line"><span class="comment"># use date as a suffix of the rotated file</span></span><br><span class="line"><span class="comment">#dateext</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># uncomment this if you want your log files compressed</span></span><br><span class="line"><span class="comment">#compress</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># packages drop log rotation information into this directory</span></span><br><span class="line">include /etc/logrotate.d</span><br><span class="line"></span><br><span class="line"><span class="comment"># system-specific logs may also be configured here.</span></span><br><span class="line"></span><br><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>设置切割转储日志默认设置的频率是每四个星期转储日志:如果您的日志有足够的存储空间，并且希望保留半永久记录以便以后进行取证分析，那么,您可以将此设置更改为 rotate 26 以保存六个月的日志，或者将 rotate 52 更改为保存一年的日志</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">┌──[root@vms152.liruilongs.github.io]-[~]</span><br><span class="line">└─<span class="variable">$cat</span> /etc/logrotate.conf</span><br><span class="line"><span class="comment"># see &quot;man logrotate&quot; for details</span></span><br><span class="line"><span class="comment"># rotate log files weekly</span></span><br><span class="line">weekly</span><br><span class="line"></span><br><span class="line"><span class="comment"># keep 4 weeks worth of backlogs</span></span><br><span class="line">rotate 4</span><br><span class="line"></span><br><span class="line"><span class="comment"># create new (empty) log files after rotating old ones</span></span><br><span class="line">create</span><br><span class="line"></span><br><span class="line"><span class="comment"># use date as a suffix of the rotated file</span></span><br><span class="line">dateext</span><br><span class="line"></span><br><span class="line"><span class="comment"># uncomment this if you want your log files compressed</span></span><br><span class="line"><span class="comment">#compress</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># RPM packages drop log rotation information into this directory</span></span><br><span class="line">include /etc/logrotate.d</span><br><span class="line"></span><br><span class="line"><span class="comment"># no packages own wtmp and btmp -- we&#x27;ll rotate them here</span></span><br><span class="line">/var/<span class="built_in">log</span>/wtmp &#123;</span><br><span class="line">    monthly</span><br><span class="line">    create 0664 root utmp</span><br><span class="line">        minsize 1M</span><br><span class="line">    rotate 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/var/<span class="built_in">log</span>/btmp &#123;</span><br><span class="line">    missingok</span><br><span class="line">    monthly</span><br><span class="line">    create 0600 root utmp</span><br><span class="line">    rotate 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># system-specific logs may be also be configured here.</span></span><br><span class="line">┌──[root@vms152.liruilongs.github.io]-[~]</span><br><span class="line">└─$</span><br></pre></td></tr></table></figure>
<h4 id="保持隐身"><a href="#保持隐身" class="headerlink" title="保持隐身"></a>保持隐身</h4><p>一旦您破坏了 Linux 系统，禁用日志记录并删除日志文件中您入侵的任何证据，这都是有用的，以减少被检测到的机会。有很多方法可以做到这一点，每种方法都有自己的风险和可靠性。</p>
<h5 id="删除证据"><a href="#删除证据" class="headerlink" title="删除证据"></a>删除证据</h5><p>首先，您需要删除活动的任何日志。您可以简单地打开日志文件，并使用逐行准确地删除详细描述您的活动的任何日志。然而，这可能会很耗时，并在日志文件中留下时间间隔，这看起来很可疑。此外，删除的文件通常可以由一个熟练的取证调查员恢复。</p>
<p>更好、更安全的解决方案是<code>分解日志文件</code>。对于其他文件删除系统，熟练的调查员仍然能够恢复已删除的文件，Linux有一个内置命令，名为<strong>shred</strong>，可以删除文件并多次擦写覆盖它，这使得恢复变得更加困难。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$ shred --<span class="built_in">help</span></span><br><span class="line">Usage: shred [OPTION]... FILE...</span><br><span class="line">Overwrite the specified FILE(s) repeatedly, <span class="keyword">in</span> order to make it harder</span><br><span class="line"><span class="keyword">for</span> even very expensive hardware probing to recover the data.</span><br><span class="line"></span><br><span class="line">If FILE is -, shred standard output.</span><br><span class="line"></span><br><span class="line">Mandatory arguments to long options are mandatory <span class="keyword">for</span> short options too.</span><br><span class="line">  -f, --force    change permissions to allow writing <span class="keyword">if</span> necessary</span><br><span class="line">  -n, --iterations=N  overwrite N <span class="built_in">times</span> instead of the default (3)</span><br><span class="line">      --random-source=FILE  get random bytes from FILE</span><br><span class="line">  -s, --size=N   shred this many bytes (suffixes like K, M, G accepted)</span><br><span class="line">  -u             deallocate and remove file after overwriting</span><br><span class="line">      --remove[=HOW]  like -u but give control on HOW to delete;  See below</span><br><span class="line">  -v, --verbose  show progress</span><br><span class="line">  -x, --exact    <span class="keyword">do</span> not round file sizes up to the next full block;</span><br><span class="line">                   this is the default <span class="keyword">for</span> non-regular files</span><br><span class="line">  -z, --zero     add a final overwrite with zeros to hide shredding</span><br><span class="line">      --<span class="built_in">help</span>     display this <span class="built_in">help</span> and <span class="built_in">exit</span></span><br><span class="line">      --version  output version information and <span class="built_in">exit</span></span><br></pre></td></tr></table></figure>
<p>碎片化<code>auth.log</code>文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[/var/<span class="built_in">log</span>]</span><br><span class="line">└─$ cat -n auth.log | head -n 10</span><br><span class="line">     1  Oct  2 22:34:01 kali systemd-logind[585]: New seat seat0.</span><br><span class="line">     2  Oct  2 22:34:01 kali systemd-logind[585]: Watching system buttons on /dev/input/event1 (Power Button)</span><br><span class="line">     3  Oct  2 22:34:01 kali systemd-logind[585]: Watching system buttons on /dev/input/event0 (AT Translated Set 2 keyboard)</span><br><span class="line">     4  Oct  2 22:34:02 kali lightdm: pam_unix(lightdm-greeter:session): session opened <span class="keyword">for</span> user lightdm(uid=116) by (uid=0)</span><br><span class="line">     5  Oct  2 22:34:02 kali systemd-logind[585]: New session c1 of user lightdm.</span><br><span class="line">     6  Oct  2 22:34:02 kali systemd: pam_unix(systemd-user:session): session opened <span class="keyword">for</span> user lightdm(uid=116) by (uid=0)</span><br><span class="line">     7  Oct  2 22:34:30 kali lightdm: pam_unix(lightdm:auth): check pass; user unknown</span><br><span class="line">     8  Oct  2 22:34:30 kali lightdm: pam_unix(lightdm:auth): authentication failure; logname= uid=0 euid=0 tty=:0 ruser= rhost=</span><br><span class="line">     9  Oct  2 22:35:01 kali CRON[1017]: pam_unix(cron:session): session opened <span class="keyword">for</span> user root(uid=0) by (uid=0)</span><br><span class="line">    10  Oct  2 22:35:01 kali CRON[1017]: pam_unix(cron:session): session closed <span class="keyword">for</span> user root</span><br><span class="line"></span><br><span class="line">┌──(kali㉿kali)-[/var/<span class="built_in">log</span>]</span><br><span class="line">└─$ shred -f -n 10 auth.log</span><br><span class="line">shred: auth.log: failed to open <span class="keyword">for</span> writing: Operation not permitted</span><br><span class="line"></span><br><span class="line">┌──(kali㉿kali)-[/var/<span class="built_in">log</span>]</span><br><span class="line">└─$ sudo shred -f -n 10 auth.log</span><br><span class="line">[sudo] password <span class="keyword">for</span> kali:</span><br><span class="line"></span><br><span class="line">┌──(kali㉿kali)-[/var/<span class="built_in">log</span>]</span><br><span class="line">└─$ cat -n auth.log | head -n 5</span><br><span class="line">     1  �ƭǢqC</span><br><span class="line">              &gt; �Yu6��ulh��y�@��d�V</span><br><span class="line">�����A�!7~��u�ϢZ���<span class="variable">$8l</span>��q��j�)��V�O��=��^i�28ԽaP;�|?���g0���&#125;nD*j�q�U�Zgk��!L�<span class="string">&#x27;HJ���UW��~������9x?ek]mo.�[&amp;j�V����t��L0�I       +a��e�P�zWύuMl+�*�S��0O���w��</span></span><br><span class="line"><span class="string">�^yVC[aU.tKe2�Z��</span></span><br><span class="line"><span class="string">....</span></span><br><span class="line"><span class="string">┌──(kali㉿kali)-[/var/log]</span></span><br><span class="line"><span class="string">└─$</span></span><br></pre></td></tr></table></figure>
<p>碎片化历史命令文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">┌──[root@vms152.liruilongs.github.io]-[~]</span><br><span class="line">└─<span class="variable">$tail</span> -n 5 .bash_history</span><br><span class="line">ansible 192.168.26.153 -m  shell -a <span class="string">&#x27;mysql -uroot -pliruilong -e&quot;select user,host from mysql.user;&quot;&#x27;</span></span><br><span class="line">ansible db_node -m  shell -a <span class="string">&#x27;mysql -uroot -pliruilong -e&quot;select user,host from mysql.user;&quot;&#x27;</span></span><br><span class="line">ansible db_node -m  shell -a <span class="string">&#x27;mysql -uroot -pliruilong -e&quot;select user,host,Repl_slave_priv from mysql.user;&quot;&#x27;</span></span><br><span class="line">ansible db_node -m shell -a <span class="string">&#x27;wget https://github.com/lzimd/mha-rpms/blob/master/mha4mysql-node-0.56-0.el6.noarch.rpm&#x27;</span></span><br><span class="line">ansible db_node -m shell -a <span class="string">&#x27;rpm -ivh mha4mysql-node-0.56-0.el6.noarch.rpm&#x27;</span></span><br><span class="line">┌──[root@vms152.liruilongs.github.io]-[~]</span><br><span class="line">└─<span class="variable">$shred</span> -f -n 20 .bash_history</span><br><span class="line">┌──[root@vms152.liruilongs.github.io]-[~]</span><br><span class="line">└─<span class="variable">$tail</span> -n 5 .bash_history</span><br><span class="line">�/��R�j��a��.���Ew��=���E��U<span class="comment">#Ibٽ��[�#�gA��|��� �KUv��,</span></span><br><span class="line">:Bр���v�:�,�Փrh:y�A�����V��R�@U��O�I�����՚L��1h���G��ڦ`�E.U�.Ϲ��7Vն���)�&#125;�����i��),&amp;��^e���рsQC���ϩ�ҋ� &amp;Uu�X:�n��&#125;����`�4�UnuInx���T�&gt;�n�&lt;1�&lt;���:�yr�-W����?z</span><br><span class="line">                      %�T1�İN[�A��68�,*N�<span class="string">&#x27;�cΨ���Z�8�G���.6�s�</span></span><br><span class="line"><span class="string">&amp;�7���RCO:�##֤�~�z~�Z_Vs�7�r�D�</span></span><br><span class="line"><span class="string">                                 #���k89���]H� G�!�&lt;���g�L�B?�#�W�S����\��q�F@����`E�&gt;Ϛ�P�H-3�`Kx�e����l�1��i�q�3��|ؐX]���`�t*g�S|�C�:s���b����N����Iت�6B�޸4&amp;</span></span><br><span class="line"><span class="string">�ͭ��a��䮧���;Ca�p&lt;sˉ&#123;�&lt;�����fR��Q �)Y�tl��.��o</span></span><br><span class="line"><span class="string">                                                 nO#g&gt;</span></span><br><span class="line"><span class="string">                                                      P&#x27;</span>��B���� ��</span><br><span class="line">                                                                  ��<span class="string">&quot; ���7�����1�90��ބ�D�z���4���T��D�n�ќ.��Ux�i�������hj֚�kH��&amp;����4���Z|칳�&quot;</span>��E�G��<span class="string">&quot;4���`Ǜ��d��Fk:S��M�~ �����2�A9s���7��ҩ�</span></span><br><span class="line"><span class="string">�siSd�M���T��`�bciO��ܱ��HX�&amp;/�/���[[�6/ވ9w6�6���w�;��</span></span><br><span class="line"><span class="string">`R�p��R�y&#125;pibt64-�7���h���/��S ����V�`�))5�1AP&#125;Ր,��s�� ��_���xe�q �2&#x27;y��֦^2a�v���=�~�33_</span></span><br><span class="line"><span class="string">....................</span></span><br><span class="line"><span class="string">┌──[root@vms152.liruilongs.github.io]-[~]</span></span><br><span class="line"><span class="string">└─$</span></span><br></pre></td></tr></table></figure>
<h5 id="禁用日志记录"><a href="#禁用日志记录" class="headerlink" title="禁用日志记录"></a>禁用日志记录</h5><p>另一个覆盖跟踪的选项是禁用日志记录。当黑客控制了一个系统，他们可以立即禁用日志，以防止系统跟踪他们的活动。当然，这需要<strong>root</strong>特权。要禁用所有日志记录，黑客只需停止 <strong>rsyslog</strong> 守护进程。停止Linux中的任何服务使用相同的语法</p>
<p>这里还有一点，即删除日志的同时选，需要把历史记录删除</p>
<h3 id="安全和匿名"><a href="#安全和匿名" class="headerlink" title="安全和匿名"></a>安全和匿名</h3><p>今天，几乎我们在互联网上做的一切都被跟踪。我们的每一次在线活动都会被记录、编入索引，然后被挖掘出来，以造福他人。普通个人，尤其是黑客，需要了解如何限制这种跟踪，并在网上保持相对匿名，以限制这种无处不在的监视。</p>
<p>在本章中，我们将介绍如何使用以下四种方法匿名(或尽可能接近)浏览互联网：</p>
<ul>
<li>The Onion Network:洋葱网络</li>
<li>代理服务器</li>
<li>虚拟专用网络</li>
<li>私有加密的电子邮件</li>
</ul>
<p><code>没有一种方法能保证你的活动不被窥探，如果有足够的时间和资源，任何事情都能被追踪。然而，这些方法可能会使跟踪器的工作更加困难。</code></p>
<p>当数据包在互联网上传播时，任何截获数据包的人都可以看到是谁发送了数据包，它到过哪里，它要去哪里。这是网站可以告诉您到达目的地并自动登录的一种方式，也是有人可以跟踪您在互联网上的位置的方式。</p>
<p>理论的HTTPS是安全的，可以做到防窃听</p>
<p>要查看数据包在您和目的地之间的跳转情况，可以使用 <strong>traceroute</strong> 命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$ traceroute googlle.com</span><br><span class="line">traceroute to googlle.com (95.216.161.60), 30 hops max, 60 byte packets</span><br><span class="line"> 1  192.168.26.2 (192.168.26.2)  0.641 ms  0.592 ms  0.550 ms</span><br><span class="line"> 2  * * *</span><br><span class="line"> 3  * * *</span><br><span class="line"> 4  * * *</span><br><span class="line"> 5  * * *</span><br><span class="line"> 6  * * *</span><br><span class="line"> 7  * * *</span><br><span class="line"> 8  * * *</span><br><span class="line"> 9  * * *</span><br><span class="line">10  * * *</span><br><span class="line">11  * * *</span><br><span class="line">12  * * *</span><br><span class="line">13  * * *</span><br><span class="line">14  * * *</span><br><span class="line">15  * * *</span><br><span class="line">16  * * *</span><br><span class="line">17  * * *</span><br><span class="line">18  * * *</span><br><span class="line">19  * * *</span><br><span class="line">20  * * *</span><br><span class="line">21  * * *</span><br><span class="line">22  * * *</span><br><span class="line">23  * * *</span><br><span class="line">24  * * *</span><br><span class="line">25  * * *</span><br><span class="line">26  * * *</span><br><span class="line">27  * * *</span><br><span class="line">28  * * *</span><br><span class="line">29  * * *</span><br><span class="line">30  * * *</span><br><span class="line"></span><br><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$ traceroute www.baidu.com</span><br><span class="line">traceroute to www.baidu.com (220.181.38.149), 30 hops max, 60 byte packets</span><br><span class="line"> 1  192.168.26.2 (192.168.26.2)  0.179 ms  0.158 ms  0.133 ms</span><br><span class="line"> 2  * * *</span><br><span class="line"> 3  * * *</span><br><span class="line"> 4  * * *</span><br><span class="line"> 5  * * *</span><br><span class="line"> 6  * * *</span><br><span class="line"> 7  * * *</span><br><span class="line"> 8  * * *</span><br><span class="line"> 9  * * *</span><br><span class="line">10  * * *</span><br><span class="line">11  * * *</span><br><span class="line">12  * * *</span><br><span class="line">13  * * *</span><br><span class="line">14  * * *</span><br><span class="line">15  * * *</span><br><span class="line">16  * * *</span><br><span class="line">17  * * *</span><br><span class="line">18  * * *</span><br><span class="line">19  * * *</span><br><span class="line">20  * * *</span><br><span class="line">21  * * *</span><br><span class="line">22  * * *</span><br><span class="line">23  * * *</span><br><span class="line">24  * * *</span><br><span class="line">25  * * *</span><br><span class="line">26  * * *</span><br><span class="line">27  * * *</span><br><span class="line">28  * * *</span><br><span class="line">29  * * *</span><br><span class="line">30  * * *</span><br><span class="line"></span><br><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$</span><br></pre></td></tr></table></figure>

<h4 id="洋葱路由系统"><a href="#洋葱路由系统" class="headerlink" title="洋葱路由系统"></a>洋葱路由系统</h4><p>上世纪90年代，美国海军研究办公室(ONR)着手开发一种匿名浏览互联网进行间谍活动的方法。该计划是建立一个路由器网络，它与互联网的路由器是分开的，可以加密流量，并且只存储前一个路由器的未加密IP地址-这意味着一路上所有其他路由器地址都加密了。他们的想法是，任何观察流量的人都无法确定数据的来源或目的地。</p>
<p>这项研究在2002年被称为<code>洋葱路由器(Tor)项目</code>，现在任何人都可以使用它在web上进行相对安全且匿名的导航。</p>
<h5 id="Tor是如何工作的"><a href="#Tor是如何工作的" class="headerlink" title="Tor是如何工作的"></a>Tor是如何工作的</h5><p>通过Tor发送的数据包不是通过<code>常规路由器发送的</code>，而是通过全世界<code>7000多台路由器组成的网络发送</code>的，这要感谢志愿者们允许Tor使用他们的计算机。在使用完全独立的路由器网络的基础上，Tor加密每个数据包的数据、目的地和发送方IP地址。</p>
<p><img src="https://img-blog.csdnimg.cn/565362f58d154421a571ec732dc52f1f.png" alt="在这里插入图片描述"></p>
<p>在每一跳，接收到的信息被加密，然后在下一跳被解密。这样，<code>每个包只包含关于路径上的前一跳的信息，而不包含源的IP地址</code>。如果有人拦截流量，他们只能看到上一跳的IP地址，网站所有者只能看到发送流量的最后一个路由器的IP地址(参见图13-1)，这确保在互联网上的相对匿名性。</p>
<p>要启用 Tor，只需从 <a target="_blank" rel="noopener" href="https://www.torproject.org/"><code>https://www.torproject.org/</code></a> 安装 Tor 浏览器。</p>
<p><img src="https://img-blog.csdnimg.cn/a4fa7977a50042de8304f239168e9e7d.png" alt="在这里插入图片描述"></p>
<p>不幸的是，权衡的结果是通过 Tor 浏览器浏览会慢得多，因为没有那么多路由器，网络带宽有限。</p>
<p>除了能够访问传统互联网上几乎任何网站外，<code>Tor浏览器还能够访问暗网</code>。构成暗网的网站需要匿名，因此它们只允许通过Tor浏览器访问，并且它们的地址以<code>.onion</code>结尾用于其<code>顶级域名(TLD)</code>。暗网因非法活动而臭名昭着，但也有一些合法的服务。但请注意：在访问暗网时，您可能会遇到很多人会觉得冒犯的内容。</p>
<h5 id="安全问题"><a href="#安全问题" class="headerlink" title="安全问题"></a>安全问题</h5><p>美国和其他国家的情报和间谍机构认为Tor网络是对国家安全的威胁，认为这样一个匿名网络可以让外国政府和恐怖分子在不被监视的情况下进行交流。因此，许多强大的、雄心勃勃的研究项目正在努力打破Tor的匿名性。</p>
<p>Tor的匿名曾经被这些当局破坏过，而且很可能会再次被破坏。例如，NSA运行自己的Tor路由器，这意味着当您使用Tor时，您的流量可能正在通过NSA的路由器。如果您的流量正在退出NSA的路由器，那就更糟了，因为退出路由器总是知道您的目的地。NSA还有一种被称为“流量关联”(traffic correlation)的方法，该方法涉及寻找进出流量的模式，能够打破Tor的匿名性。虽然这些破解Tor的尝试不会影响Tor在商业服务(如Google)中隐藏您身份的有效性，但它们可能会限制浏览器在间谍机构中保持匿名的有效性。</p>
<h4 id="代理服务器"><a href="#代理服务器" class="headerlink" title="代理服务器"></a>代理服务器</h4><p>在互联网上实现匿名的另一种策略是使用代理，代理是充当流量中间商的中间系统：用户连接到代理，并在传递代理之前向其提供流量的IP地址。当流量从目标返回时，代理将流量发送回源IP。通过这种方式，流量似乎来自代理，而不是原始IP地址。</p>
<p><img src="https://img-blog.csdnimg.cn/07167d1112bf4c56a36916e5262e3b13.png" alt="在这里插入图片描述"></p>
<p>Kali<br>Linux有一个优秀的代理工具，称为proxychain，您可以设置它来隐藏您的流量。proxychain命令的语法很简单</p>
<p><code>kali \&gt;proxychains \&lt;the command you want proxied\&gt; \&lt;arguments\&gt;</code></p>
<p>您提供的参数可能包括一个IP地址。例如，如果您想使用命令nmap以通过代理链匿名方式扫描一个站点，则应输入以下内容：</p>
<p>kali &gt;proxychains nmap -sT - Pn &lt;IP address&gt;</p>
<p>这将通过代理将nmap -sS扫描命令隐身发送到给定的IP地址。然后，该工具自己构建代理链，因此您不必担心它。</p>
<h5 id="在配置文件中设置代理"><a href="#在配置文件中设置代理" class="headerlink" title="在配置文件中设置代理"></a>在配置文件中设置代理</h5><p>需要注意的是，如果您没有输入自己的代理，那么proxychain默认使用Tor。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$ cat  /etc/proxychains4.conf | grep -v ^<span class="comment"># | grep -v ^$</span></span><br><span class="line">strict_chain</span><br><span class="line">proxy_dns</span><br><span class="line">remote_dns_subnet 224</span><br><span class="line">tcp_read_time_out 15000</span><br><span class="line">tcp_connect_time_out 8000</span><br><span class="line">[ProxyList]</span><br><span class="line">socks4  127.0.0.1 9050</span><br><span class="line"></span><br><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$</span><br><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$</span><br></pre></td></tr></table></figure>

<p>我们可以通过输入要在此列表中使用的代理的IP地址和端口来添加代理。现在，我们将使用一些免费代理。你可以通过谷歌搜索“免费代理”或使用网站 <a target="_blank" rel="noopener" href="http://www.hidemy.name/">http://www.hidemy.name</a> 找到免费代理，</p>
<p><a target="_blank" rel="noopener" href="https://hidemy.name/cn/">https://hidemy.name/cn/</a></p>
<h5 id="添加更多的代理"><a href="#添加更多的代理" class="headerlink" title="添加更多的代理"></a>添加更多的代理</h5><p>首先，让我们向列表中添加更多代理。回到<a target="_blank" rel="noopener" href="http://www.hidemy.name并找到更多的代理ip地址.然后在proxychain/">http://www.hidemy.name并找到更多的代理IP地址。然后在proxychain</a><br>.conf文件中添加更多的代理，如下所示:</p>
<p>[ProxyList]</p>
<p># add proxy here…</p>
<p>socks4 114.134.186.12 22020</p>
<p>socks4 188.187.190.59 8888</p>
<p>socks4 181.113.121.158 335551</p>
<p>现在保存这个配置文件，并尝试运行以下命令:</p>
<p>kali &gt;proxychains firefox <a target="_blank" rel="noopener" href="http://www.hackers-arise.com/">www.hackers-arise.com</a></p>
<h4 id="虚拟专用网络"><a href="#虚拟专用网络" class="headerlink" title="虚拟专用网络"></a>虚拟专用网络</h4><p>使用虚拟专用网(VPN)是保持您的web流量相对匿名和安全的有效方法。VPN用于连接到一个中间的互联网设备，例如路由器，它将您的流量发送到其最终目的地，并使用该路由器的IP地址进行标记。</p>
<p>使用VPN当然可以增强您的安全性和隐私，但它不能保证匿名。您所连接的互联网设备必须记录或记录您的IP地址，以便能够正确地将数据发送回您，这样任何能够访问这些记录的人都可以发现关于您的信息。</p>
<p>VPN的优点是简单易用。您可以在VPN提供商那里开户，然后在每次登录计算机时无缝连接VPN。您可以像往常一样使用浏览器来浏览web，但是任何人看到您的流量来自互联网<br>VPN设备的IP地址和位置，而不是您自己的。另外，您与VPN设备之间的所有通信都是加密的，所以即使您的互联网服务提供商也看不到您的通信。</p>
<p>除此之外，VPN可以有效地规避政府控制的内容和信息审查。例如，如果您的国家政府限制您访问具有特定政治信息的网站，您可以使用您所在国家&#x2F;地区以外的VPN来访问该内容。</p>
<p>一些媒体公司，如Netflix，Hulu和HBO，将其内容的访问权限限制为源自其本国的IP地址。在这些服务允许的国家&#x2F;地区使用VPN通常可以帮助您解决这些访问限制。</p>
<p>根据CNET，一些最好和最受欢迎的商业VPN服务如下：</p>
<ul>
<li>IPVanish</li>
<li>NordVPN</li>
<li>ExpressVPN</li>
<li>CyberGhost</li>
<li>Golden Frog VPN</li>
<li>Hide My Ass (HMA)</li>
<li>Private Internet Access</li>
<li>PureVPN</li>
<li>TorGuard</li>
<li>Buffered VPN</li>
</ul>
<h4 id="加密的电子邮件"><a href="#加密的电子邮件" class="headerlink" title="加密的电子邮件"></a>加密的电子邮件</h4><p>免费的商业电子邮件服务，如Gmail，雅虎!，Outlook Web Mail(前身为Hotmail)的免费是有原因的：<code>它们是追踪你的兴趣和提供广告的工具。如前所述，如果服务是免费的，那么您就是产品，而不是客户</code>。此外，电子邮件提供者的服务器(例如谷歌)可以访问电子邮件的未加密内容，即使您使用HTTPS。</p>
<p>防止窃听你的电子邮件的一个方法是使用加密的电子邮件。<code>ProtonMail</code>，从一端加密到另一端或从一个浏览器加密到另一个浏览器。这意味着您的电子邮件是在ProtonMail服务器上加密的，即使是ProtonMail管理员也无法读取您的电子邮件。</p>
<p>ProtonMail是由一群年轻的科学家在瑞士欧洲核子研究中心(CERN)的超级对撞机设施工厂建立的。瑞士在保护机密方面有着悠久而传奇的历史(还记得你经常听说的那些瑞士银行账户吗?)</p>
<p>ProtonMail的服务器位于欧盟，该网络在分享个人数据方面有着比美国法律更为严格的法律规定。ProtonMail不收取基本帐户，但提供保费帐户象征性的费用。需要注意的是，在与非protonmail用户交换电子邮件时，可能有部分或全部电子邮件没有加密。有关详细信息，请参见ProtonMail支持知识库。</p>
<h3 id="理解和检查无线网络"><a href="#理解和检查无线网络" class="headerlink" title="理解和检查无线网络"></a>理解和检查无线网络</h3><p>这里需要无线网卡，所以Demo做简单记录</p>
<h4 id="WI-FI-网络"><a href="#WI-FI-网络" class="headerlink" title="WI-FI 网络"></a>WI-FI 网络</h4><p>我们先从Wi-Fi开始。在本节中，我将向您展示如何查找、检查和连接Wi-Fi接入点。了解一些基本的Wi-Fi术语和技术</p>
<ul>
<li><strong>AP (access point)</strong> 这是无线用户连接到互联网的设备。</li>
<li><strong>ESSID (extended service set identifier)</strong> 这和SSID相同，不过它可以用于无线局域网中的多个AP中。</li>
<li><strong>BSSID (basic service set identifier)</strong> 这是每个AP的唯一标识符，与设备的MAC地址相同。</li>
<li><strong>SSID (service set identifier)</strong> 这是网络的名称。</li>
<li><strong>Channels</strong> Wi­Fi可以在14个信道(1-14)中的任何一个信道上工作。在美国，Wi-Fi被限制在信道1到11。</li>
<li><strong>Power</strong> 你距离 WI-Fi AP越近,功率越大，连接越容易破解。</li>
<li><strong>Security</strong> 这是正在读取的WiFi AP上使用的安全协议。 WiFi有三种主要的安全协议。最初的有线等效保密<code>(WEP)</code>存在严重缺陷，容易破解。它的替代品，WiFi保护访问<code>(WPA)</code>，更安全一点。最后，<code>WPA2-PSK</code>更加安全并且使用所有用户共享的预共享密钥<code>(PSK)</code>，现在几乎所有WiFi AP(企业WiFi除外)都使用它。</li>
<li><strong>Modes</strong> Wi­Fi可以在三种模式下切换：managed, master,或者monitor。</li>
<li><strong>Wireless range</strong> 在美国，Wi-Fi AP必须合法地以0.5瓦的上限广播其信号。在此功率下，它具有约300英尺(100米)的正常范围。<code>Highgain天线可以将此范围扩展到20英里</code>。</li>
<li><strong>Frequency</strong> Wi­Fi被设计用于2.4GHz和5GHz。 现代Wi-Fi AP和无线网卡经常使用这两者。</li>
</ul>
<h5 id="基本无线网络命令"><a href="#基本无线网络命令" class="headerlink" title="基本无线网络命令"></a><em>基本无线网络命令</em></h5><p>运行ifconfig的结果，这次重点关注无线连接。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">kali \&gt;ifconfig</span><br><span class="line">eth0Linkencap:EthernetHWaddr 00:0c:29:ba:82:0f</span><br><span class="line">inet addr:192:168.181.131 Bcast:192.168.181.255 Mask:255.255.255.0</span><br><span class="line">­­snip­­</span><br><span class="line">lo Linkencap:Local Loopback</span><br><span class="line">inet addr:127.0.0.1 Mask:255.0.0.0</span><br><span class="line">­­snip­­</span><br><span class="line">➊ wlan0 Link encap:EthernetHWaddr 00:c0:ca:3f:ee:02</span><br></pre></td></tr></table></figure>
<p>这里的Wi-Fi接口显示为 wlan0 ➊。在Kali Linux中，Wi-Fi接口通常被指定为wlanX，X代表该接口的编号。换句话说，系统上的第一个Wi-Fi适配器将标记为wlan0，第二个是wlan1，依此类推。</p>
<p>如果您只想查看Wi-Fi接口及其统计数据，Linux有一个与 ifconfig 类似但专用于无线的特定命令。这个命令是iwconfig。输入时，仅显示无线接口及其关键数据：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">kali \&gt;iwconfig</span><br><span class="line">lo no wireless extensions</span><br><span class="line">wlan0 IEEE 802.11bg ESSID:off/any</span><br><span class="line">Mode:Managed Access Point:Not­Associated Tx­Power=20 dBm</span><br><span class="line">Retry short <span class="built_in">limit</span>:7 RTS thr:off Fragment thr:off</span><br><span class="line">Encryption key:off</span><br><span class="line">Power Management:off</span><br><span class="line">eth0 no wireless extensions</span><br></pre></td></tr></table></figure>

<p>在这里，我们只看到无线接口(也称为网卡)及其关键数据，包括使用的无线标准、ESSID是否关闭以及模式。该模式有三个设置：<em>managed</em>，这意味着它已准备好加入或已加入AP；<em>master</em>，这意味着它已准备好充当或已经加入AP；以及<em>monitor</em>，我们将在章节稍后讨论。我们还可以看到是否有任何客户端与之相关联，以及它的传输功率是什么，等等。从这个例子可以看出，wlan0处于连接Wi-Fi网络所需的模式，但尚未连接到任何网络。一旦无线接口连接到Wi-Fi网络，我们将再次访问此命令。</p>
<p>如果您不确定要连接哪一个Wi-Fi AP，可以使用iwlist命令查看您的网卡可以访问的所有无线接入点。iwlist的语法如下：<code>iwlist interface action</code></p>
<p>可以使用iwlist执行多个操作。出于我们的目的，我们将使用扫描操作来查看您所在地区的所有Wi-Fi AP。(请注意，使用标准天线，您的范围将为300-500英尺，但这可以通过廉价的高增益天线来扩展。)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">kali \&gt;iwlist wlan0 scan</span><br><span class="line">wlan0 Scan completed:</span><br><span class="line">Cell 01 ­ Address:88:AD:43:75:B3:82</span><br><span class="line">Channel:1</span><br><span class="line">Frequency:2.412GHz (Channel 1)</span><br><span class="line">Quality=70/70 Signal level =­38 dBm</span><br><span class="line">Encryption key:off</span><br><span class="line">ESSID:<span class="string">&quot;Hackers­Arise&quot;</span></span><br><span class="line">­­snip­­</span><br></pre></td></tr></table></figure>

<p>此命令的输出应包括无线接口范围内的所有WiFi AP，以及每个AP的关键数据，比如这个AP的MAC地址，其运行的信道和频率，其质量，信号电平，是否启用了加密密钥及其ESSID。</p>
<p>为了进行各种不同的入侵攻击，你将需要目标AP的MAC地址(BSSID)，客户端的MAC地址(另一个无线网卡)以及AP操作的通道来执行任何类型的黑客攻击，因此这是有价值的信息。</p>
<p>另一个在管理WiFi连接时非常有用的命令是nmcli(或网络管理器命令行界面)。为网络接口(包括无线接口)提供高级接口的Linux守护程序称为网络管理器。通常，Linux用户从其图形用户界面(GUI)熟悉此守护程序，但也可以从命令行使用它。</p>
<p>nmcli 命令可以使用来查看你附近的Wi-Fi AP和它们的一些关键信息，像我们使用iwlist一样，但此命令为我们提供了更多信息。我们以nmcli<br>dev networktype格式使用它，其中dev是设备(device)的简称以及类型(在本例中)是wifi，如下所示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">kali \&gt;nmcli dev wifi</span><br><span class="line">\* SSID MODE CHAN RATE SIGNAL BARS SECURITY</span><br><span class="line">Hackers­Arise Infra 1 54 Mbits/s 100 WPA1 WPA2</span><br><span class="line">Xfinitywifi Infra 1 54 Mbits/s 75 WPA2</span><br><span class="line">TPTV1 Infra 11 54 Mbits/s 44 WPA1 WPA2</span><br><span class="line">­­snip­­</span><br></pre></td></tr></table></figure>

<p>除了在范围内显示Wi-Fi AP以及关于它们的关键数据(包括SSID，模式，信道，传输速率，信号强度和设备上启用的安全协议)之外，还可以使用nmcli连接到AP。 </p>
<p>连接到AP的语法如下：<code>nmcli dev wifi connect AP-SSID password APpassword</code></p>
<p>因此，根据我们的第一个命令的结果，我们知道有一个SSID为Hackers-Arise的AP。我们也知道它具有WPA1 WPA2安全性(这意味着AP能够同时使用旧的WPA1和新的WPA2)，这意味着我们必须提供连接到网络的密码。幸运的是，因为它是我们的AP，我们知道密码是12345678，所以我们可以输入以下内容：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kali \&gt;nmcli dev wifi connect Hackers-Arise password 12345678</span><br><span class="line">Device <span class="string">&#x27;wlan0&#x27;</span> successfully activated with <span class="string">&#x27;394a5bf4­8af4­36f8­49beda6cb530&#x27;</span>.</span><br></pre></td></tr></table></figure>
<p>在一个你知晓的网络尝试此操作，然后当你成功连接这个无线AP时，再一次运行iwconfig来观察一下有什么变化。下面是我连接Hackers­-Arise的输出结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">kali \&gt;iwconfig</span><br><span class="line">lo no wireless extensions</span><br><span class="line">wlan0 IEEE 802.11bg ESSID:<span class="string">&quot;Hackers­Arise&quot;</span></span><br><span class="line">Mode:Managed Frequency:2.452GHz Access Point:00:25:9C:97:4F:48</span><br><span class="line">Bit Rate=12 Mbs Tx­Power=20 dBm</span><br><span class="line">Retry short <span class="built_in">limit</span>:7 RTS thr:off Fragment thr:off</span><br><span class="line">Encryption key:off</span><br><span class="line">Power Management:off</span><br><span class="line">Link Quality=64/70 Signal level=­46 dBm</span><br><span class="line">Rx invalid nwid:0 Rx invalid crypt:0 Rx invalid frag:0</span><br><span class="line">Tx excessive reties:0 Invalid misc:13 Missed beacon:0</span><br><span class="line">eth0 no wireless extensions</span><br></pre></td></tr></table></figure>

<p>请注意，现在iwconfig已经指出ESSID是“Hackers-Arise”，并且AP的运行频率为2.452GHz。在Wi-Fi网络中，多个接入点可能都是同一网络的一部分，因此可能会有许多接入点组成Hackers-Arise的网络。如您所料，MAC地址00:25:9C:97:4F:48是我所连接的AP的MAC。Wi-Fi网络使用的安全协议类型，无论是2.4GHz还是5GHz的运行频率，其ESSID是什么，以及AP的MAC地址是什么，都是Wi-Fi入侵攻击所必需的关键信息。既然你现在了解了基本的命令，那么让我们来进行一些黑客入侵攻击。</p>
<h4 id="使用aircrack-ng进行Wi-Fi侦查"><a href="#使用aircrack-ng进行Wi-Fi侦查" class="headerlink" title="使用aircrack-ng进行Wi-Fi侦查"></a><em>使用aircrack-ng进行Wi-Fi侦查</em></h4><p>对于入门黑客最受欢迎的攻击之一就是破解Wi-Fi接入点。如前所述，在考虑攻击Wi-Fi AP之前，你需要目标AP(BSSID)的MAC地址、客户端的MAC地址以及AP正在运行的信道。</p>
<p>我们可以使用aircrack－­ng套件的工具获取尽可能多的信息。我之前提到过这套Wi-Fi黑客工具，现在是时候实际使用了。这套工具包含在Kali的每个版本中，所以你不需要下载或安装任何东西。</p>
<p>要有效地使用这些工具，首先需要将无线网卡置于监视器模式，以便卡能够看到所有经过它的流量。通常情况下，网卡只捕获特定于该卡的流量。监控模式类似于有线网卡上的混杂模式。</p>
<p>要将无线网卡置于监视器模式，请使用Aircrack-ng套件中的airmon-ng命令。此命令的语法很简单：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">airmon­ng 　start\|stop\|restart interface</span><br></pre></td></tr></table></figure>
<p>因此，如果要将无线网卡(指定为WLAN)设置为监视器模式，请输入以下内容：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kali \&gt;airmon-ng start wlan0</span><br></pre></td></tr></table></figure>
<p>发现了三个可能导致故障的过程，如果airodump-ng、aireplay-ng或airtun-ng在短时间运行后停止工作，你可能需要运行“airmon-ng check kill”。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">­­snip­­</span><br><span class="line">PHY INTERFACE DRIVER Chipset</span><br><span class="line">phy0 wlan0 rt18187 Realtek Semiconductor Corop RTL8187 (mac8311 monitor mode vif</span><br><span class="line">enabled <span class="keyword">for</span> [phy0]wlan0 on [phy0]wlan0mon)</span><br><span class="line">­­snip­­</span><br></pre></td></tr></table></figure>
<p>如果遇到故障，分别使用stop和restart命令来恢复，比如stop monitor模式和restart monitor模式。</p>
<p>当无线网卡处于监视器模式时，你可以在无线网络适配器和天线的范围内访问经过你网卡的所有无线通信(标准约300-500英尺)。请注意，airmon－ng将重命名你的无线接口：我的无线网卡已重命名为“wlan0mon”，尽管你的可能有所不同。一定要记下无线的新的指定名称，因为在下一步中您需要这些信息。</p>
<p>现在，我们将使用Aircrack-ng套件中的另一个工具从无线通信中查找关键数据。airodump-ng命令捕获并显示来自广播AP和连接到这些AP或附近的任何客户端的关键数据。这里的语法很简单：只需插入airdump-ng，后跟刚才运行airmon-ng得到的接口名。当你执行此命令时，你的无线卡将从附近AP的所有无线通信中获取关键信息(如下所示)：</p>
<ul>
<li><strong>BSSID</strong> AP或客户端的MAC地址</li>
<li><strong>PWR</strong> 信号强度</li>
<li><strong>ENC</strong> 用于保护传输安全的加密类型</li>
<li><strong>#Data</strong> 数据吞吐量</li>
<li><strong>CH AP</strong>运行的信道</li>
<li><strong>ESSID</strong> AP的名字</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">kali \&gt;airodump-ng wlan0mon</span><br><span class="line">CH 9][ Elapsed: 28 s ][ 2018­02­08 10:27</span><br><span class="line">BSSID PWR Beacons \<span class="comment">#Data \#/s CH MB ENC CIPHER AUTH ESSID</span></span><br><span class="line">01:01:AA:BB:CC:22 ­1 4 26 0 10 54e WPA2 CCMP PSK Hackers­Arise</span><br><span class="line">­­snip­­</span><br><span class="line">BSSID Station PWR Rate Lost Frames Probe</span><br><span class="line">(not associated) 01:01:AA:BB:CC:22</span><br><span class="line">01:02:CC:DD:03:CF A0:A3:E2:44:7C:E5</span><br></pre></td></tr></table></figure>

<p>注意airodump-ng将输出屏幕分成上下两部分。上面部分包含广播AP的信息，包括BSSID、AP的功率、检测到的信标帧数、数据吞吐量、通过无线网卡的数据包数、信道(1-14)、理论吞吐量限制、加密协议、用于加密的密码类型、身份验证离子类型和ESSID(通常称为SSID)。在客户机部分，输出告诉我们一个客户机没有关联，这意味着它已经被检测到但没有连接到任何AP，另一个客户机与一个工作站关联，这意味着它在该地址连接到AP。</p>
<p>现在你已经掌握了破解AP所需的所有信息！尽管这超出了本书的范围，但要破解无线AP，你需要客户端MAC地址、APMAC地址、目标操作的信道和密码列表。</p>
<p>为了破解Wi-Fi密码，你需要打开三个终端。在第一个终端中，您将输入类似以下的命令，填写客户机和AP<br>MAC地址以及通道：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">airodump­ng ­c 10 ­­bssid 01:01:AA:BB:CC:22 ­w Hackers­ArisePSK wlan0mon</span><br></pre></td></tr></table></figure>
<p>此命令使用**-c**选项捕获通过信道10上的AP的所有数据包。</p>
<p>在另一个终端中，你可以使用 <strong>aireplayng</strong> 命令取消(取消身份验证)与AP连接的任何人，并强制他们重新身份验证到AP，如下所示。当他们重新验证时，你可以捕获在WPA2-PSK四次握手中交换的密码散列。密码散列将出现在airodump-ng终端的右上角。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aireplay­ng ­­deauth 100 ­a 01:01:AA:BB:CC:22­c A0:A3:E2:44:7C:E5 wlan0mon</span><br></pre></td></tr></table></figure>
<p>最后，在最后一个终端中，你可以使用密码列表(wordlist.dic)在捕获的散列(hacker-arisesk.cap)中查找密码，如下所示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aircrack­ng ­w wordlist.dic ­b 01:01:AA:BB:CC:22 Hacker­ArisePSK.cap</span><br></pre></td></tr></table></figure>

<h3 id="检测并连接到蓝牙"><a href="#检测并连接到蓝牙" class="headerlink" title="检测并连接到蓝牙"></a>检测并连接到蓝牙</h3><p>如今，几乎所有的小器具、移动设备和系统都内置了蓝牙，包括我们的电脑、智能手机、iPod、平板电脑、扬声器、游戏控制器、键盘和许多其他设备。能够入侵蓝牙会导致设备上任何信息的泄露，设备的控制，以及向设备发送不需要的信息的能力等等威胁。</p>
<p>为了利用这项技术，我们需要了解它是如何工作的。对蓝牙的深入了解已经超出了本书的范围，但我将向您提供一些基本知识，帮助你扫描和连接蓝牙设备，为黑客的入侵攻击做好准备。</p>
<h4 id="蓝牙的工作原理"><a href="#蓝牙的工作原理" class="headerlink" title="蓝牙的工作原理"></a><em>蓝牙的工作原理</em></h4><p>蓝牙是一种用于<code>低功耗近场通信的通用协议</code>，使用扩频在<code>2.4-2.485GHz下工作，跳频速度为每秒1600跳(这种跳频是一种安全措施)</code>。它由瑞典爱立信公司于1994年开发，以10世纪丹麦国王哈拉尔德蓝牙命名(请注意，瑞典和丹麦在10世纪是一个单一的国家)。</p>
<p><code>蓝牙规范的最小范围为10米，但没有上限</code>，制造商可以在其设备中实施。许多装置的射程可达100米。有了特殊的天线，这一范围可以扩大得更远。</p>
<p>连接两个蓝牙设备被称为<code>配对</code>。几乎任何两个蓝牙设备都可以相互连接，但只有在处于<code>可发现模式时才能配对</code>。处于可发现模式的蓝牙设备传输以下信息：</p>
<ul>
<li>名称</li>
<li>类别</li>
<li>服务清单</li>
<li>技术信息</li>
</ul>
<p>当两个设备配对时，它们交换一个<code>密钥或链接密钥</code>。每个存储这个链接键，以便在将来的配对中识别另一个。</p>
<p>每个设备都有一个唯一的<code>48位标识符(类似于MAC的地址)</code>，通常还有一个制造商指定的名称。当我们想要识别和访问一个设备时，这些将是有用的数据片段。</p>
<h4 id="蓝牙扫描与侦察"><a href="#蓝牙扫描与侦察" class="headerlink" title="蓝牙扫描与侦察"></a><em>蓝牙扫描与侦察</em></h4><p>Linux有一个称为<code>bluez的蓝牙协议栈</code>的实现，我们将使用它来扫描蓝牙信号。大多数Linux发行版，包括Kali Linux，都默认安装了它。如果没有，通常可以使用以下命令在存储库中找到它：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kali \&gt;apt-get install bluez</span><br></pre></td></tr></table></figure>
<p>BlueZ有许多简单的工具，我们可以用来管理和扫描蓝牙设备，包括：</p>
<ul>
<li><p><strong>hciconfig</strong> 这个工具的操作与Linux中的ifconfig非常相似，但是对于蓝牙设备。如清单14-1所示，我使用它来打开蓝牙接口并查询设备的规格。</p>
</li>
<li><p><strong>hcitool</strong> 此查询工具可以为我们提供设备名称、设备ID、设备类和设备时钟信息，使设备能够同步工作。</p>
</li>
<li><p><strong>hcidump</strong> 这个工具使我们能够嗅探蓝牙通信，这意味着我们可以捕获通过蓝牙信号发送的数据。</p>
</li>
</ul>
<p>蓝牙的第一个扫描和侦察步骤是检查我们使用的系统上的蓝牙适配器是否被识别和启用，以便我们可以使用它扫描其他设备。我们可以使用内置的Bluez工具hciconfig来实现这一点，如命令清单14-1所示。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">kali \&gt;hciconfig</span><br><span class="line">hci0: Type: BR/EDR Bus: USB</span><br><span class="line">BD Address: 10:AE:60:58:F1:37 ACL MTU: 310:10 SCO MTU: 64:8 UP RUNNING PSCAN INQUIRY</span><br><span class="line">RX bytes:131433 acl:45 sco:0 events:10519 errors:0 TX bytes:42881 acl:45 sco:0</span><br><span class="line">commands:5081 errors:0</span><br></pre></td></tr></table></figure>

<p>如你所见，我的蓝牙适配器的MAC地址是10:ae:60:58:f1:37。此适配器已命名为HCI0。下一步是检查连接是否已启用，我们也可以通过提供名称和up命令来使用hciconfig:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kali \&gt;hciconfig hci0 up</span><br></pre></td></tr></table></figure>

<p>如果命令成功运行，我们将看不到输出，只看到一个新的提示。很好，hci0准备好了！让我们开始工作吧。</p>
<h5 id="使用hcitool扫描蓝牙设备"><a href="#使用hcitool扫描蓝牙设备" class="headerlink" title="使用hcitool扫描蓝牙设备"></a>使用hcitool扫描蓝牙设备</h5><p>现在我们知道适配器已经启动，我们可以使用Bluez套件中的另一个工具hcitool来扫描范围内的其他蓝牙设备。</p>
<p>让我们首先使用这个工具的扫描功能来查找发送发现信标的蓝牙设备，这意味着它们处于发现模式，简单的扫描命令如清单14-2所示。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">kali \&gt;hcitool</span><br><span class="line">Scanning...</span><br><span class="line">72:6E:46:65:72:66 ANDROID BT</span><br><span class="line">22:C5:96:08:5D:32 SCH­I535</span><br></pre></td></tr></table></figure>

<p>如你所见，在我的系统中，hcitool发现了两个设备，ANDROIDBT和SCH­I535。你的可能会根据您周围的设备提供不同的输出。出于测试目的，请尝试将你的手机或其他蓝牙设备置于发现模式，并查看扫描时是否接收到该设备。</p>
<p>现在，让我们收集有关具有查询功能的已检测设备的更多信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">kali \&gt;hcitool inq</span><br><span class="line">Inquiring...</span><br><span class="line">24:C6:96:08:5D:33 clock offset:0x4e8b class:0x5a020c</span><br><span class="line">76:6F:46:65:72:67 clock offset:0x21c0 class:0x5a020c</span><br></pre></td></tr></table></figure>

<p>这给了这给了我们设备的MAC地址、时钟偏移量和设备类别。该类指示您找到的蓝牙设备的类型，您可以通过访问蓝牙SIG站点(<a target="_blank" rel="noopener" href="https://www.bluetooth.org/en-us/specification/assigned-numbers/service-discovery/)%E6%9D%A5%E6%9F%A5%E6%89%BE%E4%BB%A3%E7%A0%81%E5%B9%B6%E6%9F%A5%E7%9C%8B%E5%AE%83%E6%98%AF%E4%BB%80%E4%B9%88%E7%B1%BB%E5%9E%8B%E7%9A%84%E8%AE%BE%E5%A4%87%E3%80%82">https://www.bluetooth.org/en-us/specification/assigned-numbers/service-discovery/)来查找代码并查看它是什么类型的设备。</a></p>
<p>工具hcitool是一个强大的命令行接口蓝牙栈，可以做很多很多事情。清单14-3显示了帮助页面，其中包含一些可以使用的命令。亲自查看帮助页面以查看完整列表。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">kali \&gt;hcitool --<span class="built_in">help</span></span><br><span class="line">hcitool ­ HCI Tool ver 4.99</span><br><span class="line">Usage:</span><br><span class="line">hcitool [options] \&lt;<span class="built_in">command</span>\&gt; [<span class="built_in">command</span> parameters]</span><br><span class="line">Options:</span><br><span class="line">­­<span class="built_in">help</span> Display <span class="built_in">help</span></span><br><span class="line">­i dev HCI device</span><br><span class="line">Commands</span><br><span class="line">dev Display <span class="built_in">local</span> devices</span><br><span class="line">inq Inquire remote devices</span><br><span class="line">scan Scan <span class="keyword">for</span> remote devices</span><br><span class="line">name Get name from remote devices</span><br><span class="line">­­snip­­</span><br></pre></td></tr></table></figure>

<p>许多蓝牙黑客工具，你将看到周围简单地使用这些命令在脚本，你可以很容易地创建你自己的工具使用这些命令在你自己的bash或python脚本，我们将在第17章研究这些脚本。</p>
<h5 id="使用sdptool扫描服务"><a href="#使用sdptool扫描服务" class="headerlink" title="使用sdptool扫描服务"></a>使用sdptool扫描服务</h5><p>服务发现协议(SDP)是一种用于搜索蓝牙服务的蓝牙协议(蓝牙是一套服务)，而且，很有帮助的是，bluez提供了sdp<br>tool工具，用于浏览设备上提供的服务。还需要注意的是，设备不必处于要扫描的发现模式。语法如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sdptool browse MACaddress</span><br></pre></td></tr></table></figure>

<p>显示使用sdptool在前面检测到的某个设备上搜索服务。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">kali \&gt;sdptool browse 76:6E:46:63:72:66</span><br><span class="line">Browsing 76:6E:46:63:72:66...</span><br><span class="line">Service RecHandle: 0x10002</span><br><span class="line">Service Class ID List:</span><br><span class="line"><span class="string">&quot;&quot;</span>(0x1800)</span><br><span class="line">Protocol Descriptor List:</span><br><span class="line"><span class="string">&quot;L2CAP&quot;</span> (0x0100)</span><br><span class="line">PSM: 31</span><br><span class="line"><span class="string">&quot;ATT&quot;</span> (0x0007)</span><br><span class="line">uint16: 0x1</span><br><span class="line">uint16: 0x5</span><br><span class="line">­­snip­­</span><br></pre></td></tr></table></figure>

<p>在这里，我们可以看到sdptool工具能够获取关于这个设备能够使用的所有服务的信息。特别地，我们看到这个设备支持ATT协议，即低能量属性协议。这可以为我们提供更多关于设备是什么的线索，以及可能的进一步与之交互的途径。</p>
<h5 id="通过l2ping查看设备是否可以访问"><a href="#通过l2ping查看设备是否可以访问" class="headerlink" title="通过l2ping查看设备是否可以访问"></a>通过l2ping查看设备是否可以访问</h5><p>一旦我们收集了所有附近设备的MAC地址，我们就可以向这些设备发送ping，无论它们是否处于发现模式，以查看它们是否在可访问范围内。这让我们知道它们是否在活动范围内。要发送ping，我们使用L2ping命令，语法如下：<code>l2ping MACaddress</code></p>
<p>发现的Android设备执行ping操作。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">kali \&gt;l2ping 76:6E:46:63:72:66 -c 4</span><br><span class="line">Ping: 76:6E:46:63:72:66 from 10:AE:60:58:F1:37 (data size 44)...</span><br><span class="line">44 bytes 76:6E:46:63:72:66 id 0 time 37.57ms</span><br><span class="line">44 bytes 76:6E:46:63:72:66 id 1 time 27.23ms</span><br><span class="line">44 bytes 76:6E:46:63:72:66 id 2 time 27.59ms</span><br><span class="line">­­snip­­</span><br></pre></td></tr></table></figure>
<p>此输出表示MAC地址为76:6e:46:63:72:66的设备在范围内且可访问。这是有用的知识，因为在我们考虑黑客攻击之前，我们必须知道设备是否可以访问。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>无线设备代表未来的网络连通和黑客入侵攻击的核心。Linux已经开发了专门的命令来扫描和连接Wi-Fi接入点，这是黑客攻击这些系统的第一步。aircrack-ng无线黑客工具套件包括airmon-ng和airodump-ng，使我们能够从远程无线设备。Bluez套件包括hciconfig、hcitool和其他能够扫描和收集信息的工具，这些工具是在一定范围内对蓝牙设备进行黑客攻击所必需的。它还包括许多其他值得探索的工具。</p>
<h2 id="博文整理来自"><a href="#博文整理来自" class="headerlink" title="博文整理来自"></a>博文整理来自</h2><p>《Linux Basics for Hackers_ Getting Started with Networking, Scripting, and Security in Kali 》</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>《Linux Basics for Hackers：Getting Started with Networking, Scripting, and Security in Kali 》读书笔记</p><p><a href="https://liruilongs.github.io/2022/10/03/待发布/《Linux-Basics-for-Hackers-Getting-Started-with-Networking-Scripting-and-Security-in-Kali-》读书笔记/">https://liruilongs.github.io/2022/10/03/待发布/《Linux-Basics-for-Hackers-Getting-Started-with-Networking-Scripting-and-Security-in-Kali-》读书笔记/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><a href="https://liruilongs.github.io"><p>山河已无恙</p></a></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2022-10-03</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2023-06-21</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="recommend-area"><div class="recommend-post"><span class="is-size-6 has-text-grey has-mr-7"># 相关文章</span><br><span>  1.<a class="is-size-6" href="/2025/04/11/%E5%BE%85%E5%8F%91%E5%B8%83/Linux-%E8%BF%9B%E7%A8%8B%E5%86%85%E5%AD%98%E7%9B%91%E6%8E%A7%EF%BC%9ALinux-%E5%86%85%E5%AD%98%E8%B0%83%E4%BC%98%E4%B9%8B%E8%BF%9B%E7%A8%8B%E5%86%85%E5%AD%98%E6%B7%B1%E5%BA%A6%E7%9B%91%E6%8E%A7/" target="_blank">Linux 进程内存监控：Linux 内存调优之进程内存深度监控</a><br></span><span>  2.<a class="is-size-6" href="/2025/04/11/%E5%BE%85%E5%8F%91%E5%B8%83/Linux%20%E7%B3%BB%E7%BB%9F%E5%86%85%E5%AD%98%E7%9B%91%E6%8E%A7%EF%BC%9ALinux%20%E5%86%85%E5%AD%98%E8%B0%83%E4%BC%98%E4%B9%8B%E7%B3%BB%E7%BB%9F%E5%86%85%E5%AD%98%E5%85%A8%E9%9D%A2%E7%9B%91%E6%8E%A7/" target="_blank">Linux 系统内存监控：Linux 内存调优之系统内存全面监控</a><br></span><span>  3.<a class="is-size-6" href="/2025/04/08/%E5%BE%85%E5%8F%91%E5%B8%83/%E8%AE%A4%E8%AF%86%20Linux%20%E5%86%85%E5%AD%98%E6%9E%84%E6%88%90%EF%BC%9ALinux%20%E5%86%85%E5%AD%98%E8%B0%83%E4%BC%98%E4%B9%8B%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E4%B8%8E%E7%89%A9%E7%90%86%E5%86%85%E5%AD%98/" target="_blank">认识 Linux 内存构成：Linux 内存调优之虚拟内存与物理内存</a><br></span><span>  4.<a class="is-size-6" href="/2025/04/07/%E5%BE%85%E5%8F%91%E5%B8%83/Linux%20%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98%E4%B9%8BCPU%E8%B0%83%E4%BC%98%E8%AE%A4%E7%9F%A5/" target="_blank">Linux 性能调优之CPU调优认知</a><br></span><span>  5.<a class="is-size-6" href="/2024/08/23/rhca/RH442_BPF/CPU/Linux%20%E6%80%A7%E8%83%BD%E8%A7%82%E6%B5%8B%E4%B9%8B%E5%B9%B3%E5%9D%87%E8%B4%9F%E8%BD%BD/" target="_blank">Linux 性能观测之平均负载</a><br></span><span>  6.<a class="is-size-6" href="/2024/04/01/rhca/RH442_BPF/BPF/Linux-BPF%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E4%B9%8B%E5%9F%BA%E4%BA%8EBCC%E5%B7%A5%E5%85%B7%E6%B8%85%E5%8D%95%E6%A3%80%E6%9F%A5/" target="_blank">Linux BPF性能分析之基于BCC工具清单检查</a><br></span><span>  7.<a class="is-size-6" href="/2024/03/30/rhca/RH442_BPF/BPF/Linux-%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95%E8%AE%BA%E4%BB%8B%E7%BB%8D-%E4%B8%9A%E5%8A%A1%E8%B4%9F%E8%BD%BD%E7%94%BB%E5%83%8F%E3%80%81%E4%B8%8B%E9%92%BB%E5%88%86%E6%9E%90%E3%80%81USE%E6%96%B9%E6%B3%95%E8%AE%BA%EF%BC%8C%E6%A3%80%E6%9F%A5%E6%B8%85%E5%8D%95/" target="_blank">Linux 常见性能分析方法论介绍(业务负载画像、下钻分析、USE方法论，检查清单)</a><br></span><span>  8.<a class="is-size-6" href="/2024/03/08/Linux/Linux%E7%BD%91%E7%BB%9C/Linux%20%E7%BD%91%E7%BB%9C%E9%9A%A7%E9%81%93%E6%8A%80%E6%9C%AF%20VXLAN%20%E8%AE%A4%E7%9F%A5/" target="_blank">Linux 网络隧道技术 VXLAN 认知</a><br></span></div><div class="recommend-post"><span class="is-size-6 has-text-grey has-mr-7"># 推荐文章</span><br><span>  1.<a class="is-size-6" href="/2021/08/27/K8s/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8AKubernetes%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97-%E4%BB%8EDocker%E5%88%B0Kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A8%E6%8E%A5%E8%A7%A6%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" target="_blank">《Kubernetes权威指南:从Docker到Kubernetes实践全接触》读书笔记</a><br></span><span>  2.<a class="is-size-6" href="/2025/04/15/Linux-%E9%99%90%E5%88%B6%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E9%87%8F%EF%BC%9ALinux-%E5%86%85%E5%AD%98%E8%B0%83%E4%BC%98%E4%B9%8B%E9%99%90%E5%88%B6%E8%BF%9B%E7%A8%8B%E3%80%81%E7%B3%BB%E7%BB%9F%E7%BA%A7%E5%88%AB%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E9%87%8F/" target="_blank">Linux 限制内存使用量：Linux 内存调优之限制进程、系统级别内存使用量</a><br></span><span>  3.<a class="is-size-6" href="/2022/03/11/Go/GO%E8%AF%AD%E8%A8%80%E5%AE%9E%E6%88%98%E4%B9%8B%E5%87%BD%E6%95%B0%E4%B8%8E%E6%96%B9%E6%B3%95/" target="_blank">GO语言实战之函数与方法</a><br></span><span>  4.<a class="is-size-6" href="/2023/09/06/Go/GO%E8%AF%AD%E8%A8%80%E5%AE%9E%E6%88%98%E4%B9%8B%E5%B5%8C%E5%85%A5%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%B1%9E%E6%80%A7%E9%9A%90%E7%A7%81%E5%AE%9A%E4%B9%89/" target="_blank">GO语言实战之嵌入类型和属性隐私定义</a><br></span><span>  5.<a class="is-size-6" href="/2022/08/28/Go/GO%E8%AF%AD%E8%A8%80%E5%AE%9E%E6%88%98%E4%B9%8B%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E4%BA%8E%E6%96%B9%E6%B3%95%E9%9B%86/" target="_blank">GO语言实战之接口实现于方法集</a><br></span><span>  6.<a class="is-size-6" href="/2023/09/19/Go/GO%E8%AF%AD%E8%A8%80%E5%AE%9E%E6%88%98%E4%B9%8B%E5%B9%B6%E5%8F%91%E5%92%8C-goroutine/" target="_blank">GO语言实战之并发和 goroutine</a><br></span></div></div><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/css/share.min.css"><div class="social-share"></div><script src="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/img/alipay%EF%BF%A5.png" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/img/wechat%EF%BF%A5.png" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2022/10/16/K8s/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2-%E8%BF%90%E7%BB%B4/%E5%85%B3%E4%BA%8E%20Kubernetes%E4%B8%ADAWX-awx-operator-%E5%B9%B3%E5%8F%B0Helm%E9%83%A8%E7%BD%B2%E7%9A%84%E4%B8%80%E4%BA%9B%E7%AC%94%E8%AE%B0/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">关于K8s中Ansible AWX(awx-operator 0.30.0)平台Helm部署的一些笔记</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2022/10/03/%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%85%B3%E4%BA%8ELinux%E4%B8%8BMySQL%E4%B8%BB%E5%A4%87%E9%9B%86%E7%BE%A4%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E4%B9%8B%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB(MaxScale)%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%B0%E7%AC%94/"><span class="level-item">关于Linux下MySQL主备集群负载均衡之读写分离(MaxScale)的一些记笔</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--><div class="card"><div class="card-content"><div class="title is-5">评论</div><div id="comment-container"></div><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/gitalk/1.6.0/gitalk.css"><script> $.getScript('/js/gitalk.min.js', function () { 
            var gitalk = new Gitalk({
            language:'zh-CN',
            id: '93aa4092ca1082810fdc06d0f33447b6',
            repo: 'blog_comment',
            owner: 'LIRUILONGS',
            clientID: '9fdc9739266d48d5f62e',
            clientSecret: 'c1cc33697d099a2197650ec9dadcb16bd4904655',
            admin: ["LIRUILONGS"],
            createIssueManually: true,
            distractionFreeMode: true,
            perPage: 10,
            pagerDirection: 'last',
            proxy: 'https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token',
            
            enableHotKey: true,
            isLocked: false
        })
        gitalk.render('comment-container')});</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="is-flex is-mobile" href="#写在前面"><span class="mr-2">1</span><span>写在前面</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#进程优先级设置修改"><span class="mr-2">1.1</span><span>进程优先级设置修改</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#在运行进程时设置优先级"><span class="mr-2">1.1.1</span><span>在运行进程时设置优先级</span></a></li><li><a class="is-flex is-mobile" href="#使用renice命令改变正在运行的进程优先级"><span class="mr-2">1.1.2</span><span>使用renice命令改变正在运行的进程优先级</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#创建存储设备块的副本"><span class="mr-2">1.2</span><span>创建存储设备块的副本</span></a></li><li><a class="is-flex is-mobile" href="#rsyslog-日志记录守护进程"><span class="mr-2">1.3</span><span>rsyslog 日志记录守护进程</span></a></li><li><a class="is-flex is-mobile" href="#使用-logrotate-自动清理日志"><span class="mr-2">1.4</span><span>使用 logrotate 自动清理日志</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#禁用日志记录"><span class="mr-2">1.4.1</span><span>禁用日志记录</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#安全和匿名"><span class="mr-2">1.5</span><span>安全和匿名</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#安全问题"><span class="mr-2">1.5.1</span><span>安全问题</span></a></li><li><a class="is-flex is-mobile" href="#添加更多的代理"><span class="mr-2">1.5.2</span><span>添加更多的代理</span></a></li><li><a class="is-flex is-mobile" href="#虚拟专用网络"><span class="mr-2">1.5.3</span><span>虚拟专用网络</span></a></li><li><a class="is-flex is-mobile" href="#加密的电子邮件"><span class="mr-2">1.5.4</span><span>加密的电子邮件</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#理解和检查无线网络"><span class="mr-2">1.6</span><span>理解和检查无线网络</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#基本无线网络命令"><span class="mr-2">1.6.1</span><span>基本无线网络命令</span></a></li><li><a class="is-flex is-mobile" href="#使用aircrack-ng进行Wi-Fi侦查"><span class="mr-2">1.6.2</span><span>使用aircrack-ng进行Wi-Fi侦查</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#检测并连接到蓝牙"><span class="mr-2">1.7</span><span>检测并连接到蓝牙</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#蓝牙的工作原理"><span class="mr-2">1.7.1</span><span>蓝牙的工作原理</span></a></li><li><a class="is-flex is-mobile" href="#通过l2ping查看设备是否可以访问"><span class="mr-2">1.7.2</span><span>通过l2ping查看设备是否可以访问</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#总结"><span class="mr-2">1.8</span><span>总结</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#博文整理来自"><span class="mr-2">2</span><span>博文整理来自</span></a></li></ul></div></div><style>.menu-list > li > a.is-active + .menu-list { display: block; }.menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="profile"><div class="card-content"><nav class=""><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7.jpg" alt="山河已无恙"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">山河已无恙</p><p class="is-size-6 is-block">爱自己，是终生浪漫的开始</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>中国·呼和浩特</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">440</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">144</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">191</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://mp.weixin.qq.com/s?__biz=MzkyNjIxNTYwMw==&amp;mid=2247496480&amp;idx=1&amp;sn=a9971fed3962ef2a1aeda1f0bda65f86&amp;chksm=c2380ffcf54f86eaba8daac6caca72a70f38e61a8d25dc2a66d3a17b87c02530e326dcaea14b#rd" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/LIRUILONGS"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="CSDN" href="https://liruilong.blog.csdn.net/"><i class="fa fa-code"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:1224965096@qq.com"><i class="fa fa-envelope"></i></a></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://liruilong.blog.csdn.net/?t=1&amp;type=blog" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">CSDN</span></span><span class="level-right"><span class="level-item tag">liruilong.blog.csdn.net</span></span></a></li><li><a class="level is-mobile" href="https://www.cnblogs.com/liruilong/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">博客园</span></span><span class="level-right"><span class="level-item tag">www.cnblogs.com</span></span></a></li><li><a class="level is-mobile" href="https://github.com/LIRUILONGS" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Githup</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li><li><a class="level is-mobile" href="https://gitee.com/liruilonger" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">码云</span></span><span class="level-right"><span class="level-item tag">gitee.com</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新评论</h3><span class="body_hot_comment">加载中，最新评论有1分钟缓存...</span></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2025-04-15T01:51:14.000Z">2025-04-15</time></p><p class="title"><a href="/2025/04/15/Linux-%E9%99%90%E5%88%B6%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E9%87%8F%EF%BC%9ALinux-%E5%86%85%E5%AD%98%E8%B0%83%E4%BC%98%E4%B9%8B%E9%99%90%E5%88%B6%E8%BF%9B%E7%A8%8B%E3%80%81%E7%B3%BB%E7%BB%9F%E7%BA%A7%E5%88%AB%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E9%87%8F/">Linux 限制内存使用量：Linux 内存调优之限制进程、系统级别内存使用量</a></p><p class="categories"><a href="/categories/test3/">test3</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2025-04-13T14:50:54.000Z">2025-04-13</time></p><p class="title"><a href="/2025/04/13/%E5%BE%85%E5%8F%91%E5%B8%83/%E8%B0%B7%E6%AD%8C68%E9%A1%B5%E7%99%BD%E7%9A%AE%E4%B9%A6%E8%A7%A3%E5%AF%86%EF%BC%9A%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B%E5%A6%82%E4%BD%95%E9%87%8D%E5%A1%91AI%E4%BA%A4%E4%BA%92%E9%80%BB%E8%BE%91/">谷歌68页白皮书解密：提示工程如何重塑AI交互逻辑</a></p><p class="categories"><a href="/categories/LLM/">LLM</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2025-04-11T11:38:12.000Z">2025-04-11</time></p><p class="title"><a href="/2025/04/11/%E5%BE%85%E5%8F%91%E5%B8%83/Linux-%E8%BF%9B%E7%A8%8B%E5%86%85%E5%AD%98%E7%9B%91%E6%8E%A7%EF%BC%9ALinux-%E5%86%85%E5%AD%98%E8%B0%83%E4%BC%98%E4%B9%8B%E8%BF%9B%E7%A8%8B%E5%86%85%E5%AD%98%E6%B7%B1%E5%BA%A6%E7%9B%91%E6%8E%A7/">Linux 进程内存监控：Linux 内存调优之进程内存深度监控</a></p><p class="categories"><a href="/categories/Linux/">Linux</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2025-04-11T11:38:12.000Z">2025-04-11</time></p><p class="title"><a href="/2025/04/11/%E5%BE%85%E5%8F%91%E5%B8%83/Linux%20%E7%B3%BB%E7%BB%9F%E5%86%85%E5%AD%98%E7%9B%91%E6%8E%A7%EF%BC%9ALinux%20%E5%86%85%E5%AD%98%E8%B0%83%E4%BC%98%E4%B9%8B%E7%B3%BB%E7%BB%9F%E5%86%85%E5%AD%98%E5%85%A8%E9%9D%A2%E7%9B%91%E6%8E%A7/">Linux 系统内存监控：Linux 内存调优之系统内存全面监控</a></p><p class="categories"><a href="/categories/Linux/">Linux</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2025-04-07T23:32:10.000Z">2025-04-08</time></p><p class="title"><a href="/2025/04/08/%E5%BE%85%E5%8F%91%E5%B8%83/%E8%AE%A4%E8%AF%86%20Linux%20%E5%86%85%E5%AD%98%E6%9E%84%E6%88%90%EF%BC%9ALinux%20%E5%86%85%E5%AD%98%E8%B0%83%E4%BC%98%E4%B9%8B%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E4%B8%8E%E7%89%A9%E7%90%86%E5%86%85%E5%AD%98/">认识 Linux 内存构成：Linux 内存调优之虚拟内存与物理内存</a></p><p class="categories"><a href="/categories/Linux/">Linux</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/AIGC/"><span class="level-start"><span class="level-item">AIGC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/AdaFace/"><span class="level-start"><span class="level-item">AdaFace</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Ajax/"><span class="level-start"><span class="level-item">Ajax</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Ansible/"><span class="level-start"><span class="level-item">Ansible</span></span><span class="level-end"><span class="level-item tag">23</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/AppCube/"><span class="level-start"><span class="level-item">AppCube</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/BPF/"><span class="level-start"><span class="level-item">BPF</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Bind9/"><span class="level-start"><span class="level-item">Bind9</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/CI-CD/"><span class="level-start"><span class="level-item">CI/CD</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/CSS/"><span class="level-start"><span class="level-item">CSS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Ceph/"><span class="level-start"><span class="level-item">Ceph</span></span><span class="level-end"><span class="level-item tag">22</span></span></a></li><a class="level is-mobile is-marginless" href="/categories/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2025/04/"><span class="level-start"><span class="level-item">四月 2025</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2025/03/"><span class="level-start"><span class="level-item">三月 2025</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2025/02/"><span class="level-start"><span class="level-item">二月 2025</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2025/01/"><span class="level-start"><span class="level-item">一月 2025</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2024/12/"><span class="level-start"><span class="level-item">十二月 2024</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><a class="level is-mobile is-marginless" href="/archives/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Kubernetes/"><span class="tag">Kubernetes</span><span class="tag is-grey-lightest">98</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag is-grey-lightest">55</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ansible/"><span class="tag">Ansible</span><span class="tag is-grey-lightest">25</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ceph/"><span class="tag">Ceph</span><span class="tag is-grey-lightest">22</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag is-grey-lightest">15</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Docker/"><span class="tag">Docker</span><span class="tag is-grey-lightest">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag is-grey-lightest">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JAVA/"><span class="tag">JAVA</span><span class="tag is-grey-lightest">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8D%8E%E4%B8%BA%E4%BA%91/"><span class="tag">华为云</span><span class="tag is-grey-lightest">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CPU/"><span class="tag">CPU</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LLM/"><span class="tag">LLM</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Mysql/"><span class="tag">Mysql</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BPF/"><span class="tag">BPF</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go/"><span class="tag">Go</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenShift/"><span class="tag">OpenShift</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/"><span class="tag">程序人生</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DNS/"><span class="tag">DNS</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OKD/"><span class="tag">OKD</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%91%84%E5%BD%B1%E6%9B%9D%E5%85%89/"><span class="tag">摄影曝光</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/selenium/"><span class="tag">selenium</span><span class="tag is-grey-lightest">4</span></a></div></div><div class="field is-grouped is-grouped-multiline"><a class="tags has-addons" href="/tags/"><span class="tag">查看全部&gt;&gt;</span></a></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="订阅"></div></div></form></div></div></div><!--!--><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="山河已无恙" height="28"></a><p class="size-small"><span>&copy; 2025 山河已无恙</span>  Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a> &amp; <a href="https://github.com/removeif/hexo-theme-amazing" target="_blank">Amazing</a> <br><span>© <a href="http://www.beian.miit.gov.cn/" target="_blank">备案中</a><br></span><span>© 版权说明：[本网站所有内容均收集于互联网或自己创作,<br />&nbsp;&nbsp;&nbsp;&nbsp;方便于网友与自己学习交流，如有侵权，请<a href="/message" target="_blank">留言</a>，立即处理]<br /></span><span><span id="statistic-times">loading...</span><script>function createTime(time) {
            var n = new Date(time);
            now.setTime(now.getTime() + 250),
                days = (now - n) / 1e3 / 60 / 60 / 24,
                dnum = Math.floor(days),
                hours = (now - n) / 1e3 / 60 / 60 - 24 * dnum,
                hnum = Math.floor(hours),
            1 == String(hnum).length && (hnum = "0" + hnum),
                minutes = (now - n) / 1e3 / 60 - 1440 * dnum - 60 * hnum,
                mnum = Math.floor(minutes),
            1 == String(mnum).length && (mnum = "0" + mnum),
                seconds = (now - n) / 1e3 - 86400 * dnum - 3600 * hnum - 60 * mnum,
                snum = Math.round(seconds),
            1 == String(snum).length && (snum = "0" + snum),
                document.getElementById("statistic-times").innerHTML = "❤️本站自 <strong>"+time.split(" ")[0].replace(/\//g,".")+"</strong> 已运行 <strong>" + dnum + "</strong> 天 <strong>" + hnum + "</strong> 小时 <strong>" + mnum + "</strong> 分 <strong>" + snum + "</strong> 秒！❤️";
        }var now = new Date();setInterval("createTime('2021/6/26 21:27:00')", 250,"");</script><br></span><div class="size-small"><span>❤️感谢 <strong><span id="busuanzi_value_site_uv">99+</span></strong> 小伙伴的 <strong><span id="busuanzi_value_site_pv">99+</span></strong> 次光临！❤️</span></div></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/removeif/hexo-theme-amazing"><i class="fab fa-github"></i></a></p></div><div class="sideMusic"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="/js/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script><meting-js style="width: auto;height: 2000px;" server="netease" type="playlist" id="2364053447" theme="#2980b9" loop="all" autoplay="false" order="list" storageName="aplayer-setting" lrctype="0" list-max-height="400px" fixed="true"></meting-js></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" async></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><!--!--><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/KaTeX/0.11.1/katex.min.css"><script src="https://cdnjs.loli.net/ajax/libs/KaTeX/0.11.1/katex.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/KaTeX/0.11.1/contrib/auto-render.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/KaTeX/0.11.1/contrib/mhchem.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdnjs.loli.net/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><div id="outdated"><h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly.&amp;npsb;<a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now </a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">×</a></p></div><script src="https://cdnjs.loli.net/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js" defer></script><script>window.addEventListener("load", function () {
            outdatedBrowser({
                bgColor: '#f25648',
                color: '#ffffff',
                lowerThan: 'object-fit' // display on IE11 or below
            });
        });</script><!--!--><script src="/js/main.js" defer></script><script>$.getScript('/js/comment-issue-data.js',function(){loadIssueData('9fdc9739266d48d5f62e','c1cc33697d099a2197650ec9dadcb16bd4904655','LIRUILONGS','blog_comment',false);})</script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script><script type="text/javascript">var pjax = new Pjax({
            elements: "a",//代表点击链接就更新
            selectors: [  //代表要更新的节点
                ".section",
                "title"
            ],
            cache: true,
            cacheBust:false
        })

        function loadBusuanzi(){
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js", function () {});
        }

        function loadMathJax() { //加载mathjax
            $.getScript("//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML", function () {
                MathJax.Hub.Config({ tex2jax: { inlineMath: [['$', '$'], ['\(', '\)']] } });
                var math = document.getElementsByClassName("entry-content")[0];
                MathJax.Hub.Queue(["Typeset", MathJax.Hub, math]);
            });
        };

        // 开始 PJAX 执行的函数
        document.addEventListener('pjax:send', function () {
        });
        
        // PJAX 完成之后执行的函数，可以和上面的重载放在一起
        document.addEventListener('pjax:complete', function () {
            $(".section").css({opacity:1});
            if(true){
                $.getScript('/js/comment-issue-data.js',function(){loadIssueData('9fdc9739266d48d5f62e','c1cc33697d099a2197650ec9dadcb16bd4904655','LIRUILONGS','blog_comment',false);});
            }
            if(false){
                loadMathJax();
            }
            loadMainJs(jQuery, window.moment, window.ClipboardJS, window.IcarusThemeSettings);
            loadBackTop();
            loadBusuanzi();
            if(typeof loadBanner == 'function'){
                loadBanner();
            }
        });</script></body></html>