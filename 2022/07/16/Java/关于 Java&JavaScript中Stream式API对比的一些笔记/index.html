<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>关于Java&amp;JavaScript中(伪)Stream式API对比的一些笔记 - 山河已无恙</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="山河已无恙"><meta name="msapplication-TileImage" content="https://cdn.jsdelivr.net/gh/removeif/removeif-demo@latest/img/favicon.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="山河已无恙"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta description="追求轻微痛感,掌控快感释放，先做困难的事情,降低奖励期待，控制欲望,延迟消费多巴胺"><meta property="og:type" content="blog"><meta property="og:title" content="山河已无恙"><meta property="og:url" content="https://liruilong.blog.csdn.net/?t=1&amp;type=blog"><meta property="og:site_name" content="山河已无恙"><meta property="og:description" content="追求轻微痛感,掌控快感释放，先做困难的事情,降低奖励期待，控制欲望,延迟消费多巴胺"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://liruilong.blog.csdn.net/img/头像.jpg"><meta property="article:published_time" content="2022-07-16T04:21:24.000Z"><meta property="article:modified_time" content="2023-06-21T11:25:59.036Z"><meta property="article:author" content="LIRUILONGS"><meta property="article:tag" content="Java"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/头像.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://liruilongs.github.io/2022/07/16/Java/%E5%85%B3%E4%BA%8E%20Java&JavaScript%E4%B8%ADStream%E5%BC%8FAPI%E5%AF%B9%E6%AF%94%E7%9A%84%E4%B8%80%E4%BA%9B%E7%AC%94%E8%AE%B0/"},"headline":"山河已无恙","image":["https://img-blog.csdnimg.cn/2bb64a0b59c4453687cde4df26cf877a.png","https://img-blog.csdnimg.cn/654253c74d9047be839090e203231d67.png"],"datePublished":"2022-07-16T04:21:24.000Z","dateModified":"2023-06-21T11:25:59.036Z","author":{"@type":"Person","name":"山河已无恙"},"description":"追求轻微痛感,掌控快感释放，先做困难的事情,降低奖励期待，控制欲望,延迟消费多巴胺"}</script><link rel="canonical" href="https://liruilongs.github.io/2022/07/16/Java/%E5%85%B3%E4%BA%8E%20Java&amp;JavaScript%E4%B8%ADStream%E5%BC%8FAPI%E5%AF%B9%E6%AF%94%E7%9A%84%E4%B8%80%E4%BA%9B%E7%AC%94%E8%AE%B0/"><link rel="alternate" href="/path/to/atom.xml" title="山河已无恙" type="application/atom+xml"><link rel="icon" href="https://cdn.jsdelivr.net/gh/removeif/removeif-demo@latest/img/favicon.png"><meta name="referrer" content="no-referrer-when-downgrade"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Ubuntu:400,600|Source+Code+Pro|Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;amp;subset=latin,latin-ext|Inconsolata|Itim|Lobster.css"><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="/js/globalUtils.js"></script><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?3f06f2b732a5b1034c989f74e28d0eea";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css"><script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script><meta name="generator" content="Hexo 5.4.2"></head><body class="is-3-column has-navbar-fixed-top"><nav class="navbar navbar-main is-fixed-top"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="山河已无恙" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/media">影音</a><a class="navbar-item" href="/album">相册</a><a class="navbar-item" href="/friend">友链</a><a class="navbar-item" href="/self-talking">生活小记</a><a class="navbar-item" href="/message">留言墙</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Gitee" href="https://gitee.com/liruilonger"><i class="fab fa-git-square fa-1x"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="GitHub" href="https://github.com/LIRUILONGS"><i class="fab fa-github fa-1x"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul fa-1x"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search fa-1x"></i></a><a class="navbar-item" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon fa-1x" id="night-icon"></i></a></div></div></div></nav><script type="text/javascript" src="/js/theme-setting.js"></script><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><!--!--><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><i class="far fa-calendar-plus"> </i>2022-07-16  <a class="commentCountImg" href="/2022/07/16/Java/%E5%85%B3%E4%BA%8E%20Java&amp;JavaScript%E4%B8%ADStream%E5%BC%8FAPI%E5%AF%B9%E6%AF%94%E7%9A%84%E4%B8%80%E4%BA%9B%E7%AC%94%E8%AE%B0/#comment-container"><span class="display-none-class">1f5b1701bacae5df548b9f303d88cb9c</span><i class="far fa-comment-dots"></i> <span class="commentCount" id="1f5b1701bacae5df548b9f303d88cb9c">99+</span>  </a><span class="level-item"><i class="far fa-clock"> </i>29 分钟  <i class="fas fa-pencil-alt"> </i>4.4 k</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">关于Java&amp;JavaScript中(伪)Stream式API对比的一些笔记</h1><div class="content"><p><strong><font color="009688"> 追求轻微痛感,掌控快感释放，先做困难的事情,降低奖励期待，控制欲望,延迟消费多巴胺</strong></font></p>
<span id="more"></span>

<h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><hr>
<ul>
<li>前些时日开发遇到,想着把这些对比总结下</li>
<li>博文内容包括：<ul>
<li>Stream 相关概念简述</li>
<li>Java和JavaScript的Stream式API对比Demo</li>
</ul>
</li>
<li>食用方式<ul>
<li>博文适合会一点前端的Java后端&amp;会一点Java后端的前端</li>
<li>需要了解Java&amp;JavaScript基础知识</li>
</ul>
</li>
<li>理解不足小伙伴帮忙指正</li>
</ul>
<p><strong><font color="009688"> 追求轻微痛感,掌控快感释放，先做困难的事情,降低奖励期待，控制欲望,延迟消费多巴胺</strong></font></p>
<hr>
<h2 id="什么是流-Stream"><a href="#什么是流-Stream" class="headerlink" title="什么是流(Stream)"></a>什么是流(Stream)</h2><p>关于<code> Stream</code>， 在Java中我们叫<code> 流</code>，但是在JavaScript中，好像没有这种叫,也没有<code>Stream</code>API，我么姑且称为<code>伪流</code>，JS一般把参与流处理的函数称为<code>高价函数</code>，比如特殊的<code>柯里化</code>之类，Java 中则是通过<code>函数式接口</code>实现，</p>
<p>其实一个编译型语言，一个解释型语言没有什么可比性，这里只是感觉行为有写类似放到一起比较记忆。而且通过<code>链式调用，可读性很高</code>，JS里我们主要讨论Array的伪流处理。Set和Map的API相对较少，这里不讨论，为了方便，不管是Java还是JavaScript，数据处理我们都称为流或者Stream处理</p>
<p>这里的<code>高阶函数</code>，即满足下面两个条件:</p>
<ol>
<li>函数作为<code>参数被传递</code>：比如<code>回调函数</code></li>
<li>函数作为<code>返回值输出</code>：让函数返回<code>可执行函数</code>，因为运算过程是可以延续的</li>
</ol>
<p>这里讲<code>Stream</code>，即想表达<code>从一个数据源生成一个想要的元素序列的过程</code>。这个过程中，会经历一些<code>数据处理的操作</code>,我们称之为<code>流(Stream)处理</code></p>
<p><code>Stream</code>与传统的数据处理最大的不同在于其 <code>内部迭代</code>,与使用迭代器显式迭代不同，Stream的迭代操作是在背后进行的。数据处理的行为大都遵循<code>函数式编程的范式</code>，通过<code>匿名函数</code>的方式实现<code>行为参数化</code>，利用<code>Lambad表达式</code>实现。</p>
<p>但是<code>Java</code>的流和<code>JavaScript</code>是<code>伪流</code>不同的，Java的Stream是在概念上固定的数据结构(你不能添加或删除元素),JavaScript中的Stream是可以对<code>原始数据源处理</code>的。但是Java的Stream可以利用<code>多核</code>支持像流水线一样<code>并行处理</code>.</p>
<p><code>Java</code>中通过<code>parallelStream</code>可以获得一个并行处理的<code>Stream</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 顺序进行</span></span><br><span class="line">List&lt;Apple&gt; listStream = list.stream()</span><br><span class="line">        .filter((Apple a) -&gt; a.getWeight() &gt;<span class="number">20</span> || <span class="string">&quot;green&quot;</span>.equals(a.getColor()))</span><br><span class="line">        .collect(Collectors.toList());</span><br><span class="line"><span class="comment">//并行进行</span></span><br><span class="line">List&lt;Apple&gt; listStreamc = list.parallelStream()</span><br><span class="line">        .filter((Apple a) -&gt; a.getWeight() &gt;<span class="number">20</span> || <span class="string">&quot;green&quot;</span>.equals(a.getColor()))</span><br><span class="line">        .collect(Collectors.toList());</span><br></pre></td></tr></table></figure>

<p>JS可以在流处理的<code>回调函数</code>上可以传递一个当前处理的<code>数据源</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">&quot;red&quot;</span>, <span class="string">&quot;blue&quot;</span>, <span class="string">&quot;grey&quot;</span>];</span><br><span class="line"></span><br><span class="line">colors.forEach((item, index, arr) ==&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span>(item === <span class="string">&quot;red&quot;</span>) &#123;</span><br><span class="line">        arr.splice(index, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>一般我们把可以连接起来的<code>Stream</code>操作称为<code>中间操作</code>，<code>关闭Stream</code>的操作称为我们称为<code>终端操作</code>。</p>
<ul>
<li><code>中间操作</code>：一般都可以合并起来，在终端操作时一次性全部处理 </li>
<li><code>终端操作</code>：会从流的流水线生成结果。其结果是任何不是流的值</li>
</ul>
<p>总而言之，流的使用一般包括三件事： </p>
<ul>
<li>一个数据源(如数组集合)来执行一个查询 </li>
<li>一个中间操作链，形成一条流的流水线</li>
<li>一个终端操作，执行流水线，并能生成结果</li>
</ul>
<p>关于流操作，有无状态和有状态之分 ：</p>
<ul>
<li>诸如 <code>map或filter</code> 等操作会从输入流中获取每一个元素，并在输出流中得到0或1个结果。 这些操作一般都是无状态的：它们没有内部状态,称为<code>无状态操作</code></li>
<li>诸如<code>sort或distinct,reduce</code>等操作一开始都和filter和map差不多——都是接受一个流，再生成一个流(中间操作)，但有一个关键的区别。从<code>流中排序和删除重复项时都需要知道先前的历史</code>。例如，排序要求所有元素都放入缓冲区后才能给输出流加入一个项目，这一操作的存储要求是无界的。要是流比较大或是无限的，就可能会有问题。我们把这些操作叫作<code>有状态操作</code></li>
</ul>
<p>中间操作</p>
<table>
<thead>
<tr>
<th>JavaScript</th>
<th>Java</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>filter</td>
<td>filter</td>
<td>筛选</td>
</tr>
<tr>
<td>map</td>
<td>map</td>
<td>映射</td>
</tr>
<tr>
<td>flatMap</td>
<td>flatMap</td>
<td>扁平化</td>
</tr>
<tr>
<td>slice</td>
<td>limit</td>
<td>截断</td>
</tr>
<tr>
<td>sort</td>
<td>sorted</td>
<td>排序</td>
</tr>
<tr>
<td>不支持</td>
<td>distinct</td>
<td>去重</td>
</tr>
<tr>
<td>slice</td>
<td>skip</td>
<td>跳过</td>
</tr>
<tr>
<td>group&#x2F;groupToMap</td>
<td>groupingBy</td>
<td>分组</td>
</tr>
</tbody></table>
<p>终端操作</p>
<table>
<thead>
<tr>
<th>JavaScript</th>
<th>Java</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>forEach</td>
<td>forEach</td>
<td>消费</td>
</tr>
<tr>
<td>length</td>
<td>count</td>
<td>统计</td>
</tr>
<tr>
<td>reduce&#x2F;reduceRight</td>
<td>reduce</td>
<td>归约</td>
</tr>
<tr>
<td>every&#x2F;some</td>
<td>anyMatch&#x2F;allMatch&#x2F;noneMatch</td>
<td>谓词&#x2F;短路求值</td>
</tr>
<tr>
<td>findLast(findLastIndex)&#x2F;find(findIndex)</td>
<td>findAny&#x2F;findFirst</td>
<td>查找</td>
</tr>
</tbody></table>
<h2 id="Java和JavaScript的Stream-Demo"><a href="#Java和JavaScript的Stream-Demo" class="headerlink" title="Java和JavaScript的Stream Demo"></a>Java和JavaScript的Stream Demo</h2><p>Java 和Node版本</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java version <span class="string">&quot;1.8.0_251&quot;</span></span><br><span class="line">Java(TM) <span class="function">SE Runtime <span class="title">Environment</span> <span class="params">(build <span class="number">1.8</span><span class="number">.0_251</span>-b08)</span></span></span><br><span class="line"><span class="function">Java <span class="title">HotSpot</span><span class="params">(TM)</span> 64-Bit Server <span class="title">VM</span> <span class="params">(build <span class="number">25.251</span>-b08, mixed mode)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Welcome to Node.js v16<span class="number">.15</span><span class="number">.0</span>.</span><br><span class="line">Type <span class="string">&quot;.help&quot;</span> <span class="keyword">for</span> more information.</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>

<p>通过Demo来看下Java和JavaScript的Stream</p>
<h3 id="filter-筛选"><a href="#filter-筛选" class="headerlink" title="filter 筛选"></a>filter 筛选</h3><p>filter用布尔值筛选，。该操作会接受一个谓词(一个返回 boolean的函数)作为参数，并返回一个包括所有符合谓词的元素的流。</p>
<h4 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h4><p><code>Stream&lt;T&gt; filter(Predicate&lt;? super T&gt; predicate);</code> <code>boolean test(T t);</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list  = Arrays.asList(<span class="number">12</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>);</span><br><span class="line">list.stream().filter( i -&gt; i % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">             .forEach(System.out::print);</span><br><span class="line">        <span class="comment">// 1244</span></span><br></pre></td></tr></table></figure>

<h4 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h4><p><code>arr.filter(callback(element[, index[, array]])[, thisArg])</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> users = [&#123; <span class="attr">name</span>: <span class="string">&quot;毋意&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202201&quot;</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&quot;毋必&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202202&quot;</span> &#125;, </span><br><span class="line">             &#123; <span class="attr">name</span>: <span class="string">&quot;毋固&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202203&quot;</span> &#125;,&#123; <span class="attr">name</span>: <span class="string">&quot;毋我&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202204&quot;</span> &#125;]</span><br><span class="line"></span><br><span class="line">users.filter(<span class="function"><span class="params">o</span> =&gt;</span> +o.value === <span class="number">202201</span> ).forEach(<span class="function"><span class="params">o</span> =&gt;</span><span class="built_in">console</span>.log(<span class="string">&#x27;out :%s&#x27;</span>,o))</span><br><span class="line"><span class="comment">//out :&#123; name: &#x27;毋意&#x27;, value: &#x27;202201&#x27; &#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="map-映射"><a href="#map-映射" class="headerlink" title="map 映射"></a>map 映射</h3><p>对流中每一个元素应用函数：流支持map方法，它会接受一个函数作为参数。这个函数会被应用到每个元素上，并将其映 射成一个新的元素(使用<code>映射</code>一词，是因为它和<code>转换</code>类似，但其中的细微差别在于它是“<code>创建</code>一个新版本”而不是去“<code>修改</code>”)。</p>
<h4 id="java"><a href="#java" class="headerlink" title="java"></a>java</h4><p><code>&lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super T, ? extends R&gt; mapper); </code>  <code>R apply(T t);</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list  = Arrays.asList(<span class="number">12</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>);</span><br><span class="line">list.stream().map(o -&gt; o+<span class="number">1</span> ).forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">======</span><br><span class="line"><span class="number">13</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="JS-1"><a href="#JS-1" class="headerlink" title="JS"></a>JS</h4><p><code>arr.map(function callback(currentValue[, index[, array]]) &#123;&#125;[, thisArg])</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> users = [&#123; <span class="attr">name</span>: <span class="string">&quot;毋意&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202201&quot;</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&quot;毋必&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202202&quot;</span> &#125;, </span><br><span class="line">             &#123; <span class="attr">name</span>: <span class="string">&quot;毋固&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202203&quot;</span> &#125;,&#123; <span class="attr">name</span>: <span class="string">&quot;毋我&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202204&quot;</span> &#125;]             </span><br><span class="line">users.map( <span class="function"><span class="params">o</span> =&gt;</span> o.name ).forEach(<span class="function"><span class="params">o</span> =&gt;</span><span class="built_in">console</span>.log(<span class="string">&#x27;out :%s&#x27;</span>,o))</span><br><span class="line"></span><br><span class="line">===========</span><br><span class="line">out :毋意</span><br><span class="line"><span class="attr">out</span> :毋必</span><br><span class="line"><span class="attr">out</span> :毋固</span><br><span class="line"><span class="attr">out</span> :毋我</span><br></pre></td></tr></table></figure>

<h3 id="flatMap-扁平化"><a href="#flatMap-扁平化" class="headerlink" title="flatMap 扁平化"></a>flatMap 扁平化</h3><p><code>流的扁平化</code>,对于一张单词表，如何返回一张列表，列出里面各不相同的字符呢？例如，给定单词列表<code> [&quot;Hello&quot;,&quot;World&quot;]</code>，你想要返回列表<code>[&quot;H&quot;,&quot;e&quot;,&quot;l&quot;, &quot;o&quot;,&quot;W&quot;,&quot;r&quot;,&quot;d&quot;]</code></p>
<h4 id="java-1"><a href="#java-1" class="headerlink" title="java"></a>java</h4><p><code>&lt;R&gt; Stream&lt;R&gt; flatMap(Function&lt;? super T, ? extends Stream&lt;? extends R&gt;&gt; mapper); </code></p>
<p><code>R apply(T t);</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; strings = Arrays.asList(<span class="string">&quot;Hello&quot;</span>,<span class="string">&quot;World&quot;</span>);</span><br><span class="line">strings.stream().map(o -&gt; o.split(<span class="string">&quot;&quot;</span>))</span><br><span class="line">        .flatMap(Arrays::stream)</span><br><span class="line">        .forEach(System.out::println);</span><br><span class="line">====</span><br><span class="line">H</span><br><span class="line">e</span><br><span class="line">l</span><br><span class="line">l</span><br><span class="line">o</span><br><span class="line">W</span><br><span class="line">o</span><br><span class="line">r</span><br><span class="line">l</span><br><span class="line">d        </span><br></pre></td></tr></table></figure>

<h4 id="JS-2"><a href="#JS-2" class="headerlink" title="JS"></a>JS</h4><p><code>arr.flatMap(function callback(currentValue[, index[, array]]) &#123;&#125;[, thisArg])</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> string = [<span class="string">&quot;Hello&quot;</span>,<span class="string">&quot;World&quot;</span>]</span><br><span class="line">string.flatMap( <span class="function"><span class="params">o</span> =&gt;</span> o.split(<span class="string">&quot;&quot;</span>)).forEach(<span class="function"><span class="params">o</span> =&gt;</span><span class="built_in">console</span>.log(<span class="string">&#x27;out :%s&#x27;</span>,o))</span><br><span class="line"></span><br><span class="line">=====</span><br><span class="line">out :H</span><br><span class="line"><span class="attr">out</span> :e</span><br><span class="line"><span class="attr">out</span> :l</span><br><span class="line"><span class="attr">out</span> :l</span><br><span class="line"><span class="attr">out</span> :o</span><br><span class="line"><span class="attr">out</span> :W</span><br><span class="line"><span class="attr">out</span> :o</span><br><span class="line"><span class="attr">out</span> :r</span><br><span class="line"><span class="attr">out</span> :l</span><br><span class="line"><span class="attr">out</span> :d</span><br></pre></td></tr></table></figure>

<p>当然这里<code>JS </code>提供了<code>flat</code>方法可以默认展开数组,flat() 方法会按照一个<code>可指定的深度</code>递归遍历数组，并将所有元素与遍历到的子数组中的元素合并为一个新数组返回。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>]]].flat()</span><br><span class="line"><span class="comment">// [1, 2, 3, [4, 5]]</span></span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>]]].flat(<span class="number">2</span>)</span><br><span class="line"><span class="comment">// [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>


<h3 id="slice-limit-截断"><a href="#slice-limit-截断" class="headerlink" title="slice|limit 截断"></a>slice|limit 截断</h3><p><code>截断流</code>：该方法会返回一个不超过给定长度的流。所需的长度作为参数传递 给<code>limit</code>。如果流是有序的，则多会返回<code>前n个元素</code>。</p>
<p>通过<code>截断流</code>我们可以看到<code>Java的JavaScript在Stream上本质的不同</code>，Java通过Stream 对象本身<code>OP_MASK</code>属性来截断,而JS没有实际意义上的Stream对象， 但是可以通过<code>filter结合index</code>来完成，或者使用<code>slice</code>，</p>
<h4 id="java-2"><a href="#java-2" class="headerlink" title="java"></a>java</h4><p><code>Stream&lt;T&gt; limit(long maxSize);</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list  = Arrays.asList(<span class="number">12</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>);</span><br><span class="line">list.stream().limit(<span class="number">2</span>).forEach(System.out::println);</span><br><span class="line">=====</span><br><span class="line"><span class="number">12</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="JS-3"><a href="#JS-3" class="headerlink" title="JS"></a>JS</h4><p>JS 的截断处理可以使用<code>slice</code>，或者通过<code>filter结合index</code>来完成</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> users = [&#123; <span class="attr">name</span>: <span class="string">&quot;毋意&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202201&quot;</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&quot;毋必&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202202&quot;</span> &#125;, </span><br><span class="line">             &#123; <span class="attr">name</span>: <span class="string">&quot;毋固&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202203&quot;</span> &#125;,&#123; <span class="attr">name</span>: <span class="string">&quot;毋我&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202204&quot;</span> &#125;]   </span><br><span class="line">users.slice(<span class="number">0</span>,<span class="number">2</span>).forEach(<span class="function"><span class="params">o</span> =&gt;</span><span class="built_in">console</span>.log(<span class="string">&#x27;out :%s&#x27;</span>,o))</span><br><span class="line"></span><br><span class="line">======================================</span><br><span class="line">out :&#123; <span class="attr">name</span>: <span class="string">&#x27;毋意&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;202201&#x27;</span> &#125;</span><br><span class="line"><span class="attr">out</span> :&#123; <span class="attr">name</span>: <span class="string">&#x27;毋必&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;202202&#x27;</span> &#125;</span><br><span class="line"></span><br><span class="line">users.filter(<span class="function">(<span class="params">_, i</span>) =&gt;</span> i &lt;= <span class="number">1</span>).forEach(<span class="function"><span class="params">o</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;out :%s&#x27;</span>, o))</span><br><span class="line">============</span><br><span class="line">out :&#123; <span class="attr">name</span>: <span class="string">&#x27;毋意&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;202201&#x27;</span> &#125;</span><br><span class="line"><span class="attr">out</span> :&#123; <span class="attr">name</span>: <span class="string">&#x27;毋必&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;202202&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>

<h3 id="sort-sorted-排序"><a href="#sort-sorted-排序" class="headerlink" title="sort|sorted 排序"></a>sort|sorted 排序</h3><p>排序，这个不多讲，</p>
<h4 id="java-3"><a href="#java-3" class="headerlink" title="java"></a>java</h4><p><code>Stream&lt;T&gt; sorted(Comparator&lt;? super T&gt; comparator);</code>  <code>int compare(T o1, T o2);</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list  = Arrays.asList(<span class="number">12</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>);</span><br><span class="line">list.stream()</span><br><span class="line">        .sorted( (o1,o2) -&gt; o1 &gt; o2 ? <span class="number">1</span> : (o1 &lt; o2 ? -<span class="number">1</span> : <span class="number">0</span> ))</span><br><span class="line">        .forEach(System.out::println);</span><br><span class="line">===========</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">12</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="JS-4"><a href="#JS-4" class="headerlink" title="JS"></a>JS</h4><p><code>arr.sort([compareFunction])</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> users = [&#123; <span class="attr">name</span>: <span class="string">&quot;毋意&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202201&quot;</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&quot;毋必&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202202&quot;</span> &#125;, </span><br><span class="line">             &#123; <span class="attr">name</span>: <span class="string">&quot;毋固&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202203&quot;</span> &#125;,&#123; <span class="attr">name</span>: <span class="string">&quot;毋我&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202204&quot;</span> &#125;]  </span><br><span class="line">users.map(<span class="function"><span class="params">o</span> =&gt;</span> &#123; <span class="keyword">return</span> &#123; <span class="attr">name</span>: o.name, <span class="attr">value</span>: +o.value &#125; &#125;)</span><br><span class="line">     .sort(<span class="function">(<span class="params">o1, o2</span>) =&gt;</span> o1.value &gt; o2.value ? -<span class="number">1</span> : (o1.value &lt; o2.value ? <span class="number">1</span> : <span class="number">0</span>))</span><br><span class="line">     .forEach(<span class="function"><span class="params">o</span> =&gt;</span> <span class="built_in">console</span>.log(o))</span><br><span class="line">==================================</span><br><span class="line">&#123; <span class="attr">name</span>: <span class="string">&#x27;毋我&#x27;</span>, <span class="attr">value</span>: <span class="number">202204</span> &#125;</span><br><span class="line">&#123; <span class="attr">name</span>: <span class="string">&#x27;毋固&#x27;</span>, <span class="attr">value</span>: <span class="number">202203</span> &#125;</span><br><span class="line">&#123; <span class="attr">name</span>: <span class="string">&#x27;毋必&#x27;</span>, <span class="attr">value</span>: <span class="number">202202</span> &#125;</span><br><span class="line">&#123; <span class="attr">name</span>: <span class="string">&#x27;毋意&#x27;</span>, <span class="attr">value</span>: <span class="number">202201</span> &#125;     </span><br></pre></td></tr></table></figure>

<h3 id="distinct-去重"><a href="#distinct-去重" class="headerlink" title="distinct 去重"></a>distinct 去重</h3><p>筛选不同的元素：java流支持一个叫作distinct的方法，它会返回一个元素各异(根据流所生成元素的 <code>hashCode和equals</code>方法实现)的流</p>
<h4 id="java-4"><a href="#java-4" class="headerlink" title="java"></a>java</h4><p><code>Stream&lt;T&gt; distinct();</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list  = Arrays.asList(<span class="number">12</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>);</span><br><span class="line">list.stream().distinct().forEach(System.out::println);</span><br><span class="line">=========</span><br><span class="line"><span class="number">12</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>

<h4 id="JS-5"><a href="#JS-5" class="headerlink" title="JS"></a>JS</h4><p>distinct是Stream本身的方法，JS没有类似的代替，不过可以转化为Set处理 </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">2</span>]</span><br><span class="line"><span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(numbers)).forEach(<span class="function"><span class="params">o</span> =&gt;</span> <span class="built_in">console</span>.log(o))</span><br></pre></td></tr></table></figure>
<p>Set 内部判断两个值是否不同，使用的算法叫做<code>“Same-value-zero equality”</code>，它类似于精确相等运算符<code>(===)</code>，主要的区别是向 Set 加入值时认为NaN等于自身，而精确相等运算符认为NaN不等于自身。set 中两个对象总是不相等的。</p>
<h3 id="skip-跳过"><a href="#skip-跳过" class="headerlink" title="skip 跳过"></a>skip 跳过</h3><p><code>跳过元素</code>：返回一个扔掉了前n个元素的流。如果流中元素不足n个，则返回一个空流。请注意，<code>limit(n)和skip(n)是互补的</code></p>
<h4 id="java-5"><a href="#java-5" class="headerlink" title="java"></a>java</h4><p><code>Stream&lt;T&gt; skip(long n);</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list  = Arrays.asList(<span class="number">12</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>);</span><br><span class="line">list.stream().skip(<span class="number">2</span>).forEach(System.out::println);</span><br><span class="line">==================</span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="JS-6"><a href="#JS-6" class="headerlink" title="JS"></a>JS</h4><p>Js 中可以通过<code>slice</code>方法来实现</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> users = [&#123; <span class="attr">name</span>: <span class="string">&quot;毋意&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202201&quot;</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&quot;毋必&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202202&quot;</span> &#125;, </span><br><span class="line">             &#123; <span class="attr">name</span>: <span class="string">&quot;毋固&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202203&quot;</span> &#125;,&#123; <span class="attr">name</span>: <span class="string">&quot;毋我&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202204&quot;</span> &#125;] </span><br><span class="line">users.slice(<span class="number">2</span>).forEach(<span class="function"><span class="params">o</span> =&gt;</span> <span class="built_in">console</span>.log(o))             </span><br><span class="line">=========</span><br><span class="line">&#123; <span class="attr">name</span>: <span class="string">&#x27;毋固&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;202203&#x27;</span> &#125;</span><br><span class="line">&#123; <span class="attr">name</span>: <span class="string">&#x27;毋我&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;202204&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="group-x2F-groupToMap-groupingBy-分组"><a href="#group-x2F-groupToMap-groupingBy-分组" class="headerlink" title="group&#x2F;groupToMap|groupingBy 分组"></a>group&#x2F;groupToMap|groupingBy 分组</h3><p>分组操作的结果是一个<code>Map</code>，把<code>分组函数返回的值作为映射的键</code>，把流中所有具有这个分类值的项目的列表作为对应的<code>映射值</code>。</p>
<h4 id="java-6"><a href="#java-6" class="headerlink" title="java"></a>java</h4><p>Java 的分组通过Stream API 的<code>collect</code>方法传递<code>Collector</code>静态方法<code>groupingBy</code>，该方法传递了一个<code>Function</code>(以方法引用的形式)我们把这个Function叫作分类函数，因为它用来把流中的元素分成不同的组。</p>
<p><code>&lt;R, A&gt; R collect(Collector&lt;? super T, A, R&gt; collector);</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T, K, A, D&gt;</span><br><span class="line">    Collector&lt;T, ?, Map&lt;K, D&gt;&gt; groupingBy(Function&lt;? <span class="keyword">super</span> T, ? extends K&gt; classifier,</span><br><span class="line">                                      Collector&lt;? <span class="keyword">super</span> T, A, D&gt; downstream) &#123;</span><br><span class="line">    <span class="keyword">return</span> groupingBy(classifier, HashMap::<span class="keyword">new</span>, downstream);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Function</span>&lt;<span class="title">T</span>, <span class="title">R</span>&gt; </span>&#123;</span><br><span class="line">      <span class="function">R <span class="title">apply</span><span class="params">(T t)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>这块涉及的API蛮多的，不但可以分组，也可以分区，这里简单介绍几个，感兴趣小伙伴可以去看看API文档</p>
<p><code>getter分组</code>  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//getter分组 </span></span><br><span class="line">List&lt;String&gt; lists  = Arrays.asList(<span class="string">&quot;123&quot;</span>, <span class="string">&quot;123&quot;</span>, <span class="string">&quot;456&quot;</span>, <span class="string">&quot;789&quot;</span>);</span><br><span class="line">lists.stream().collect(Collectors.groupingBy(String::hashCode))</span><br><span class="line">              .forEach((o1,o2) -&gt; System.out.printf(<span class="string">&quot;%s:%s\n&quot;</span>,o1,o2));</span><br><span class="line">==========</span><br><span class="line"><span class="number">48690</span>:[<span class="number">123</span>, <span class="number">123</span>]</span><br><span class="line"><span class="number">51669</span>:[<span class="number">456</span>]</span><br><span class="line"><span class="number">54648</span>:[<span class="number">789</span>]</span><br></pre></td></tr></table></figure>
<p><code>自定义逻辑分组</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2.自定义逻辑分组</span></span><br><span class="line">List&lt;String&gt; lists  = Arrays.asList(<span class="string">&quot;123&quot;</span>, <span class="string">&quot;1234&quot;</span>, <span class="string">&quot;4564&quot;</span>, <span class="string">&quot;789&quot;</span>);</span><br><span class="line">lists.stream().collect(Collectors.groupingBy( o -&gt; o.length()))</span><br><span class="line">              .forEach((o1,o2) -&gt; System.out.printf(<span class="string">&quot;%s:%s\n&quot;</span>,o1,o2));</span><br><span class="line">=========</span><br><span class="line"><span class="number">3</span>:[<span class="number">123</span>, <span class="number">789</span>]</span><br><span class="line"><span class="number">4</span>:[<span class="number">1234</span>, <span class="number">4564</span>]</span><br></pre></td></tr></table></figure>
<p><code>多级分组展示</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 多级分组</span></span><br><span class="line">List&lt;String&gt; list_  = Arrays.asList(<span class="string">&quot;123&quot;</span>, <span class="string">&quot;1234&quot;</span>, <span class="string">&quot;4564&quot;</span>, <span class="string">&quot;1234&quot;</span>);</span><br><span class="line">list_.stream().collect(</span><br><span class="line">        Collectors.groupingBy(o -&gt; o.length()</span><br><span class="line">                , Collectors.groupingBy(o1 -&gt; o1.hashCode())))</span><br><span class="line">        .forEach((o1,o2) -&gt;&#123;</span><br><span class="line">            System.out.printf(<span class="string">&quot;--length：%s\n&quot;</span>,o1);</span><br><span class="line">            o2.forEach((o3,o4) -&gt;System.out.printf(<span class="string">&quot; |-hashCode：%s:%s\n&quot;</span>,o3,o4));</span><br><span class="line">        &#125;);</span><br><span class="line">========</span><br><span class="line">--length：<span class="number">3</span></span><br><span class="line"> |-hashCode：<span class="number">48690</span>:[<span class="number">123</span>]</span><br><span class="line">--length：<span class="number">4</span></span><br><span class="line"> |-hashCode：<span class="number">1509442</span>:[<span class="number">1234</span>, <span class="number">1234</span>]</span><br><span class="line"> |-hashCode：<span class="number">1601791</span>:[<span class="number">4564</span>]        </span><br></pre></td></tr></table></figure>
<p><code>分组统计</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list_  = Arrays.asList(<span class="string">&quot;123&quot;</span>, <span class="string">&quot;1234&quot;</span>, <span class="string">&quot;4564&quot;</span>, <span class="string">&quot;1234&quot;</span>);</span><br><span class="line">list_.stream().collect(</span><br><span class="line">        Collectors.groupingBy(o -&gt; o.length()</span><br><span class="line">                , Collectors.groupingBy(o1 -&gt; o1.hashCode()</span><br><span class="line">                        , Collectors.counting())))</span><br><span class="line">        .forEach((o1,o2) -&gt;&#123;</span><br><span class="line">            System.out.printf(<span class="string">&quot;--length：%s\n&quot;</span>,o1);</span><br><span class="line">            o2.forEach((o3,o4) -&gt;System.out.printf(<span class="string">&quot; |-hashCode：%s:sum：%s\n&quot;</span>,o3,o4));</span><br><span class="line">        &#125;);</span><br><span class="line">==========</span><br><span class="line">--length：<span class="number">3</span></span><br><span class="line"> |-hashCode：<span class="number">48690</span>:sum：<span class="number">1</span></span><br><span class="line">--length：<span class="number">4</span></span><br><span class="line"> |-hashCode：<span class="number">1509442</span>:sum：<span class="number">2</span></span><br><span class="line"> |-hashCode：<span class="number">1601791</span>:sum：<span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><code>把收集器的结果转换为另一种类型</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 把收集器的结果转换为另一种类型，按照长度排序得到最大值，然后给Optional修饰</span></span><br><span class="line">List&lt;String&gt; list_  = Arrays.asList(<span class="string">&quot;123&quot;</span>, <span class="string">&quot;1234&quot;</span>, <span class="string">&quot;4564&quot;</span>, <span class="string">&quot;1234&quot;</span>);</span><br><span class="line">list_.stream().collect(</span><br><span class="line">        Collectors.groupingBy(o -&gt; o.length()</span><br><span class="line">                , Collectors.groupingBy(o1 -&gt; o1.hashCode()</span><br><span class="line">                        , Collectors.collectingAndThen(</span><br><span class="line">                                Collectors.maxBy(</span><br><span class="line">                                        Comparator.comparingInt(String::length))</span><br><span class="line">                , Optional::get))))</span><br><span class="line">        .forEach((o1,o2) -&gt;&#123;</span><br><span class="line">    System.out.printf(<span class="string">&quot;--length：%s\n&quot;</span>,o1);</span><br><span class="line">    o2.forEach((o3,o4) -&gt;System.out.printf(<span class="string">&quot; |-hashCode：%s:max：%s\n&quot;</span>,o3,o4));</span><br><span class="line">&#125;);</span><br><span class="line">=========</span><br><span class="line">--length：<span class="number">3</span></span><br><span class="line"> |-hashCode：<span class="number">48690</span>:max：<span class="number">123</span></span><br><span class="line">--length：<span class="number">4</span></span><br><span class="line"> |-hashCode：<span class="number">1509442</span>:max：<span class="number">1234</span></span><br><span class="line"> |-hashCode：<span class="number">1601791</span>:max：<span class="number">4564</span></span><br></pre></td></tr></table></figure>
<h4 id="JS-7"><a href="#JS-7" class="headerlink" title="JS"></a>JS</h4><p>JavaScript 新增了数组实例方法<code>group()和groupToMap()</code>，可以根据分组函数的运行结果，将数组成员分组。目前还是一个提案，需要考虑浏览器兼容，按照字符串分组就使用<code>group()</code>，按照对象分组就使用<code>groupToMap()</code>。所以<code>groupToMap()</code>和Java的分组很类似。<br><img src="https://img-blog.csdnimg.cn/2bb64a0b59c4453687cde4df26cf877a.png" alt="在这里插入图片描述"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Experimental: This is an experimental technology</span><br><span class="line">Check the Browser compatibility table carefully before using this in production.</span><br></pre></td></tr></table></figure>
<p><code>group(function(element, index, array) &#123;&#125;, thisArg)</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">array.group(<span class="function">(<span class="params">num, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> num % <span class="number">2</span> === <span class="number">0</span> ? <span class="string">&#x27;even&#x27;</span>: <span class="string">&#x27;odd&#x27;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// &#123; odd: [1, 3, 5], even: [2, 4] &#125;</span></span><br></pre></td></tr></table></figure>
<p><code>groupToMap(function(element, index, array) &#123; &#125;, thisArg)</code></p>
<p>groupToMap()的作用和用法与group()完全一致，唯一的区别是返回值是一个<code> Map 结构</code>，而不是<code>对象</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> odd  = &#123; <span class="attr">odd</span>: <span class="literal">true</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> even = &#123; <span class="attr">even</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">array.groupToMap(<span class="function">(<span class="params">num, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> num % <span class="number">2</span> === <span class="number">0</span> ? even: odd;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//  Map &#123; &#123;odd: true&#125;: [1, 3, 5], &#123;even: true&#125;: [2, 4] &#125;</span></span><br></pre></td></tr></table></figure>
<p><code>如果分组函数是一个箭头函数，thisArg对象无效，因为箭头函数内部的this是固化的</code>，类似于Ajax回调内部的this。</p>
<h3 id="forEach-消费"><a href="#forEach-消费" class="headerlink" title="forEach 消费"></a>forEach 消费</h3><p>forEach 这个不多讲,用于消费</p>
<h4 id="java-7"><a href="#java-7" class="headerlink" title="java"></a>java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list_  = Arrays.asList(<span class="string">&quot;123&quot;</span>, <span class="string">&quot;1234&quot;</span>, <span class="string">&quot;4564&quot;</span>, <span class="string">&quot;1234&quot;</span>);</span><br><span class="line">list_.forEach(System.out::print);</span><br><span class="line">==============</span><br><span class="line"><span class="number">123123445641234</span></span><br></pre></td></tr></table></figure>

<h4 id="JS-8"><a href="#JS-8" class="headerlink" title="JS"></a>JS</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">let users = [&#123; name: <span class="string">&quot;毋意&quot;</span>, value: <span class="string">&quot;202201&quot;</span> &#125;, &#123; name: <span class="string">&quot;毋必&quot;</span>, value: <span class="string">&quot;202202&quot;</span> &#125;,</span><br><span class="line">             &#123; name: <span class="string">&quot;毋固&quot;</span>, value: <span class="string">&quot;202203&quot;</span> &#125;, &#123; name: <span class="string">&quot;毋我&quot;</span>, value: <span class="string">&quot;202204&quot;</span> &#125;]</span><br><span class="line"></span><br><span class="line">users.forEach(o =&gt; console.log(o))</span><br><span class="line">===========</span><br><span class="line">&#123; name: <span class="string">&#x27;毋意&#x27;</span>, value: <span class="string">&#x27;202201&#x27;</span> &#125;</span><br><span class="line">&#123; name: <span class="string">&#x27;毋必&#x27;</span>, value: <span class="string">&#x27;202202&#x27;</span> &#125;</span><br><span class="line">&#123; name: <span class="string">&#x27;毋固&#x27;</span>, value: <span class="string">&#x27;202203&#x27;</span> &#125;</span><br><span class="line">&#123; name: <span class="string">&#x27;毋我&#x27;</span>, value: <span class="string">&#x27;202204&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="count-统计"><a href="#count-统计" class="headerlink" title="count 统计"></a>count 统计</h3><p>count 也不多讲</p>
<h4 id="java-8"><a href="#java-8" class="headerlink" title="java"></a>java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; lists_ = Arrays.asList(<span class="string">&quot;123&quot;</span>, <span class="string">&quot;1234&quot;</span>, <span class="string">&quot;4564&quot;</span>, <span class="string">&quot;1234&quot;</span>);</span><br><span class="line"><span class="comment">// 统计数据量</span></span><br><span class="line">System.out.println(lists_.stream().collect(Collectors.counting()));</span><br><span class="line"><span class="comment">// 简单写法：</span></span><br><span class="line">System.out.println(lists_.stream().count());</span><br><span class="line">=========</span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>
<h4 id="JS-9"><a href="#JS-9" class="headerlink" title="JS"></a>JS</h4><p>在JS中没有对应的方法，不过Set和Map有对应的API，Array的可以使用<code>Array.prototype.length</code></p>
<h3 id="reduce-归约"><a href="#reduce-归约" class="headerlink" title="reduce 归约"></a>reduce 归约</h3><p>把数据源中的元素反复结合起来，得到一个值，即将流归约为一个值，用函数式编程语言叫折叠</p>
<h4 id="java-9"><a href="#java-9" class="headerlink" title="java"></a>java</h4><p>Java 中的归约分为两种，一种为有初值的归约，一种为没有初值的归约。有初值的返回初值类型，没初值的返回一个Options</p>
<p><code>T reduce(T identity, BinaryOperator&lt;T&gt; accumulator);</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; numbers1 = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">34</span>, <span class="number">5</span>, <span class="number">6</span>);</span><br><span class="line"><span class="comment">// 元素求和</span></span><br><span class="line"><span class="keyword">int</span> set = numbers1.stream().reduce(<span class="number">0</span>,(a,b) -&gt; a + b);</span><br><span class="line"><span class="comment">// 改进</span></span><br><span class="line">set = numbers1.stream().reduce(<span class="number">0</span>, Integer::sum);</span><br></pre></td></tr></table></figure>
<p><code>Optional&lt;T&gt; reduce(BinaryOperator&lt;T&gt; accumulator)</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; numbers1 = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">34</span>, <span class="number">5</span>, <span class="number">6</span>);</span><br><span class="line"><span class="comment">//元素求最大值</span></span><br><span class="line"><span class="keyword">int</span> set = numbers1.stream().reduce(Integer::max).get();</span><br><span class="line"><span class="comment">// 元素求最小值</span></span><br><span class="line">set = numbers1.stream().reduce(Integer::min).get();</span><br><span class="line"></span><br><span class="line">List&lt;String&gt; lists_ = Arrays.asList(<span class="string">&quot;123&quot;</span>, <span class="string">&quot;1234&quot;</span>, <span class="string">&quot;4564&quot;</span>, <span class="string">&quot;1234&quot;</span>);</span><br><span class="line">System.out.println(lists_.stream().reduce((o1, o2) -&gt; o1 + <span class="string">&#x27;,&#x27;</span> + o2).get());</span><br><span class="line">==========</span><br><span class="line"><span class="number">123</span>,<span class="number">1234</span>,<span class="number">4564</span>,<span class="number">1234</span></span><br></pre></td></tr></table></figure>

<h4 id="JS-10"><a href="#JS-10" class="headerlink" title="JS"></a>JS</h4><p><code>reduce((previousValue, currentValue, currentIndex, array) =&gt; &#123;&#125;,initialValue)</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> users = [&#123; <span class="attr">name</span>: <span class="string">&quot;毋意&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202201&quot;</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&quot;毋必&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202202&quot;</span> &#125;,</span><br><span class="line">             &#123; <span class="attr">name</span>: <span class="string">&quot;毋固&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202203&quot;</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&quot;毋我&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202204&quot;</span> &#125;]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> zy = users.map(<span class="function"><span class="params">o</span> =&gt;</span> o.name).reduce( <span class="function">(<span class="params">o1,o2</span>) =&gt;</span> o1+<span class="string">&#x27;,&#x27;</span>+o2)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;子曰：子绝四，&quot;</span>,zy)</span><br><span class="line">======</span><br><span class="line">子曰：子绝四， 毋意,毋必,毋固,毋我</span><br></pre></td></tr></table></figure>

<h3 id="every-x2F-some-anyMatch-x2F-allMatch-x2F-noneMatch-谓词"><a href="#every-x2F-some-anyMatch-x2F-allMatch-x2F-noneMatch-谓词" class="headerlink" title="every&#x2F;some|anyMatch&#x2F;allMatch&#x2F;noneMatch 谓词"></a>every&#x2F;some|anyMatch&#x2F;allMatch&#x2F;noneMatch 谓词</h3><p>所谓 <code>谓词</code>,即是否有满足条件的存在，返回一个布尔值。和filter特别像，只不过一个是中间操作，一个终端操作。</p>
<h4 id="java-10"><a href="#java-10" class="headerlink" title="java"></a>java</h4><p>Java中检查谓词是否<code>至少匹配一个元素</code> ，使用<code>anyMatch</code>方法，即流中是否有一个元素能匹配给定谓词。<code>boolean anyMatch(Predicate&lt;? super T&gt; predicate);</code></p>
<p>使用<code>allMatch</code>方法，即<code>流中都能匹配所有元素返回ture</code>, <code>boolean allMatch(Predicate&lt;? super T&gt; predicate);</code></p>
<p>使用<code>noneMatch</code>方法，即<code>流中都不能匹配所有元素返回true</code>, <code>boolean noneMatch(Predicate&lt;? super T&gt; predicate);</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; numbers = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>);</span><br><span class="line">System.out.println(numbers.stream().anyMatch(o -&gt; o &gt; <span class="number">5</span>)); </span><br><span class="line"><span class="comment">//true</span></span><br><span class="line">System.out.println(numbers.stream().allMatch(o -&gt; o &gt; <span class="number">0</span>)); </span><br><span class="line"><span class="comment">//true</span></span><br><span class="line">System.out.println(numbers.stream().noneMatch(o -&gt; o &lt; <span class="number">0</span>)); </span><br><span class="line"><span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h4 id="JS-11"><a href="#JS-11" class="headerlink" title="JS"></a>JS</h4><p><code>every()</code>方法测试数组中的<code>所有元素是否通过提供的函数实现的测试</code>, <code>every((element, index, array) =&gt; &#123; /* ... */ &#125; )</code></p>
<p><code>some()</code>方法测试数组中的<code>至少一个元素是否通过了提供的函数实现的测试</code>, <code>some((element, index, array) =&gt; &#123; /* ... */ &#125; )</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> boo = <span class="built_in">Array</span>.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>).every(<span class="function"><span class="params">o</span> =&gt;</span> o &gt;<span class="number">5</span>)</span><br><span class="line"><span class="built_in">console</span>.log(boo) <span class="comment">//false</span></span><br><span class="line">boo = <span class="built_in">Array</span>.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>).some(<span class="function"><span class="params">o</span> =&gt;</span> o &gt;<span class="number">5</span>)</span><br><span class="line"><span class="built_in">console</span>.log(boo) <span class="comment">//true</span></span><br></pre></td></tr></table></figure>


<h3 id="findLast-findLastIndex-x2F-find-findIndex-findAny-x2F-findFirst-查找"><a href="#findLast-findLastIndex-x2F-find-findIndex-findAny-x2F-findFirst-查找" class="headerlink" title="findLast(findLastIndex)&#x2F;find(findIndex)|findAny&#x2F;findFirst 查找"></a>findLast(findLastIndex)&#x2F;find(findIndex)|findAny&#x2F;findFirst 查找</h3><p><code>查找元素</code>：返回当前流的任意元素。</p>
<h4 id="java-11"><a href="#java-11" class="headerlink" title="java"></a>java</h4><ul>
<li><code>findAny()</code>方法返回当前流的任意元素</li>
<li><code>findFirst()</code>方法返回当前流的第一个元素。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; numbers = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>);</span><br><span class="line">System.out.println(numbers.stream().findAny().get()); <span class="comment">//1</span></span><br><span class="line">System.out.println(numbers.stream().findFirst().get()); <span class="comment">//1</span></span><br></pre></td></tr></table></figure>
<h4 id="JS-12"><a href="#JS-12" class="headerlink" title="JS"></a>JS</h4><ul>
<li><code>find()</code>方法返回提供的数组中满足提供的测试功能的<code>第一个元素</code></li>
<li><code>findIndex()</code>方法返回满足提供的测试功能的数组中<code>第一个元素的索引</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> users = [&#123; <span class="attr">name</span>: <span class="string">&quot;毋意&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202201&quot;</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&quot;毋必&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202202&quot;</span> &#125;,</span><br><span class="line">&#123; <span class="attr">name</span>: <span class="string">&quot;毋固&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202203&quot;</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&quot;毋我&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;202204&quot;</span> &#125;]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = users.find(<span class="function"><span class="params">o</span> =&gt;</span> o.name === <span class="string">&quot;毋固&quot;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(user) <span class="comment">//&#123; name: &#x27;毋固&#x27;, value: &#x27;202203&#x27; &#125;</span></span><br><span class="line"><span class="keyword">let</span> useri = users.findIndex(<span class="function"><span class="params">o</span> =&gt;</span> o.name === <span class="string">&quot;毋固&quot;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(useri) <span class="comment">//2</span></span><br></pre></td></tr></table></figure>
<p>这两个为ES2022 新增，当前Node版本不支持</p>
<p><img src="https://img-blog.csdnimg.cn/654253c74d9047be839090e203231d67.png" alt="在这里插入图片描述"></p>
<ul>
<li><code>findLast()</code>方法返回满足提供的测试功能的数组中<code>最后一个元素的值</code></li>
<li><code>findLastIndex()</code>方法返回满足提供的测试功能的数组中<code>最后一个元素的索引</code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">user = users.findLast(<span class="function"><span class="params">o</span> =&gt;</span> o.name === <span class="string">&quot;毋固&quot;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(user) </span><br><span class="line">useri = users.findLastIndex(<span class="function"><span class="params">o</span> =&gt;</span> o.name === <span class="string">&quot;毋固&quot;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(useri) </span><br></pre></td></tr></table></figure></li>
</ul>
<p>嗯，时间关系，关于对比就分享到这啦，其实还有好多，比如<code>Stream API </code>的<code>收集器</code>等，还有好多<code>奇技淫巧</code>，感兴趣小伙伴可以看看下的书籍和网站</p>
<h2 id="博文参考"><a href="#博文参考" class="headerlink" title="博文参考"></a>博文参考</h2><hr>
<ul>
<li><code>《Java8 实战》</code></li>
<li><code>《ECMAScript 6 入门教程》</code></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects&#x2F;Array</a></li>
<li><a target="_blank" rel="noopener" href="https://tc39.es/ecma262/#sec-array-objects">https://tc39.es/ecma262/#sec-array-objects</a></li>
<li><a target="_blank" rel="noopener" href="https://tc39.es/zh-Hans/">https://tc39.es/zh-Hans/</a></li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>关于Java&amp;JavaScript中(伪)Stream式API对比的一些笔记</p><p><a href="https://liruilongs.github.io/2022/07/16/Java/关于 Java&amp;JavaScript中Stream式API对比的一些笔记/">https://liruilongs.github.io/2022/07/16/Java/关于 Java&amp;JavaScript中Stream式API对比的一些笔记/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><a href="https://liruilongs.github.io"><p>山河已无恙</p></a></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2022-07-16</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2023-06-21</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="recommend-area"><div class="recommend-post"><span class="is-size-6 has-text-grey has-mr-7"># 推荐文章</span><br><span>  1.<a class="is-size-6" href="/2021/08/27/K8s/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%8AKubernetes%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97-%E4%BB%8EDocker%E5%88%B0Kubernetes%E5%AE%9E%E8%B7%B5%E5%85%A8%E6%8E%A5%E8%A7%A6%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" target="_blank">《Kubernetes权威指南:从Docker到Kubernetes实践全接触》读书笔记</a><br></span><span>  2.<a class="is-size-6" href="/2020/07/30/Java/Java%E4%B8%ADtry%7B%7Dcatch%E7%9A%84%E9%9A%90%E8%97%8F(%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%BC%82%E5%B8%B8%E5%9D%97)/" target="_blank">Java中try{}catch的隐藏(如何优雅的实现异常块)</a><br></span><span>  3.<a class="is-size-6" href="/2021/07/04/Java/%E3%80%8A%E5%88%86%E5%B8%83%E5%BC%8F%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AE%9E%E8%B7%B5%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" target="_blank">《分布式消息中间件实践》 读书笔记</a><br></span><span>  4.<a class="is-size-6" href="/2021/07/01/Java/%E3%80%8A%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" target="_blank">《微服务架构设计模式》读书笔记</a><br></span><span>  5.<a class="is-size-6" href="/2022/02/11/Java/%E3%80%90JAVA%E5%86%B7%E7%9F%A5%E8%AF%86%E3%80%91JAVA%E7%9C%9F%E7%9A%84%E4%B8%8D%E6%94%AF%E6%8C%81%E5%A4%9A%E7%BB%A7%E6%89%BF%E5%90%97%EF%BC%9F%E7%94%A8%E5%86%85%E9%83%A8%E7%B1%BB%E5%8E%BB%E5%AE%9E%E7%8E%B0%E5%AE%83%E5%90%A7%EF%BC%81/" target="_blank">【JAVA冷知识】JAVA居然支持多继承吗？让我们用内部类去吧</a><br></span><span>  6.<a class="is-size-6" href="/2022/02/11/Java/%E3%80%90JAVA%E5%86%B7%E7%9F%A5%E8%AF%86%E3%80%91%E4%BB%80%E4%B9%88%E6%98%AF%E9%80%86%E5%8F%98(contravariant)&amp;%E5%8D%8F%E5%8F%98(covariant)%EF%BC%9F%E6%95%B0%E7%BB%84%E6%94%AF%E6%8C%81%E5%8D%8F%E5%8F%98&amp;%E9%80%86%E5%8F%98%E5%90%97%EF%BC%9F%E6%B3%9B%E5%9E%8B%E5%91%A2%EF%BC%9F/" target="_blank">【JAVA冷知识】什么是逆变(contravariant)与协变(covariant)？数组支持协变&amp;逆变吗？泛型呢？</a><br></span></div></div><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/css/share.min.css"><div class="social-share"></div><script src="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/img/alipay%EF%BF%A5.png" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/img/wechat%EF%BF%A5.png" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2022/07/23/rhca/RH442/%E5%85%B3%E4%BA%8E%20Linux%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98%E4%B9%8B%E5%86%85%E5%AD%98%E8%B4%9F%E8%BD%BD%E8%B0%83%E4%BC%98/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">关于Linux性能调优之内存负载调优</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2022/07/12/Python/Python%E5%AE%9E%E6%88%98%E4%B9%8B%E5%87%BD%E6%95%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/"><span class="level-item">Python实战之函数的一些奇技淫巧</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--><div class="card"><div class="card-content"><div class="title is-5">评论</div><div id="comment-container"></div><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/gitalk/1.6.0/gitalk.css"><script> $.getScript('/js/gitalk.min.js', function () { 
            var gitalk = new Gitalk({
            language:'zh-CN',
            id: '1f5b1701bacae5df548b9f303d88cb9c',
            repo: 'blog_comment',
            owner: 'LIRUILONGS',
            clientID: '9fdc9739266d48d5f62e',
            clientSecret: 'c1cc33697d099a2197650ec9dadcb16bd4904655',
            admin: ["LIRUILONGS"],
            createIssueManually: true,
            distractionFreeMode: true,
            perPage: 10,
            pagerDirection: 'last',
            proxy: 'https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token',
            
            enableHotKey: true,
            isLocked: false
        })
        gitalk.render('comment-container')});</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="is-flex is-mobile" href="#写在前面"><span class="mr-2">1</span><span>写在前面</span></a></li><li><a class="is-flex is-mobile" href="#什么是流-Stream"><span class="mr-2">2</span><span>什么是流(Stream)</span></a></li><li><a class="is-flex is-mobile" href="#Java和JavaScript的Stream-Demo"><span class="mr-2">3</span><span>Java和JavaScript的Stream Demo</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#filter-筛选"><span class="mr-2">3.1</span><span>filter 筛选</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#Java"><span class="mr-2">3.1.1</span><span>Java</span></a></li><li><a class="is-flex is-mobile" href="#JS"><span class="mr-2">3.1.2</span><span>JS</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#map-映射"><span class="mr-2">3.2</span><span>map 映射</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#java"><span class="mr-2">3.2.1</span><span>java</span></a></li><li><a class="is-flex is-mobile" href="#JS-1"><span class="mr-2">3.2.2</span><span>JS</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#flatMap-扁平化"><span class="mr-2">3.3</span><span>flatMap 扁平化</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#java-1"><span class="mr-2">3.3.1</span><span>java</span></a></li><li><a class="is-flex is-mobile" href="#JS-2"><span class="mr-2">3.3.2</span><span>JS</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#slice-limit-截断"><span class="mr-2">3.4</span><span>slice|limit 截断</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#java-2"><span class="mr-2">3.4.1</span><span>java</span></a></li><li><a class="is-flex is-mobile" href="#JS-3"><span class="mr-2">3.4.2</span><span>JS</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#sort-sorted-排序"><span class="mr-2">3.5</span><span>sort|sorted 排序</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#java-3"><span class="mr-2">3.5.1</span><span>java</span></a></li><li><a class="is-flex is-mobile" href="#JS-4"><span class="mr-2">3.5.2</span><span>JS</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#distinct-去重"><span class="mr-2">3.6</span><span>distinct 去重</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#java-4"><span class="mr-2">3.6.1</span><span>java</span></a></li><li><a class="is-flex is-mobile" href="#JS-5"><span class="mr-2">3.6.2</span><span>JS</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#skip-跳过"><span class="mr-2">3.7</span><span>skip 跳过</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#java-5"><span class="mr-2">3.7.1</span><span>java</span></a></li><li><a class="is-flex is-mobile" href="#JS-6"><span class="mr-2">3.7.2</span><span>JS</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#group-x2F-groupToMap-groupingBy-分组"><span class="mr-2">3.8</span><span>group/groupToMap|groupingBy 分组</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#java-6"><span class="mr-2">3.8.1</span><span>java</span></a></li><li><a class="is-flex is-mobile" href="#JS-7"><span class="mr-2">3.8.2</span><span>JS</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#forEach-消费"><span class="mr-2">3.9</span><span>forEach 消费</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#java-7"><span class="mr-2">3.9.1</span><span>java</span></a></li><li><a class="is-flex is-mobile" href="#JS-8"><span class="mr-2">3.9.2</span><span>JS</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#count-统计"><span class="mr-2">3.10</span><span>count 统计</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#java-8"><span class="mr-2">3.10.1</span><span>java</span></a></li><li><a class="is-flex is-mobile" href="#JS-9"><span class="mr-2">3.10.2</span><span>JS</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#reduce-归约"><span class="mr-2">3.11</span><span>reduce 归约</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#java-9"><span class="mr-2">3.11.1</span><span>java</span></a></li><li><a class="is-flex is-mobile" href="#JS-10"><span class="mr-2">3.11.2</span><span>JS</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#every-x2F-some-anyMatch-x2F-allMatch-x2F-noneMatch-谓词"><span class="mr-2">3.12</span><span>every/some|anyMatch/allMatch/noneMatch 谓词</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#java-10"><span class="mr-2">3.12.1</span><span>java</span></a></li><li><a class="is-flex is-mobile" href="#JS-11"><span class="mr-2">3.12.2</span><span>JS</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#findLast-findLastIndex-x2F-find-findIndex-findAny-x2F-findFirst-查找"><span class="mr-2">3.13</span><span>findLast(findLastIndex)/find(findIndex)|findAny/findFirst 查找</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#java-11"><span class="mr-2">3.13.1</span><span>java</span></a></li><li><a class="is-flex is-mobile" href="#JS-12"><span class="mr-2">3.13.2</span><span>JS</span></a></li></ul></li></ul></li><li><a class="is-flex is-mobile" href="#博文参考"><span class="mr-2">4</span><span>博文参考</span></a></li></ul></div></div><style>.menu-list > li > a.is-active + .menu-list { display: block; }.menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="profile"><div class="card-content"><nav class=""><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7.jpg" alt="山河已无恙"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">山河已无恙</p><p class="is-size-6 is-block">爱自己，是终生浪漫的开始</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>中国·呼和浩特</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">307</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">100</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">151</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://liruilong.blog.csdn.net/?t=1&amp;type=blog" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/LIRUILONGS"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="CSDN" href="https://liruilong.blog.csdn.net/"><i class="fa fa-code"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:1224965096@qq.com"><i class="fa fa-envelope"></i></a></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://liruilong.blog.csdn.net/?t=1&amp;type=blog" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">CSDN</span></span><span class="level-right"><span class="level-item tag">liruilong.blog.csdn.net</span></span></a></li><li><a class="level is-mobile" href="https://www.cnblogs.com/liruilong/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">博客园</span></span><span class="level-right"><span class="level-item tag">www.cnblogs.com</span></span></a></li><li><a class="level is-mobile" href="https://github.com/LIRUILONGS" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Githup</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li><li><a class="level is-mobile" href="https://gitee.com/liruilonger" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">码云</span></span><span class="level-right"><span class="level-item tag">gitee.com</span></span></a></li></ul></div></div></div><!--!--><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-10-17T03:16:10.000Z">2023-10-16</time></p><p class="title"><a href="/2023/10/16/%E5%BE%85%E5%8F%91%E5%B8%83/%E6%95%B0%E6%8D%AE%E5%BA%8F%E5%88%97%E5%8C%96%E5%8D%8F%E8%AE%AE%20Protocol%20Buffers(Protobuf)%20%20%E8%AE%A4%E7%9F%A5/">数据序列化协议 Protocol Buffers(Protobuf)  认知</a></p><p class="categories"><a href="/categories/Protobuf/">Protobuf</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-10-12T07:00:05.000Z">2023-10-12</time></p><p class="title"><a href="/2023/10/12/%E5%BE%85%E5%8F%91%E5%B8%83/%E5%9F%BA%E4%BA%8E%20SpringBoot+Hikvision%20SDK%20%E8%BF%9C%E7%A8%8B%E6%9F%A5%E7%9C%8B%E9%85%8D%E7%BD%AE%E6%B5%B7%E5%BA%B7%E7%BD%91%E7%BB%9C%E6%91%84%E5%83%8F%E5%A4%B4%E9%85%8D%E7%BD%AE/">基于 SpringBoot+Hikvision SDK 远程查看配置海康网络摄像头配置</a></p><p class="categories"><a href="/categories/Hikvision/">Hikvision</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-10-12T05:42:16.000Z">2023-10-12</time></p><p class="title"><a href="/2023/10/12/%E5%BE%85%E5%8F%91%E5%B8%83/%E5%9F%BA%E4%BA%8E-AdaFace-%E6%8F%90%E4%BE%9B%E9%80%82%E5%90%88%E4%BD%8E%E8%B4%A8%E9%87%8F%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB%E7%9A%84%E8%BE%93%E5%87%BA%E4%BA%BA%E8%84%B8%E7%89%B9%E5%BE%81%E5%90%91%E9%87%8F%E6%9C%8D%E5%8A%A1/">基于 AdaFace 提供适合低质量人脸识别的人脸特征向量输出服务</a></p><p class="categories"><a href="/categories/%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/">人脸识别</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-10-10T12:11:56.000Z">2023-10-10</time></p><p class="title"><a href="/2023/10/10/AI&amp;%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/%E5%9F%BA%E4%BA%8E%20Mtcnn(%E4%BA%BA%E8%84%B8%E6%A3%80%E6%B5%8B)+Hopenet(%E5%A7%BF%E6%80%81%E6%A3%80%E6%B5%8B)+%E6%8B%89%E6%99%AE%E6%8B%89%E6%96%AF%E7%AE%97%E5%AD%90(%E6%A8%A1%E7%B3%8A%E5%BA%A6%E6%A3%80%E6%B5%8B)%20%E7%9A%84%E4%BA%BA%E8%84%B8%E6%A3%80%E6%B5%8B%E6%9C%8D%E5%8A%A1/">基于 Mtcnn(人脸检测)+Hopenet(姿态检测)+拉普拉斯算子(模糊度检测) 的人脸检测服务</a></p><p class="categories"><a href="/categories/%E4%BA%BA%E8%84%B8%E6%A3%80%E6%B5%8B/">人脸检测</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-10-07T11:32:37.000Z">2023-10-07</time></p><p class="title"><a href="/2023/10/07/%E5%BE%85%E5%8F%91%E5%B8%83/Linux-%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98%E4%B9%8B%E7%BD%91%E7%BB%9C%E4%BC%98%E5%8C%96/">Linux 性能调优之网络优化</a></p><p class="categories"><a href="/categories/Linux/">Linux</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/AdaFace/"><span class="level-start"><span class="level-item">AdaFace</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Ajax/"><span class="level-start"><span class="level-item">Ajax</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Ansible/"><span class="level-start"><span class="level-item">Ansible</span></span><span class="level-end"><span class="level-item tag">23</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/AppCube/"><span class="level-start"><span class="level-item">AppCube</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Bind9/"><span class="level-start"><span class="level-item">Bind9</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/CI-CD/"><span class="level-start"><span class="level-item">CI/CD</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/CSS/"><span class="level-start"><span class="level-item">CSS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Ceph/"><span class="level-start"><span class="level-item">Ceph</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/DAD-3DHeads/"><span class="level-start"><span class="level-item">DAD-3DHeads</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/DNS/"><span class="level-start"><span class="level-item">DNS</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><a class="level is-mobile is-marginless" href="/categories/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2023/10/"><span class="level-start"><span class="level-item">十月 2023</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2023/09/"><span class="level-start"><span class="level-item">九月 2023</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2023/08/"><span class="level-start"><span class="level-item">八月 2023</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2023/07/"><span class="level-start"><span class="level-item">七月 2023</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2023/06/"><span class="level-start"><span class="level-item">六月 2023</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><a class="level is-mobile is-marginless" href="/archives/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Kubernetes/"><span class="tag">Kubernetes</span><span class="tag is-grey-lightest">89</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag is-grey-lightest">30</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ansible/"><span class="tag">Ansible</span><span class="tag is-grey-lightest">25</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag is-grey-lightest">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ceph/"><span class="tag">Ceph</span><span class="tag is-grey-lightest">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Docker/"><span class="tag">Docker</span><span class="tag is-grey-lightest">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JAVA/"><span class="tag">JAVA</span><span class="tag is-grey-lightest">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenShift/"><span class="tag">OpenShift</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/"><span class="tag">程序人生</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DNS/"><span class="tag">DNS</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go/"><span class="tag">Go</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OKD/"><span class="tag">OKD</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%AE%B9%E5%99%A8/"><span class="tag">容器</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BD%91%E7%BB%9C/"><span class="tag">网络</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CKA/"><span class="tag">CKA</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ISCSI/"><span class="tag">ISCSI</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NFS/"><span class="tag">NFS</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/selenium/"><span class="tag">selenium</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/shell/"><span class="tag">shell</span><span class="tag is-grey-lightest">3</span></a></div></div><div class="field is-grouped is-grouped-multiline"><a class="tags has-addons" href="/tags/"><span class="tag">查看全部&gt;&gt;</span></a></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="订阅"></div></div></form></div></div></div><!--!--><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="山河已无恙" height="28"></a><p class="size-small"><span>&copy; 2023 山河已无恙</span>  Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a> &amp; <a href="https://github.com/removeif/hexo-theme-amazing" target="_blank">Amazing</a> <br><span>© <a href="http://www.beian.miit.gov.cn/" target="_blank">备案号</a><br></span><span>© 版权说明：[本网站所有内容均收集于互联网或自己创作,<br />&nbsp;&nbsp;&nbsp;&nbsp;方便于网友与自己学习交流，如有侵权，请<a href="/message" target="_blank">留言</a>，立即处理]<br /></span><span><span id="statistic-times">loading...</span><script>function createTime(time) {
            var n = new Date(time);
            now.setTime(now.getTime() + 250),
                days = (now - n) / 1e3 / 60 / 60 / 24,
                dnum = Math.floor(days),
                hours = (now - n) / 1e3 / 60 / 60 - 24 * dnum,
                hnum = Math.floor(hours),
            1 == String(hnum).length && (hnum = "0" + hnum),
                minutes = (now - n) / 1e3 / 60 - 1440 * dnum - 60 * hnum,
                mnum = Math.floor(minutes),
            1 == String(mnum).length && (mnum = "0" + mnum),
                seconds = (now - n) / 1e3 - 86400 * dnum - 3600 * hnum - 60 * mnum,
                snum = Math.round(seconds),
            1 == String(snum).length && (snum = "0" + snum),
                document.getElementById("statistic-times").innerHTML = "❤️本站自 <strong>"+time.split(" ")[0].replace(/\//g,".")+"</strong> 已运行 <strong>" + dnum + "</strong> 天 <strong>" + hnum + "</strong> 小时 <strong>" + mnum + "</strong> 分 <strong>" + snum + "</strong> 秒！❤️";
        }var now = new Date();setInterval("createTime('2021/6/26 21:27:00')", 250,"");</script><br></span><div class="size-small"><span>❤️感谢 <strong><span id="busuanzi_value_site_uv">99+</span></strong> 小伙伴的 <strong><span id="busuanzi_value_site_pv">99+</span></strong> 次光临！❤️</span></div></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/removeif/hexo-theme-amazing"><i class="fab fa-github"></i></a></p></div><div class="sideMusic"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="/js/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script><meting-js style="width: auto;height: 2000px;" server="netease" type="playlist" id="2364053447" theme="#2980b9" loop="all" autoplay="false" order="list" storageName="aplayer-setting" lrctype="0" list-max-height="400px" fixed="true"></meting-js></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" async></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><!--!--><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/KaTeX/0.11.1/katex.min.css"><script src="https://cdnjs.loli.net/ajax/libs/KaTeX/0.11.1/katex.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/KaTeX/0.11.1/contrib/auto-render.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/KaTeX/0.11.1/contrib/mhchem.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdnjs.loli.net/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><div id="outdated"><h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly.&amp;npsb;<a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now </a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">×</a></p></div><script src="https://cdnjs.loli.net/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js" defer></script><script>window.addEventListener("load", function () {
            outdatedBrowser({
                bgColor: '#f25648',
                color: '#ffffff',
                lowerThan: 'object-fit' // display on IE11 or below
            });
        });</script><!--!--><script src="/js/main.js" defer></script><script>$.getScript('/js/comment-issue-data.js',function(){loadIssueData('9fdc9739266d48d5f62e','c1cc33697d099a2197650ec9dadcb16bd4904655','LIRUILONGS','blog_comment',false);})</script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script><script type="text/javascript">var pjax = new Pjax({
            elements: "a",//代表点击链接就更新
            selectors: [  //代表要更新的节点
                ".section",
                "title"
            ],
            cache: true,
            cacheBust:false
        })

        function loadBusuanzi(){
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js", function () {});
        }

        function loadMathJax() { //加载mathjax
            $.getScript("//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML", function () {
                MathJax.Hub.Config({ tex2jax: { inlineMath: [['$', '$'], ['\(', '\)']] } });
                var math = document.getElementsByClassName("entry-content")[0];
                MathJax.Hub.Queue(["Typeset", MathJax.Hub, math]);
            });
        };

        // 开始 PJAX 执行的函数
        document.addEventListener('pjax:send', function () {
        });
        
        // PJAX 完成之后执行的函数，可以和上面的重载放在一起
        document.addEventListener('pjax:complete', function () {
            $(".section").css({opacity:1});
            if(false){
                $.getScript('/js/comment-issue-data.js',function(){loadIssueData('9fdc9739266d48d5f62e','c1cc33697d099a2197650ec9dadcb16bd4904655','LIRUILONGS','blog_comment',false);});
            }
            if(false){
                loadMathJax();
            }
            loadMainJs(jQuery, window.moment, window.ClipboardJS, window.IcarusThemeSettings);
            loadBackTop();
            loadBusuanzi();
            if(typeof loadBanner == 'function'){
                loadBanner();
            }
        });</script></body></html>